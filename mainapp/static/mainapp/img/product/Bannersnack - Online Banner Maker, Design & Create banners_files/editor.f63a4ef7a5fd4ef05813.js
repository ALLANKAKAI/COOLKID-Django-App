(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1001:function(e,t,n){"use strict";t.a=[{value:1,text:"Once"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"},{value:6,text:"6"},{value:7,text:"7"},{value:0,text:"Forever"}]},1002:function(e,t,n){e.exports={slidesContainer:"b7m",generator:"b7n",slidesList:"b7o",addNewSlide:"b7p",slideItem:"b7q",shake:"b7r","fade-in":"b7s"}},1003:function(e,t,n){e.exports={elementContainer:"af5",readOnly:"af6",innerContainer:"af7",hoverable:"af8",selected:"af9",selectingHover:"afa",highlighted:"afb",animateHelper:"afc",eff:"afd",wrapperElement:"afe",element:"aff",innerElement:"afg",text:"afh",lockIcon:"afi",clipart:"afj",shake:"afk","fade-in":"afl"}},1004:function(e,t,n){e.exports={elementContainer:"aek",readOnly:"ael",innerContainer:"aem",hoverable:"aen",selected:"aeo",selectingHover:"aep",highlighted:"aeq",animateHelper:"aer",eff:"aes",wrapperElement:"aet",element:"aeu",innerElement:"aev",text:"af0",lockIcon:"af1",embedCodeContainer:"af2",shake:"af3","fade-in":"af4"}},1005:function(e,t,n){e.exports={elementContainer:"acf",readOnly:"acg",innerContainer:"ach",hoverable:"aci",selected:"acj",selectingHover:"ack",highlighted:"acl",animateHelper:"acm",eff:"acn",wrapperElement:"aco",element:"acp",innerElement:"acq",text:"acr",lockIcon:"acs",container:"act",preloaderContainer:"acu",preloader:"acv",shake:"ad0","fade-in":"ad1"}},1006:function(e,t,n){e.exports={elementContainer:"ad2",readOnly:"ad3",innerContainer:"ad4",hoverable:"ad5",selected:"ad6",selectingHover:"ad7",highlighted:"ad8",animateHelper:"ad9",eff:"ada",wrapperElement:"adb",element:"adc",innerElement:"add",text:"ade",lockIcon:"adf",shake:"adg","fade-in":"adh"}},1007:function(e,t,n){e.exports={elementContainer:"agb",readOnly:"agc",innerContainer:"agd",hoverable:"age",selected:"agf",selectingHover:"agg",highlighted:"agh",animateHelper:"agi",eff:"agj",wrapperElement:"agk",element:"agl",innerElement:"agm",text:"agn",lockIcon:"ago",svg:"agp",svgContainer:"agq",svgImg:"agr",error:"ags",shake:"agt","fade-in":"agu"}},1008:function(e,t,n){e.exports={elementContainer:"ae3",readOnly:"ae4",innerContainer:"ae5",hoverable:"ae6",selected:"ae7",selectingHover:"ae8",highlighted:"ae9",animateHelper:"aea",eff:"aeb",wrapperElement:"aec",element:"aed",innerElement:"aee",text:"aef",lockIcon:"aeg",isFocused:"aeh",shake:"aei","fade-in":"aej"}},1009:function(e,t,n){e.exports={elementContainer:"adi",readOnly:"adj",innerContainer:"adk",hoverable:"adl",selected:"adm",selectingHover:"adn",highlighted:"ado",animateHelper:"adp",eff:"adq",wrapperElement:"adr",element:"ads",innerElement:"adt",text:"adu",lockIcon:"adv",youtubeCover:"ae0",shake:"ae1","fade-in":"ae2"}},1010:function(e,t,n){e.exports={elementContainer:"a65",readOnly:"a66",innerContainer:"a67",hoverable:"a68",selected:"a69",selectingHover:"a6a",highlighted:"a6b",animateHelper:"a6c",eff:"a6d",wrapperElement:"a6e",element:"a6f",innerElement:"a6g",text:"a6h",lockIcon:"a6i",shake:"a6j","fade-in":"a6k"}},1011:function(e,t,n){e.exports={banner:"qh",slide:"qi",overlay:"qj",readOnly:"qk"}},1012:function(e,t,n){e.exports={transitionContainer:"bvn",addNewTransitionButton:"bvo",transitionSettings:"bvp",dragBar:"bvq",resizing:"bvr",transitionDuration:"bvs",transitionDurationSeconds:"bvt",transitionIcon:"bvu",shake:"bvv","fade-in":"c00"}},1013:function(e,t,n){e.exports={iconSwitchButton:"ai5",switchButtonCheckbox:"ai6",switchButtonBackground:"ai7",blue:"ai8",switchButton:"ai9",switchLabel:"aia",medium:"aib",checked:"aic",shake:"aid","fade-in":"aie"}},1014:function(e,t,n){e.exports={slideContainer:"bck",slideWrapper:"bcl",slide:"bcm",isDragging:"bcn",resizing:"bco",buttons:"bcp",selected:"bcq",resizeHandler:"bcr",visible:"bcs",slidePreview:"bct",hidePreview:"bcu",slideInfo:"bcv",slideName:"bd0",wrappingContainer:"bd1",seconds:"bd2",stopSlide:"bd3",checked:"bd4",transition:"bd5",shake:"bd6","fade-in":"bd7"}},1015:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M0 0h24v24H0z"}),r.a.createElement("path",{fill:"#3C4258",fillRule:"nonzero",d:"M21 6H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 16V8l6 4-6 4z"}),r.a.createElement("path",{fill:"#3C4258",fillRule:"nonzero",d:"M5 2h14a1 1 0 0 1 1 1v3H4V3a1 1 0 0 1 1-1zM19 22H5a1 1 0 0 1-1-1v-3h16v3a1 1 0 0 1-1 1z",opacity:".4"})))},1016:function(e,t,n){e.exports={numberInput:"anl",controls:"anm",up:"ann",down:"ano",active:"anp",whiteBlue:"anq",dark:"anr",whiteDarkGrey:"ans",shake:"ant","fade-in":"anu"}},1018:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(387),s=n(814),c=n(1135),u=function(e){var t=[{label:l.a.playAllSlides,onClick:function(){e.onPlayClick(0)}}];return r.a.createElement(s.a,{onMainButtonClick:function(){e.onPlayClick(e.selectedSlideId)},mainButtonIcon:c.a,tooltipText:e.multipleSlides?l.a.playFromCurrentSlide:l.a.play,showDropdownArrow:e.multipleSlides,dropdownItems:t,activeButton:e.previewBannerPopinVisible})};u.propTypes={onPlayClick:i.a.func,multipleSlides:i.a.bool,selectedSlideId:i.a.number,previewBannerPopinVisible:i.a.bool},u.defaultProps={onPlayClick:function(){},multipleSlides:!1,selectedSlideId:0,previewBannerPopinVisible:!1},t.a=u},1019:function(e,t,n){e.exports={container:"te",selected:"tf",mainButton:"tg",iconAndLabel:"th",icon:"ti",label:"tj",active:"tk",arrowContainer:"tl",arrowDown:"tm",dropdown:"tn",element:"to",shake:"tp","fade-in":"tq"}},1020:function(e,t,n){"use strict";var a=n(65),r=n(691),o=Object(a.createSelector)([function(e){return e.bannerCreator.generator.jsons.current},r.a],(function(e,t){var n={};return e.forEach((function(e){var a=e.banner,r=a.width,o=a.height,i=a.sizeVariation,l=e.hash;n[l]=t.size&&t.find((function(e){var t=e.presetSize,n=t.width,a=t.height,l=e.variation;return!(Math.round(n)!==Math.round(r)||Math.round(a)!==Math.round(o)||i&&l&&l!==i)}))})),n}));t.a=o},1021:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(482),r=function(e){if(e){var t=e.fontType||e.get&&e.get("fontType");return t===a.a.CUSTOM||t===a.a.BANNERSNACK}return!1},o=function(e){return e.some((function(e){var t=e.style,n=e.children;return r(t)||n&&n.some((function(e){var t=e.style;return r(t)}))}))}},1022:function(e,t,n){e.exports={container:"jn",notCompatible:"jo",shake:"jp","fade-in":"jq"}},1023:function(e,t,n){"use strict";t.a=[6,8,10,12,14,16,18,20,32,42,56,64,72,96,120,172,200,240]},1024:function(e,t,n){"use strict";t.a={MIN_FONT_SIZE:6,MAX_FONT_SIZE:240,MAX_SLIDER_FONT_SIZE:120,MAX_DIGITS:3,MAX_TYPOGRAPHY_FONT_SIZE:64,MIN_TYPOGRAPHY_FONT_SIZE:10}},1025:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"20",height:"18",viewBox:"0 0 20 18"},r.a.createElement("g",{fillRule:"evenodd",transform:"translate(-2 -3)"},r.a.createElement("path",{d:"M15,19 L15,22 L13,22 L13,3 L15,3 L15,6 L23,6 L23,9 L15,9 L15,11 L20,11 L20,14 L15,14 L15,16 L17, 16 L17,19 L15,19 Z M11,19 L2,19 L2,16 L11,16 L11,19 Z M11,14 L5,14 L5,11 L11,11 L11,14 Z M11,9 L8, 9 L8,6 L11,6 L11,9 Z"})))},1026:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(430),r=function(e){return function(t,n){var r=n().bannerCreator.editor.tools.resizePanel.selectedSizes;if(r.size){var o=e.last().banner,i=o.width,l=o.height,s=o.sizeVariation;r.some((function(e){var t=e.width,n=e.height,a=e.variation;return i===t&&n===l&&s===a}))&&t({type:a.ib,payload:{sizeData:{width:i,height:l,variation:s}}})}}},o=function(){return function(e,t){var n=t().bannerCreator.editor.history,o=n.past,i=n.pastChangesBeforeCrop,l=t().bannerCreator.editor.stage.cropElementId;o.size&&e(r(o)),l&&o.size===i||e({type:a.Ic})}},i=function(){return function(e,t){var n=t().bannerCreator.editor.history.future;n.size&&e(r(n)),e({type:a.X})}}},1027:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(1028),r=function(e){return a.a.find((function(t){return t>e}))},o=function(e){return a.a.slice().reverse().find((function(t){return t<e}))}},1028:function(e,t,n){"use strict";t.a=[.25,.5,.75,1,1.25,1.5,2]},1029:function(e,t,n){e.exports={wrapper:"amn",selected:"amo",transitionContainer:"amp",transition:"amq",locked:"amr",builds:"ams",faded:"amt",build:"amu",buildIcon:"amv",buildText:"an0",transitionValue:"an1",dragArea:"an2",separator:"an3",dragSeparator:"an4",isGroupHover:"an5",dragMargin:"an6",hasTransition:"an7",noTransition:"an8",openedBuildPanel:"an9",midPlaceholder:"ana",resizingMargin:"anb",unlockTransitionContent:"anc",dragTransition:"and",shake:"ane","fade-in":"anf"}},1030:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(388),i=n(50),l=n.n(i),s=n(704),c=n(4),u=n.n(c),d=n(449),p=n.n(d),f=n(1002),h=n.n(f),m=n(402),b=n(392),g=n(386),y=n(821),v=n(676),E=n(492),S=Object(g.c)((function(e,t){var n=e.bannerCreator.generator.jsons.current.first().banner,a=n.width,r=n.height,o=n.backgroundColor,i=n.resources,l=Object(E.a)(e).get(t.index);return{sidebar:!1,readOnly:!0,shouldUpdate:!0,slide:l,width:a,height:r,background:o,bannerResources:i,elements:l.elements}}),null)(v.a),O=n(7),C=n(17),w=n(399),T=n(117),k=n(1012),I=n.n(k),L=n(387),P=n(677),M=n(434),R=n(409),x=n(65),D=n(527),j=n(391),N=n(413),A=Object(x.createSelector)([R.a],(function(e){var t=new D.b,n=void 0,a=void 0,r=!0,o=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value,u=c.buildIn,d=c.buildOut;if(c.layerType!==j.b.YOUTUBE){if(n){var p=n.keySeq().toArray(),f=!0,h=!1,m=void 0;try{for(var b,g=p[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){var y=b.value;n[y]!==u[y]&&(n=n.set(y,t[y]))}}catch(e){h=!0,m=e}finally{try{!f&&g.return&&g.return()}finally{if(h)throw m}}}else n=u;if(a){var v=a.keySeq().toArray(),E=!0,S=!1,O=void 0;try{for(var C,w=v[Symbol.iterator]();!(E=(C=w.next()).done);E=!0){var T=C.value;a[T]!==d[T]&&(a=a.set(T,t[T]))}}catch(e){S=!0,O=e}finally{try{!E&&w.return&&w.return()}finally{if(S)throw O}}}else a=d}}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}var k=e.filter((function(e){return e.layerType!==j.b.YOUTUBE})),I=k.map((function(e){return e.buildIn.type})).toSet(),L=k.map((function(e){return e.buildOut.type})).toSet();return 1!==I.size&&(n=n.set("type",N.a.UNDEFINED)),1!==L.size&&(a=a.set("type",N.a.UNDEFINED)),{buildIn:n,buildOut:a}})),_=n(675),B=n(453),H=n(430),U=function(e){return{type:H.pb,payload:{buildType:e}}},z=n(809),G=Object(x.createSelector)([R.a],(function(e){return e.size>0&&!e.some((function(e){return e.layerType!==j.b.TEXT}))})),F=n(579),W=n(56),V=n(487),q=n(741),K=n(406),Y=n(400),X=n(810),Z=Object(g.c)((function(e,t){var n=t.left,a=t.top,r=t.slideId,o=t.minTop,i=t.maxTop,l=e.bannerCreator,s=l.app.mode,c=l.editor,u=c.banner,d=c.inspector.transitions.buildType,p=l.transitions,f=p.copiedBuildType,h=p.copiedTransition,m=p.copiedMidTransition,b=Object(X.a)(e),g=s===W.a.GENERATOR,y=Object(R.a)(e),v=Object(M.a)(e),E=y.every((function(e){return v.contains(e)})),S=G(e),O=!1,C=!0,w=Object(Y.a)(e).bmTransitions;if(g){var T=!0,k=!1,I=void 0;try{for(var L,P=y[Symbol.iterator]();!(T=(L=P.next()).done);T=!0){var x=L.value;C=C&&-1!==x.lockedProperties.indexOf(F.a.TRANSITION)}}catch(e){k=!0,I=e}finally{try{!T&&P.return&&P.return()}finally{if(k)throw I}}O=Object(q.a)(e).size>0&&C}var D=void 0,j=void 0,N=void 0,_=void 0;if(r)_=u.banner.getIn(u.bannerPathMap[r]).transition;else if(y.size){var B=A(e);D=B.buildIn,j=B.buildMid,N=B.buildOut}return{left:n,top:a,slideId:r,minTop:o,maxTop:i,copiedTransition:h,pasteTransitionEnabled:!!f,copiedMidTransition:m,isSlideTransition:!!r,isSelectionAndAreAllTexts:S,transitionsAreLimited:w===K.a.LIMITED,animating:Object(z.a)(e),buildIn:D,buildMid:j,buildOut:N,buildType:d,transition:_,selectedElementsAreOverlay:E,isLocked:C,isGenerator:g,confirmPopinRequired:O,lang:b}}),(function(e){return{onChangeBuildType:function(t){e(U(t))},onCopyTransition:function(t,n){e(Object(_.a)(t,n))},onPasteTransition:function(t){e(Object(w.M)(t))},onSlideTransitionChange:function(t,n){e(Object(w.G)([{id:t,props:n}]))},onTransitionChange:function(t){e(Object(w.M)(t))},onAnimateChange:function(t,n){e(t?Object(B.m)(n):Object(B.u)())},showUnlockTransitionPopin:function(){e(Object(V.l)({unlockTransition:!0}))},setLockedProperties:function(){e(Object(w.K)(F.a.TRANSITION))}}}))(P.a),J=n(504),Q=Object(g.c)((function(e,t){var n=e.bannerCreator.transitions,a=n.copiedBuildType,r=n.copiedTransition,o=n.copiedMidTransition,i=t.slideIndex,l=Object(E.a)(e).get(i).transition;return{copiedTransition:r,pasteTransitionEnabled:!!a,copiedMidTransition:o,isSlideTransition:!0,transitionsAreLimited:Object(Y.a)(e).bmTransitions===K.a.LIMITED,transition:l,isGeneratorMode:!0}}),(function(e){return{onSlideTransitionChange:function(t,n){e(Object(J.k)(t,n))}}}))(P.a),$=n(535),ee=n(403),te=n(393),ne=r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("defs",null,r.a.createElement("filter",{id:"show-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox"},r.a.createElement("fegaussianblur",{in:"SourceGraphic"}))),r.a.createElement("path",{fillRule:"evenodd",d:"M1,3.41421356 L1,22 C1,22.5522847 1.44771525,23 2,23 L20.5857864,23 C21.1380712,23 21.5857864,22.5522847 21.5857864,22 C21.5857864,21.7347835 21.4804296,21.4804296 21.2928932,21.2928932 L2.70710678,2.70710678 C2.31658249,2.31658249 1.68341751,2.31658249 1.29289322,2.70710678 C1.10535684,2.89464316 1,3.14899707 1,3.41421356 Z",transform:"matrix(-1 0 0 1 24 0)"})),ae=r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("defs",null,r.a.createElement("filter",{id:"hide-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox"},r.a.createElement("fegaussianblur",{in:"SourceGraphic"}))),r.a.createElement("path",{fillRule:"evenodd",d:"M1,3.41421356 L1,22 C1,22.5522847 1.44771525,23 2,23 L20.5857864,23 C21.1380712,23 21.5857864,22.5522847 21.5857864,22 C21.5857864,21.7347835 21.4804296,21.4804296 21.2928932,21.2928932 L2.70710678,2.70710678 C2.31658249,2.31658249 1.68341751,2.31658249 1.29289322,2.70710678 C1.10535684,2.89464316 1,3.14899707 1,3.41421356 Z"})),re=r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("defs",null,r.a.createElement("filter",{id:"cross-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox"},r.a.createElement("fegaussianblur",{in:"SourceGraphic"})),r.a.createElement("filter",{id:"cross-b",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox"},r.a.createElement("fegaussianblur",{in:"SourceGraphic"}))),r.a.createElement("g",{fillRule:"evenodd"},r.a.createElement("path",{d:"M1,3.41421356 L1,22 C1,22.5522847 1.44771525,23 2,23 L20.5857864,23 C21.1380712,23 21.5857864,22.5522847 21.5857864,22 C21.5857864,21.7347835 21.4804296,21.4804296 21.2928932,21.2928932 L2.70710678,2.70710678 C2.31658249,2.31658249 1.68341751,2.31658249 1.29289322,2.70710678 C1.10535684,2.89464316 1,3.14899707 1,3.41421356 Z"}),r.a.createElement("path",{d:"M1,3.41421356 L1,22 C1,22.5522847 1.44771525,23 2,23 L20.5857864,23 C21.1380712,23 21.5857864,22.5522847 21.5857864,22 C21.5857864,21.7347835 21.4804296,21.4804296 21.2928932,21.2928932 L2.70710678,2.70710678 C2.31658249,2.31658249 1.68341751,2.31658249 1.29289322,2.70710678 C1.10535684,2.89464316 1,3.14899707 1,3.41421356 Z",transform:"matrix(-1 0 0 1 24 0)"}))),oe=n(666),ie=n(480),le=n(483),se=n(531),ce=n(407),ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var de=l.a.bind(I.a),pe=.05,fe=.2,he=2,me=20,be=180,ge=130,ye=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentWillReceiveProps=function(e){n.setState({height:n.convertDurationToHeight(e.duration)})},n.componentWillUpdate=function(e,t){var a=n.state.showInspectorTransitions;a&&!t.showInspectorTransitions?document.body.removeChild(n.inspectorTransitionsContainer):!a&&t.showInspectorTransitions&&(n.inspectorTransitionsContainer=document.createElement("div"),document.body.appendChild(n.inspectorTransitionsContainer))},n.componentDidUpdate=function(e,t){var a=n.state.showInspectorTransitions;a&&!t.showInspectorTransitions?document.body.addEventListener("click",n.handleClickEvent):!a&&t.showInspectorTransitions&&document.body.removeEventListener("click",n.handleClickEvent)},n.onAddNewTransitionClick=function(){n.toggleInspectorTransitionsVisibility()},n.onResize=function(){n.forceUpdate()},n.onEditTransitionClick=function(){n.dragging||n.toggleInspectorTransitionsVisibility()},n.onEditTransitionMouseDown=function(){n.dragging=!1},n.onDragBarMouseMove=function(e){var t=n.props,a=t.onSlideTransitionChange,r=t.slideId,o=t.slideIndex,i=t.isGeneratorMode,l=n.transitionHeight+e.screenY-n.transitionY,s=n.convertHeightToDuration(l);le.a.MIN<=s&&s<=le.a.MAX&&n.setState({height:l}),a(i?o:r,{transition:{duration:s=Object(ie.a)(s,le.a.MIN,le.a.MAX)}}),e.stopPropagation()},n.onDragBarMouseDown=function(e){n.dragging=!0,n.transitionY=e.screenY,n.transitionHeight=n.state.height,n.changeInspectorTransitionsVisibility(!1),window.addEventListener("mouseup",n.onDragBarMouseUp),window.addEventListener("mousemove",n.onDragBarMouseMove),e.stopPropagation()},n.onDragBarMouseUp=function(e){window.removeEventListener("mouseup",n.onDragBarMouseUp),window.removeEventListener("mousemove",n.onDragBarMouseMove),e.stopPropagation()},n.onDragBarClick=function(e){e.stopPropagation()},n.onLabelClick=function(e){e.stopPropagation()},n.onTransitionDurationClick=function(e){e.stopPropagation()},n.onDurationChange=function(e){var t=n.props,a=t.onSlideTransitionChange,r=t.slideId,o=t.slideIndex;a(t.isGeneratorMode?o:r,{transition:{duration:Object(ie.a)(e,le.a.MIN,le.a.MAX)}})},n.getInspectorTransitionsContainer=function(){var e=n.props,t=e.slideId,a=e.slideIndex,o=e.isGeneratorMode;if(!n.state.showInspectorTransitions||!n.refTransitionsContainer)return null;var i=n.refTransitionsContainer.getBoundingClientRect(),l=i.top,s=i.left,c=r.a.createElement("div",{ref:function(e){n.refSlidesInspectorTransitions=e},"data-qa":ce.Z},o?r.a.createElement(Q,{slideIndex:a,left:s+160+window.pageXOffset,top:l,maxTop:window.innerHeight-be,minTop:ge}):r.a.createElement(Z,{slideId:t,left:s-272+window.pageXOffset,top:l,maxTop:window.innerHeight-be,minTop:ge}));return Object(T.createPortal)(c,n.inspectorTransitionsContainer)},n.getTransitionIcon=function(){var e=null;switch(n.props.crosstype){case N.a.SHOW:e=ne;break;case N.a.HIDE:e=ae;break;case N.a.CROSS:default:e=re}return r.a.createElement(ee.a,{skin:O.a.LIGHT_GREY},e)},n.getTransition=function(){var e=n.props,t=e.type,a=e.duration,o=n.state.height;if(t===N.a.NONE)return r.a.createElement("div",{className:I.a.addNewTransitionButton,onClick:n.onAddNewTransitionClick,ref:function(e){n.refAddNewTransitionButton=e}},L.a.addTransition);var i={height:me+o+"px"};return r.a.createElement("div",{className:de("transitionSettings",{resizing:n.dragging}),ref:function(e){n.refTransitionSettings=e},style:i,onClick:n.onEditTransitionClick,onMouseDown:n.onEditTransitionMouseDown},r.a.createElement("div",{className:I.a.transitionIcon},n.getTransitionIcon()),r.a.createElement("div",{className:I.a.transitionDuration},r.a.createElement("div",{onClick:n.onTransitionDurationClick},r.a.createElement(se.a,{bold:!0,isNumeric:!0,text:parseFloat(a).toFixed(1),maxLength:4,size:C.a.SMALL,align:te.a.RIGHT,skin:O.a.BLUE,editOn:$.a.CLICK,onChange:n.onDurationChange,onLabelClick:n.onLabelClick})),r.a.createElement("span",{className:I.a.transitionDurationSeconds},"s")),r.a.createElement("div",{className:I.a.dragBar,onMouseDown:n.onDragBarMouseDown,onClick:n.onDragBarClick},r.a.createElement(ee.a,{skin:O.a.LIGHT_GREY},oe.a)))},n.toggleInspectorTransitionsVisibility=function(){n.setState((function(e){return{showInspectorTransitions:!e.showInspectorTransitions}}))},n.handleClickEvent=function(e){if(n.refSlidesInspectorTransitions){var t=n.refSlidesInspectorTransitions.parentNode;t.contains(e.target)||e.target===t||n.refTransitionSettings&&n.refTransitionSettings.contains(e.target)||n.refAddNewTransitionButton&&n.refAddNewTransitionButton.contains(e.target)||n.changeInspectorTransitionsVisibility(!1)}},n.changeInspectorTransitionsVisibility=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.setState({showInspectorTransitions:e})},n.convertDurationToHeight=function(e){return e<=he?Math.round(e/pe):Math.round(he/pe+(e-he)/fe)},n.convertHeightToDuration=function(e){return e<=he/pe?Math.round(e*pe*10)/10:he+Math.ceil((e-he/pe)*fe*10)/10},n.state={showInspectorTransitions:!1,height:n.convertDurationToHeight(e.duration)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ue(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this;return this.props.visible?r.a.createElement("div",{className:I.a.transitionContainer,ref:function(t){e.refTransitionsContainer=t}},this.getTransition(),this.getInspectorTransitionsContainer()):null}}]),t}(a.Component);ye.propTypes={visible:u.a.bool,slideId:u.a.number,type:u.a.string,duration:u.a.number,crosstype:u.a.oneOf([N.a.SHOW,N.a.HIDE,N.a.CROSS]),onSlideTransitionChange:u.a.func,isGeneratorMode:u.a.bool,slideIndex:u.a.number},ye.defaultProps={visible:!1,slideId:0,type:"",duration:0,crosstype:N.a.SHOW,onSlideTransitionChange:function(){},isGeneratorMode:!1,slideIndex:0};var ve=ye,Ee=n(746),Se=Object(g.c)((function(e,t){var n=t.slideId,a=e.bannerCreator.editor,r=a.slidesAndLayers.slidesScroll,o=Object(Y.a)(e).bmTransitions,i=a.banner,l=i.bannerPathMap,s=i.banner.getIn(l[n]).transition,c=s.type,u=s.duration,d=s.crosstype;return{visible:o!==K.a.NO&&Object(Ee.a)(e)>1,type:c,duration:u,crosstype:d,slidesScroll:r}}),(function(e){return{onSlideTransitionChange:function(t,n){e(Object(w.G)([{id:t,props:n}]))}}}))(ve),Oe=Object(g.c)((function(e,t){var n=e.bannerCreator.generator.slides.slidesScroll,a=t.slideIndex,r=Object(E.a)(e).get(a).transition,o=r.type,i=r.duration,l=r.crosstype;return{visible:Object(Y.a)(e).bmTransitions!==K.a.NO&&Object(E.a)(e).size>1,slideIndex:a,type:o,duration:i,crosstype:l,slidesScroll:n,isGeneratorMode:!0}}),(function(e){return{onSlideTransitionChange:function(t,n){e(Object(J.k)(t,n))}}}))(ve),Ce=n(1014),we=n.n(Ce),Te=n(411),ke=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M28,18 L20,18 C18.9,18 18,18.9 18,20 L18,29 L20,29 L20,20 L28,20 L28,18 Z M32.1333333,22 L23.8666667,22 C22.84,22 22,22.7 22,23.5555556 L22,32.4444444 C22,33.3 22.84,34 23.8666667,34 L32.1333333,34 C33.16,34 34,33.3 34,32.4444444 L34,23.5555556 C34,22.7 33.16,22 32.1333333,22 Z M32,32 L24,32 L24,24 L32,24 L32,32 Z",transform:"translate(-14 -14)"})),Ie=n(745),Le=r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("rect",{className:"stopSlideRectangle",width:"18",height:"18",x:"3",y:"3",fill:"#F33246",rx:"2"}),r.a.createElement("path",{className:"stopSlideSquare",fill:"#FFF",d:"M8 8h8v8H8z"}))),Pe=n(429),Me=n(405),Re=n(901),xe=n(735),De=n(397),je=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ne=l.a.bind(we.a),Ae=138,_e=45,Be=70,He=14.6,Ue=Object(s.SortableHandle)((function(e){var t=e.id,n=e.name,a=e.index,o=e.visible,i=e.duration,l=e.selected,s=e.resizing,c=e.stopSlide,u=e.slideStyle,d=e.hideButtons,p=e.showButtons,f=e.deleteButton,h=e.getSlideZoom,m=e.onLabelClick,g=e.onSlideClick,v=e.isGeneratorMode,E=e.duplicateButton,w=e.onStopSlideClick,T=e.onDurationChange,k=e.onResizeMouseDown,I=e.generateMode,P=I?null:r.a.createElement(b.b,{title:L.a.stopSlide,placement:Me.a.LEFT},r.a.createElement("div",{className:Ne("stopSlide",{checked:c})},r.a.createElement(Te.a,{icon:Le,skin:O.a.BLUE,onClick:w}))),M=I?null:r.a.createElement("div",{className:we.a.resizeHandler,onMouseDown:k,"data-resize-handler":"resize"},xe.a);return r.a.createElement("div",{className:Ne("slide",{selected:l,resizing:s}),onClick:g,onMouseEnter:p,onMouseLeave:d,style:u},r.a.createElement("div",{className:Ne("buttons",{visible:o})},E,f),r.a.createElement("div",{className:Ne("slidePreview",{hidePreview:i<1})},v?r.a.createElement(S,{index:a,slideId:t,zoom:h(),readOnly:!0}):r.a.createElement(y.a,{slideId:t,zoom:h(),readOnly:!0})),r.a.createElement("div",{className:we.a.slideInfo},r.a.createElement("span",{className:we.a.slideName},n),r.a.createElement("div",{className:we.a.wrappingContainer},r.a.createElement(se.a,{bold:!0,isNumeric:!0,text:parseFloat(i).toFixed(1),maxLength:4,size:C.a.SMALL,align:te.a.RIGHT,skin:O.a.BLUE,editOn:I?null:$.a.CLICK,onChange:T,onLabelClick:m}),r.a.createElement("span",{className:we.a.seconds},"s"),P)),M)})),ze=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onSlideClick=function(t){if(!Object(De.s)(t)){var n=e.props,a=n.id,r=n.selected,o=n.onSlideSelect,i=n.index,l=n.isGeneratorMode;r||o(l?i:a)}},e.onLabelClick=function(e){e.stopPropagation()},e.onDuplicateClick=function(t){var n=e.props,a=n.id,r=n.isGeneratorMode,o=n.onDuplicateClick,i=n.index;o(r?i:a),t.stopPropagation()},e.onDeleteClick=function(t){var n=e.props,a=n.id,r=n.isGeneratorMode,o=n.onDeleteClick,i=n.index;o(r?i:a),t.stopPropagation()},e.onResizeMouseMove=function(t){var n=e.props.duration,a=parseFloat(e.startDuration)+.1*(t.clientY-e.initialPos);a!==n&&e.onDurationChange(a,!0)},e.onResizeMouseUp=function(){var t=e.props,n=t.id,a=t.onMouseUp;e.setState({resizing:!1}),window.removeEventListener("mousemove",e.onResizeMouseMove),window.removeEventListener("mouseup",e.onResizeMouseUp),a(n)},e.onResizeMouseDown=function(t){e.setState({resizing:!0}),e.initialPos=t.clientY,e.startDuration=e.props.duration,window.addEventListener("mousemove",e.onResizeMouseMove),window.addEventListener("mouseup",e.onResizeMouseUp),t.stopPropagation()},e.onDurationChange=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.props,r=a.id,o=a.duration,i=a.onDurationChange,l=a.isGeneratorMode,s=a.index,c=a.onMouseUp,u=Object(ie.a)(Object(Pe.a)(t),Re.a.MIN_SLIDE_DURATION,Re.a.MAX_SLIDE_DURATION);o!==u&&(i(l?s:r,u),n||c(r))},e.onStopSlideClick=function(t){var n=e.props,a=n.id,r=n.stopSlide,o=n.isGeneratorMode,i=n.index;(0,n.onStopSlideClick)(o?i:a,!r),t.stopPropagation()},e.getSlideZoom=function(){var t=e.props,n=t.bannerWidth,a=t.bannerHeight,r=e.getSlideHeight()-_e;return Math.min(r/a,Ae/n)},e.getSlideHeight=function(){var t=e.props.duration;return Math.ceil(Be+(t+.1)*He)},e.showButtons=function(){e.setState({visible:!0})},e.hideButtons=function(){e.setState({visible:!1})},e.state={resizing:!1,visible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),je(t,[{key:"render",value:function(){var e=this.state,t=e.resizing,n=e.visible,a=this.props,o=a.id,i=a.index,l=a.duration,s=a.stopSlide,c=a.selected,u=a.isOnlySlide,d=a.hideDuplicate,p=a.isDragging,f=a.isGeneratorMode,h=a.appMode===W.a.GENERATE,m=f?i+1:i,g=m<10?"0"+m:m,y={height:this.getSlideHeight()+"px"},v=u||h?null:r.a.createElement(b.b,{title:L.a.delete},r.a.createElement("span",null,r.a.createElement(Te.a,{icon:Ie.a,skin:O.a.BLACK,size:C.a.LARGE,onClick:this.onDeleteClick}))),E=d||h?null:r.a.createElement(b.b,{title:L.a.duplicate},r.a.createElement("span",null,r.a.createElement(Te.a,{icon:ke,skin:O.a.BLACK,size:C.a.LARGE,onClick:this.onDuplicateClick}))),S=p?r.a.createElement("div",{className:we.a.slideWrapper}):null,w=h?null:r.a.createElement("div",{className:we.a.transition},f?r.a.createElement(Oe,{slideIndex:i}):r.a.createElement(Se,{slideId:o}));return r.a.createElement("div",{className:we.a.slideContainer},r.a.createElement(Ue,{id:o,name:g,index:i,visible:n,duration:l,selected:c,resizing:t,stopSlide:s,slideStyle:y,deleteButton:v,duplicateButton:E,isGeneratorMode:f,showButtons:this.showButtons,hideButtons:this.hideButtons,getSlideZoom:this.getSlideZoom,onLabelClick:this.onLabelClick,onSlideClick:this.onSlideClick,onDurationChange:this.onDurationChange,onStopSlideClick:this.onStopSlideClick,onResizeMouseDown:this.onResizeMouseDown,generateMode:h}),w,S)}}]),t}(a.Component);ze.propTypes={id:u.a.number,index:u.a.number,duration:u.a.number,stopSlide:u.a.bool,selected:u.a.bool,bannerWidth:u.a.number,bannerHeight:u.a.number,hideDuplicate:u.a.bool,onSlideSelect:u.a.func,onDeleteClick:u.a.func,onDuplicateClick:u.a.func,isOnlySlide:u.a.bool,onDurationChange:u.a.func,onStopSlideClick:u.a.func,isDragging:u.a.bool,isGeneratorMode:u.a.bool,appMode:u.a.oneOf([W.a.CHOOSE_EDITOR,W.a.GENERATOR,W.a.EDITOR,W.a.GENERATE]),onMouseUp:u.a.func},ze.defaultProps={id:null,index:0,duration:null,stopSlide:!1,selected:!1,hideDuplicate:!1,bannerWidth:0,bannerHeight:0,onSlideSelect:function(){},onDeleteClick:function(){},onDuplicateClick:function(){},isOnlySlide:!1,onDurationChange:function(){},onStopSlideClick:function(){},isDragging:!1,isGeneratorMode:!1,appMode:W.a.EDITOR,onMouseUp:function(){}};var Ge=ze,Fe=function(e,t){var n=e.bannerCreator.editor.banner,a=n.bannerPathMap;return n.banner.getIn(a[t])},We=function(e){return e.bannerCreator.editor.banner.selectedSlideId},Ve=Object(o.Record)({id:null,duration:null,selected:!1,stopSlide:!1}),qe=function(){return Object(x.createSelector)([Fe,We],(function(e,t){var n=e.id,a=e.duration,r=e.stopSlide;return new Ve({id:n,duration:a,stopSlide:r,selected:n===t})}))},Ke=n(432),Ye=n(463),Xe=Object(g.c)((function(){var e=qe();return function(t,n){var a=t.bannerCreator,r=a.editor,o=a.app.mode,i=n.isOnlySlide,l=n.index,s=n.isDragging,c=e(t,n.id),u=c.id,d=c.duration,p=c.selected,f=c.stopSlide,h=r.banner.banner;return{id:u,index:l,duration:d,isDragging:s,stopSlide:f,selected:p,bannerWidth:h.width,bannerHeight:h.height,isOnlySlide:i,serviceType:Object(Ye.a)(t),hideDuplicate:Object(Y.a)(t).bmMultipleSlides===K.a.NO&&Ke.b,appMode:o}}}),(function(e){return{onSlideSelect:function(t){e(Object(w.O)(t))},onDuplicateClick:function(t){e(Object(w.s)(t))},onDeleteClick:function(t){e(Object(w.p)(t))},onDurationChange:function(t,n){e(Object(w.G)([{id:t,props:{duration:n}}]))},onStopSlideClick:function(t,n){e(Object(w.G)([{id:t,props:{stopSlide:n}}]))},onMouseUp:function(t){e(Object(w.z)(t))}}}))(Ge),Ze=n(886),Je=function(e,t){return Object(x.createSelector)([E.a],(function(e){return e.find((function(e){return e.id===t}))}))},Qe=Object(g.c)((function(){return function(e,t){var n=e.bannerCreator.generator,a=t.isOnlySlide,r=t.index,o=t.isDragging,i=Je(e,t.id)(e,t.id),l=i.id,s=i.duration,c=i.stopSlide,u=n.slides.selectedSlideIndex,d=n.jsons.current.first().banner,p=d.width,f=d.height,h=Object(Y.a)(e).bmMultipleSlides;return{id:l,index:r,duration:s,isDragging:o,stopSlide:c,selected:u===t.index,bannerWidth:p,bannerHeight:f,isOnlySlide:a,serviceType:Object(Ye.a)(e),hideDuplicate:h===K.a.NO&&Ke.b,isGeneratorMode:!0}}}),(function(e){return{onSlideSelect:function(t){e(Object(Ze.d)(t))},onDuplicateClick:function(t){e(Object(Ze.c)(t))},onDeleteClick:function(t){e(Object(Ze.b)(t))},onDurationChange:function(t,n){var a=parseFloat(n);e(Object(J.k)(t,{duration:a}))},onStopSlideClick:function(t,n){e(Object(J.k)(t,{stopSlide:n}))}}}))(Ge),$e=n(967),et=n(398),tt=n(645),nt=n(602),at=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var rt=l.a.bind(h.a),ot=tt.a.MENU_HEIGHT+nt.a.MENU_HEIGHT+92+15+42,it=tt.a.MENU_HEIGHT+nt.a.MENU_HEIGHT+50+15+44,lt=Object(s.SortableElement)((function(e){var t=e.slides,n=e.slide,a=e.slidesCount,o=e.setRefSlide,i=e.isDragging,l=e.isGeneratorMode;return r.a.createElement("div",{className:h.a.slideItem,ref:o},l?r.a.createElement(Qe,{id:n.id,index:a-1,isOnlySlide:1===t.size,isDragging:i}):r.a.createElement(Xe,{id:n.id,index:a,isOnlySlide:1===t.size,isDragging:i}))})),st=Object(s.SortableContainer)((function(e){var t=e.hideAddSlide,n=e.elements,a=e.slides,o=e.maxHeight,i=e.onClick,l=e.onSlidesScroll,s=e.setRefSlide,c=e.setRefScrollArea,u=e.setRefSortableList,d=e.isDragging,p=e.isGeneratorMode,f=t?null:r.a.createElement(b.b,{title:L.a.addNewSlide,placement:Me.a.TOP},r.a.createElement("div",{className:h.a.addNewSlide,onClick:i},r.a.createElement(ee.a,{size:C.a.LMEDIUM,skin:O.a.DARK_GREY},$e.a))),g=0,y=r.a.createElement("div",{className:h.a.slidesList,ref:u},n.map((function(e,t){return g+=1,r.a.createElement(lt,{slides:a,slide:e,index:t,key:e.id,slidesCount:g,setRefSlide:s,isDragging:d,isGeneratorMode:p})})));return r.a.createElement(m.a,{skin:O.a.STAGE_GREY,autoHide:!1,autoHeightMin:o,size:p?C.a.SMALL:C.a.NORMAL,ref:c,onScrollFrame:l},y,f)}),{withRef:!0}),ct=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSlidesScroll=function(e){n.props.onScrollChange(e),n.lastScrollPos=e},n.onResize=function(){n.setState({maxHeight:window.innerHeight-n.slidesMargin})},n.onSortStart=function(e){var t=e.node;n.currentNode=t,n.setDispalyToNode("hidden"),n.setState({isDragging:!0})},n.onSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;n.setDispalyToNode("visible"),n.props.swapSlides(t,a),n.setState({isDragging:!1})},n.shouldCancelStart=function(e){if(n.props.appMode===W.a.GENERATE)return!0;var t=e.target,a=t.dataset,r=t.tagName;return a.resizeHandler&&"resize"===a.resizeHandler||-1!==["input","svg","path","label"].indexOf(r.toLowerCase())},n.scrollToBottom=function(){n.refSlide.scrollIntoView({behavior:"smooth"})},n.generatorSlidesMargin=e.slides.size>1?it:it+e.tipHeight,n.slidesMargin=e.isGeneratorMode?n.generatorSlidesMargin:ot,n.state={maxHeight:window.innerHeight-n.slidesMargin},n.currentNode=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),at(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.slides,a=t.isGeneratorMode,r=t.tipHeight,o=t.showTipComp,i=e.slides,l=e.tipHeight,s=e.showTipComp,c=i.last(),u=n.last();o===s&&r===l||(this.generatorSlidesMargin=n.size>1?it:it+r,this.slidesMargin=a?this.generatorSlidesMargin:ot,this.onResize()),this.lastScrollPos&&this.refScrollArea&&this.refScrollArea.scrollTop(this.lastScrollPos.scrollTop),i.size<n.size&&c!==u&&this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"setDispalyToNode",value:function(e){var t=!0,n=!1,a=void 0;try{for(var r,o=this.currentNode.querySelector("[data-slide]").firstChild.childNodes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.style.visibility=e}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}}},{key:"getSlideList",value:function(){var e=this,t=this.props,n=t.elements,a=t.slides,o=t.hideAddSlide,i=t.onAddNewSlideClick,l=t.isGeneratorMode,s=t.appMode,c=this.state,u=c.maxHeight,d=c.isDragging;return r.a.createElement(st,{hideAddSlide:o||s===W.a.GENERATE,elements:n,slides:a,maxHeight:u,shouldCancelStart:this.shouldCancelStart,onSortStart:this.onSortStart,onSortEnd:this.onSortEnd,onClick:i,onSlidesScroll:this.onSlidesScroll,setRefSlide:function(t){e.refSlide=t},setRefScrollArea:function(t){e.refScrollArea=t},setRefSortableList:function(t){e.refSortableList=t},getContainer:function(){return e.refSortableList.parentNode},lockAxis:"y",distance:5,lockToContainerEdges:!0,useDragHandle:!0,isDragging:d,isGeneratorMode:l,appMode:s})}},{key:"render",value:function(){var e=this.props.isGeneratorMode?et.a.GENERATOR:et.a.EDITOR;return r.a.createElement("div",{className:rt("slidesContainer",e)},this.getSlideList())}}]),t}(a.Component);ct.propTypes={slides:p.a.listOf(u.a.number),onAddNewSlideClick:u.a.func,swapSlides:u.a.func,elements:u.a.instanceOf(o.List),onScrollChange:u.a.func,hideAddSlide:u.a.bool,isGeneratorMode:u.a.bool,tipHeight:u.a.number,showTipComp:u.a.bool,appMode:u.a.oneOf([W.a.CHOOSE_EDITOR,W.a.GENERATOR,W.a.EDITOR,W.a.GENERATE])},ct.defaultProps={slides:Object(o.List)(),elements:Object(o.List)(),onAddNewSlideClick:function(){},swapSlides:function(){},onScrollChange:function(){},hideAddSlide:!1,isGeneratorMode:!1,tipHeight:74,showTipComp:!0,appMode:W.a.EDITOR};t.a=ct},1032:function(e,t,n){"use strict";var a=n(386),r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(388),c=n(704),u=n(50),d=n.n(u),p=n(391),f=n(1425),h=n.n(f),m=n(17),b=n(531),g=n(934),y=n(935),v=n(998),E=n(999),S=n(1152),O=n(865),C=n(7),w=n(392),T=n(387),k=n(56),I=d.a.bind(h.a),L=function(e){var t=e.onNameChangeHandler,n=e.onLayerClickHandler,a=e.visible,r=e.selected,i=e.layerIcon,l=e.layerName,s=e.onVisibilityClickHandler,c=e.isOverlayLayer,u=e.isGroup,d=e.id,p=e.onLockClickHandler,f=e.locked,L=e.shakeLockIcon,P=e.appMode;return o.a.createElement("div",{className:I(h.a.layerComponent,{visible:a,selected:r,layerGroup:u}),onClick:function(e){n(e),e.preventDefault()},onMouseDown:function(e){e.target!==document.activeElement&&document.activeElement.blur()},"data-overlay":c},o.a.createElement("div",{className:h.a.grabLayerIcon,id:"grab-icon"},S.a),o.a.createElement("div",{className:h.a.layer},o.a.createElement("div",{className:h.a.layerIcon},O.a[i]),o.a.createElement("div",{className:h.a.layerName},o.a.createElement(b.a,{text:l,size:m.a.MEDIUM,onChange:function(e){t(e)},maxLength:30,skin:C.a.NO_SKIN}))),P!==k.a.GENERATE?o.a.createElement(w.b,{title:f?T.a.unlockLayer:T.a.lockLayer},o.a.createElement("div",{className:I(h.a.lockIcon,{locked:f,visible:a,selected:r,shakeMe:L&&f}),onClick:function(){a&&p(d)}},f?v.a:E.a)):null,o.a.createElement(w.b,{title:a?T.a.hideLayer:T.a.showLayer},o.a.createElement("div",{className:I(h.a.visibilityIcon,{visible:a,selected:r}),onClick:s},a?g.a:y.a)),o.a.createElement("div",{className:h.a.borderSelected}))};L.propTypes={layerIcon:l.a.string.isRequired,layerName:l.a.string.isRequired,visible:l.a.bool,selected:l.a.bool,isOverlayLayer:l.a.bool,onLayerClickHandler:l.a.func.isRequired,onVisibilityClickHandler:l.a.func.isRequired,onLockClickHandler:l.a.func.isRequired,onNameChangeHandler:l.a.func,isGroup:l.a.bool,locked:l.a.bool,id:l.a.number.isRequired,shakeLockIcon:l.a.bool,appMode:l.a.oneOf(Object.values(k.a))},L.defaultProps={isOverlayLayer:!1,visible:!0,selected:!1,locked:!1,onNameChangeHandler:function(){},isGroup:!1,shakeLockIcon:!1,appMode:k.a.EDITOR};var P=L,M=n(1199),R=n(1426),x=n.n(R),D=n(411),j=n(1387),N=o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("polygon",{points:"7.115 8.295 11.705 12.875 16.295 8.295 17.705 9.705 11.705 15.705 5.705 9.705",transform:"rotate(90 11.705 12)"})),A=function(e){var t=e.selectedSlideIndex,n=e.onNextClick,a=e.onPrevClick,r=e.isLastSlide,i=e.isFirstSlide;return o.a.createElement("div",{className:x.a.container},o.a.createElement("div",{className:x.a.title},T.a.slide+" "+(t+1)),o.a.createElement("div",{className:x.a.arrows},o.a.createElement("div",{className:x.a.arrowLeft},o.a.createElement(D.a,{icon:N,skin:C.a.DARK_GREY,size:m.a.MEDIUM,onClick:a,disabled:i})),o.a.createElement("div",{className:x.a.arrowRight},o.a.createElement(D.a,{icon:j.a,skin:C.a.DARK_GREY,size:m.a.MEDIUM,onClick:n,disabled:r}))))};A.propTypes={selectedSlideIndex:l.a.number,onNextClick:l.a.func,onPrevClick:l.a.func,isLastSlide:l.a.bool,isFirstSlide:l.a.bool},A.defaultProps={selectedSlideIndex:0,onNextClick:function(){},onPrevClick:function(){},isLastSlide:!1,isFirstSlide:!1};var _=A,B=n(399),H=n(474),U=Object(a.c)((function(e){var t=Object(M.a)(e);return{isFirstSlide:0===t,isLastSlide:t===Object(H.a)(e).size-1,selectedSlideIndex:t}}),(function(e){return{onNextClick:function(){e(Object(B.D)())},onPrevClick:function(){e(Object(B.E)())}}}))(_),z=n(1427),G=n.n(z),F=n(402),W=n(816),V=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var K=d.a.bind(G.a),Y=207,X=Object(c.SortableElement)((function(e){var t=e.selectedLayers,n=e.items,a=e.isOverlayLayer,r=e.setHoveredElement,i=e.unSetHoveredElement,l=e.getIconName,s=e.onLayerClickHandler,c=e.onNameChangeHandler,u=e.onVisibilityClickHandler,d=e.onLockClickHandler,p=e.groupIndex,f=e.isGroup,h=e.indexOfHoveredGroup,m=e.shakeLockIcon,b=e.appMode;return o.a.createElement("div",{onMouseEnter:function(){return r(n,p)},onMouseLeave:i},n.map((function(e){return o.a.createElement(P,{key:e.id,layerIcon:l(e.layerType),layerName:e.layerName,selected:t.includes(e.id),visible:e.visible,onLayerClickHandler:function(t){s(e.id,t)},onNameChangeHandler:function(t){c(t,e.id)},onVisibilityClickHandler:function(t,n){u(e.id,n,e.visible)},onLockClickHandler:d,isOverlayLayer:a,isGroup:n.length>1&&h===p&&f,id:e.id,locked:e.locked,shakeLockIcon:m,appMode:b})})))})),Z=Object(c.SortableContainer)((function(e){var t=e.reverseLayers,n=e.reverseOverlayLayers,a=e.layerCommonProps,r=e.position,i=e.setRefSortableList,l=e.setRefSortableElement,s=e.scrollMaxHeight,c=e.setRefScrollArea,u=e.onLayersScroll,d=e.sortingItemId,p=a.isSorting,f=a.selectedLayers,h=l,b=[],g=[],y=null,v=null,E=!0,S=!1,O=void 0;try{for(var w,k=t[Symbol.iterator]();!(E=(w=k.next()).done);E=!0){var I=w.value,L=I.id,P=I.group,M=p&&f.includes(L)&&f.includes(d)||P;!g.length||M&&y===M||(b.push(g),g=[]),y=M,g.push(I),d===L&&(v=b.length)}}catch(e){S=!0,O=e}finally{try{!E&&k.return&&k.return()}finally{if(S)throw O}}g.length&&b.push(g);var R=n.size>0,x=r===W.a.TIMELINE,D=r===W.a.SIDEBAR,j=R&&D?o.a.createElement("div",{className:G.a.title},T.a.onAllSlides):null,N=D?o.a.createElement(U,null):null,A=o.a.createElement("div",{className:G.a.sortableList,ref:i},j,n.map((function(e,t){return o.a.createElement(X,q({},a,{key:e.id,items:[e],isOverlayLayer:!0,index:t,collection:1,ref:function(e){h[t]=e}}))})),R&&x?o.a.createElement("div",{className:G.a.separator}):null,N,b.map((function(e,t){var n=t===v?b[v].findIndex((function(e){return e.id===d})):0;return o.a.createElement(X,q({},a,{items:e,index:t,groupIndex:t,key:e[n].id,isOverlayLayer:!1,collection:0,ref:function(e){h[t]=e}}))})));return x?A:o.a.createElement(F.a,{skin:C.a.STAGE_GREY,autoHide:!1,autoHeightMin:s,size:m.a.MEDIUM,ref:c,onScrollFrame:u},A)}),{withRef:!0}),J=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onLayersScroll=function(t){e.lastScrollPos=t},e.onResize=function(){e.setState({maxHeight:window.innerHeight-Y})},e.onLayerClickHandler=function(t,n){var a=e.props,r=a.allLayers,o=a.selectedLayers,i=a.onLayerClickHandler,l=a.lastIndexSelected,s=n.ctrlKey||n.metaKey,c=n.shiftKey||(n.ctrlKey||n.metaKey)&&n.shiftKey;if(c&&o.size&&!o.some((function(e){return e===t}))){var u=!0,d=!1,p=void 0;try{for(var f,h=r[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value;if(m.id===t){e.deselectLayersFromTop=!1;break}if(m.id===l){e.deselectLayersFromTop=!0;break}}}catch(e){d=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw p}}}i(t,s||c,e.deselectLayersFromTop,c)},e.onVisibilityClickHandler=function(t,n,a){e.props.onVisibilityClickHandler(t,!a),n&&n.stopPropagation()},e.onNameChangeHandler=function(t,n){t.trim()&&e.props.onNameChangeHandler(t,n)},e.onSortStart=function(){e.setPointerEventsOnSortableChildren("none"),e.props.setLayerSorting(e.state.isSorting)},e.onSortEnd=function(t){var n=t.oldIndex,a=t.newIndex,r=t.collection,o=e.props,i=o.setLayerSorting,l=o.swapLayers,s=o.selectedLayers,c=o.overlayLayers,u=o.layers,d=e.state.sortingItemId;e.setPointerEventsOnSortableChildren("all");var p=1===r,f=!1,h=0;if(p)h=c.size;else{var m=void 0;h=u.reduce((function(e,t){var n=t.id,a=t.group,r=e,o=s.includes(d)&&s.includes(n)||a;return m&&o===m||(r+=1),m=o,r}),0)}s.includes(d)&&(f=!0),e.setState({isSorting:!1,sortingItemId:null}),i(!1),l(h-n-1,h-a-1,p,f)},e.onLockClickHandler=function(t){var n=e.props,a=n.allLayers;(0,n.onLockClickHandler)(a.filter((function(e){return e.id===t})))},e.getLayerList=function(){var t=e.props,n=t.overlayLayers,a=t.layers,r=t.position,i=t.selectedLayers,l=t.selectedElements,s=t.shakeLockIcon,c=t.appMode,u=e.state,d=u.isGroup,p=u.indexOfHoveredGroup,f=u.maxHeight,h=u.isSorting,m=u.sortingItemId,b=r===W.a.TIMELINE;return o.a.createElement(Z,{onSortEnd:e.onSortEnd,onSortStart:e.onSortStart,updateBeforeSortStart:e.updateBeforeSortStart,lockAxis:"y",distance:5,helperClass:G.a.helperDrag,lockToContainerEdges:!0,reverseLayers:a.reverse(),reverseOverlayLayers:n.reverse(),position:r,scrollMaxHeight:f,getContainer:function(){return b?e.refSortableList.parentNode.parentNode:e.refSortableList.parentNode},setRefSortableList:function(t){e.refSortableList=t},setRefSortableElement:e.setRefSortableElement,setRefScrollArea:function(t){e.refScrollArea=t},onLayersScroll:e.onLayersScroll,sortingItemId:m,selectedElements:l,layerCommonProps:{selectedLayers:i,isGroup:d,isSorting:h,indexOfHoveredGroup:p,appMode:c,shakeLockIcon:s,onLockClickHandler:e.onLockClickHandler,getIconName:e.getIconName,setHoveredElement:e.setHoveredElement,unSetHoveredElement:e.unSetHoveredElement,onLayerClickHandler:e.onLayerClickHandler,onNameChangeHandler:e.onNameChangeHandler,onVisibilityClickHandler:e.onVisibilityClickHandler}})},e.setHoveredElement=function(t,n){t.length>1&&e.setState({isGroup:!0,indexOfHoveredGroup:n})},e.updateBeforeSortStart=function(t){var n=t.index,a=t.collection,r=e.props,o=r.layers,i=r.groupSortingLayers,l=r.selectedLayers,s=e.setRefSortableElement[n].props.items[0].id,c=[],u=0;if(!(1===a)&&l.size>1&&l.includes(s)){var d=void 0;u=o.reduce((function(e,t){var n=t.group,a=e;return d&&n===d||(a+=1),d=n,a}),0),c.push(Promise.resolve(i(u-n-1)))}return c.push(new Promise((function(t){return e.setState((function(){return{sortingItemId:s,isSorting:!0}}),t)}))),Promise.all(c)},e.unSetHoveredElement=function(){e.state.isGroup&&e.setState({isGroup:!1,indexOfHoveredGroup:null})},e.state={maxHeight:window.innerHeight-Y,isGroup:!1,indexOfHoveredGroup:null,sortingItemId:null,isSorting:!1},e.deselectLayersFromTop=!1,e.setRefSortableElement={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),V(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentDidUpdate",value:function(){this.lastScrollPos&&this.refScrollArea&&this.refScrollArea.scrollTop(this.lastScrollPos.scrollTop)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"setPointerEventsOnSortableChildren",value:function(e){var t=!0,n=!1,a=void 0;try{for(var r,o=this.refSortableList.childNodes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.style.pointerEvents=e}}catch(e){n=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw a}}}},{key:"getIconName",value:function(e){switch(e){case p.b.TEXT:return"textTool";case p.b.IMAGE:case p.b.SVG:return"photosTool";case p.b.SHAPE:case p.b.CLIPART:return"shapesTool";case p.b.BUTTON:return"buttonsTool";case p.b.MENU:return"menuLayerIcon";case p.b.YOUTUBE:case p.b.EMBED:return"widgetsTool"}return!1}},{key:"render",value:function(){var e=this.props.position===W.a.TIMELINE;return o.a.createElement("div",{className:K("layerListContainer",{withPadding:e}),"data-deselect-layers":!0},this.getLayerList())}}]),t}(r.Component);J.propTypes={layers:l.a.instanceOf(s.List),allLayers:l.a.instanceOf(s.List),overlayLayers:l.a.instanceOf(s.List),selectedLayers:l.a.instanceOf(s.List),selectedElements:l.a.instanceOf(s.List),swapLayers:l.a.func,onVisibilityClickHandler:l.a.func,onLockClickHandler:l.a.func,onLayerClickHandler:l.a.func,onNameChangeHandler:l.a.func,setLayerSorting:l.a.func,position:l.a.string,shakeLockIcon:l.a.bool,lastIndexSelected:l.a.number,groupSortingLayers:l.a.func,appMode:l.a.oneOf(Object.values(k.a))},J.defaultProps={layers:Object(s.List)(),allLayers:Object(s.List)(),overlayLayers:Object(s.List)(),selectedLayers:Object(s.List)(),selectedElements:Object(s.List)(),swapLayers:function(){},onVisibilityClickHandler:function(){},onLockClickHandler:function(){},onLayerClickHandler:function(){},onNameChangeHandler:function(){},setLayerSorting:function(){},position:l.a.oneOf([W.a.SIDEBAR,W.a.TIMELINE]),shakeLockIcon:!1,groupSortingLayers:function(){},lastIndexSelected:null,appMode:k.a.EDITOR};var Q=J,$=n(567),ee=n(434),te=n(815),ne=n(409),ae=n(433),re=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=t.banner.selectedLayers,a=t.stage.shakeLockIcon,r=Object(ee.a)(e),o=Object($.a)(e),i=Object(ne.a)(e),l=Object(ae.a)(e);return{layers:o,selectedLayers:n,selectedElements:i,overlayLayers:r,allLayers:o.concat(r),lastIndexSelected:n.get(n.size-1),shakeLockIcon:a,appMode:l}}),(function(e){return{onLayerClickHandler:function(t,n,a,r){e(Object(B.N)([t],{multipleSelect:n,deselectLayersFromTop:a,selectBetween:r}))},onNameChangeHandler:function(t,n){e(Object(B.G)([{id:n,props:{layerName:t}}]))},onVisibilityClickHandler:function(t,n){e(Object(B.G)([{id:t,props:{visible:n}}]))},swapLayers:function(t,n,a,r){e(Object(B.S)(t,n,a,r))},onLockClickHandler:function(t){e(Object(B.x)(t))},setLayerSorting:function(t){e(Object(te.b)(t))},groupSortingLayers:function(t){e(Object(B.t)(t))}}}))(Q);t.a=re},1036:function(e,t,n){"use strict";var a=n(386),r=n(525),o=n(427),i=n(0),l=n.n(i),s=n(4),c=n.n(s),u=n(7),d=n(458),p=n(387),f=n(114),h=n(414);function m(e){var t=e.visible,n=e.errorCode,a=e.onClose,r=e.goToWorkspace;if(!t)return null;var o=void 0,i=void 0;switch(n){case d.a.NO_WORKSPACE_ACCESS:o=p.a.noWorkspaceAccessDescription,i=p.a.goToWorkspace;break;case d.a.NO_SWITCH_ACCOUNT_ACCESS:o=p.a.noSwitchAccountAccessDescription,i=p.a.backToMyAccount}var s=[l.a.createElement(f.a,{key:i,onClick:r,skin:u.a.BLUE},i)];return l.a.createElement(h.a,{header:p.a.noWorkspaceAccess,onClose:a,buttons:s},o)}m.propTypes={visible:c.a.bool,errorCode:c.a.oneOfType([c.a.string,c.a.number]),onClose:c.a.func,goToWorkspace:c.a.func.isRequired},m.defaultProps={visible:!1,errorCode:null,onClose:function(){}};var b=m,g=Object(a.c)((function(e){var t=e.bannerCreator.library.typography.uploadFontData.uploadFontsErrorCode;return{visible:t===d.a.NO_WORKSPACE_ACCESS||t===d.a.NO_SWITCH_ACCOUNT_ACCESS,errorCode:t}}),(function(e){return{onClose:function(){e(Object(r.i)())},goToWorkspace:function(){e(Object(o.a)())}}}))(b);t.a=g},1037:function(e,t,n){"use strict";var a=n(386),r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(611),c=n.n(s),u=n(114),d=n(440),p=n(414),f=n(17),h=n(7),m=n(1022),b=n.n(m),g=n(387),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.onOkClick;if(!t)return null;var a="https://help.bannersnack.com/hc/en-us/articles/115004303129",r=o.a.createElement(d.a,{href:a,target:"_blank",size:f.a.MEDIUM,key:a},g.a.helpCenterArticle),i=c()(g.a.fontUploadReadMore,"${fontFileNotCompatibleHelpCenterLink}",(function(){return r})),l=o.a.createElement("div",{className:b.a.fontFileNotCompatible},o.a.createElement("span",{className:b.a.notCompatible},g.a.fontFileUploadedNotCompatible),g.a.tryTtfRrOtf,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",null,i)),s=[o.a.createElement(u.a,{key:g.a.ok,onClick:n,skin:h.a.BLUE,minWidth:"100px"},g.a.ok)];return o.a.createElement("div",{className:b.a.container},o.a.createElement(p.a,{header:g.a.fontFileNotCompatible,onClose:n,buttons:s},l))}}]),t}(r.Component);v.propTypes={visible:l.a.bool,onOkClick:l.a.func.isRequired},v.defaultProps={visible:!1};var E=v,S=n(525),O=Object(a.c)((function(e){return{visible:e.bannerCreator.library.typography.uploadFontData.incompatibleFontsFormatPopinVisible}}),(function(e){return{onOkClick:function(){e(Object(S.h)())}}}))(E);t.a=O},1140:function(e,t,n){"use strict";var a=n(65),r=n(702),o=n(972),i=Object(a.createSelector)([o.a,r.a],(function(e,t){return t&&e.findIndex((function(e){return e.id===t}))}));t.a=i},1145:function(e,t,n){"use strict";var a=n(65),r=n(584),o=n(445),i=n(800),l=n(702),s=n(618),c=n(564),u=Object(a.createSelector)([function(e){return e.bannerCreator.contentLibrary.categories},function(e){return e.bannerCreator.contentLibrary.subcategories},function(e){return e.bannerCreator.contentLibrary.elements},i.a,l.a,function(e){return e.bannerCreator.contentLibrary.search}],(function(e,t,n,a,i,l){var u=n.map((function(e){return new r.a({type:o.a.SVG,data:e})}));return l.value||l.filter!==c.a.ALL?(a&&(u=u.filter((function(e){var n=e.data;if(n.parentId===a)return!0;var r=t.find((function(e){return e.id===n.parentId}));return r&&r.parentId===a}))),u=Object(s.a)(l,u,"",!0)):u=u.filter((function(e){return e.data.parentId===(i||a)})),u}));t.a=u},1146:function(e,t,n){"use strict";var a=n(65),r=Object(a.createSelector)([function(e){return e.bannerCreator.library.images.loadedRequests.images},function(e){return e.bannerCreator.contentLibrary.search.page},function(e){return!e.bannerCreator.contentLibrary.stockPhotos.adstock.requesting},function(e){return!e.bannerCreator.contentLibrary.stockPhotos.pexels.requesting},function(e){return!e.bannerCreator.contentLibrary.stockPhotos.pixabay.requesting},function(e){return!e.bannerCreator.contentLibrary.stockPhotos.unsplash.requesting}],(function(e,t,n,a,r,o){return!(e&&n&&a&&r&&o)&&1===t}));t.a=r},1147:function(e,t,n){"use strict";var a=n(65),r=n(596),o=Object(a.createSelector)([r.a,function(e){return e.bannerCreator.generator.bulkEditor.selectedElement}],(function(e,t){var n=[];return e.forEach((function(e){n.unshift({bannersetElementId:e.bannersetElementId,name:e.layerName,type:e.layerType,bannersetElementType:e.bannersetElementType,selected:t===e.bannersetElementId,locked:e.locked,feed:e.feed})})),n.push({id:-1,name:"Background",type:"background",selected:-1===t}),n}));t.a=o},1152:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"12px",height:"12px",viewBox:"0 0 12 12",id:"grab-icon"},r.a.createElement("g",{strokeWidth:"1",fillRule:"evenodd",id:"grab-icon"},r.a.createElement("path",{id:"grab-icon",d:"M0,1 L12,1 L12,3 L0,3 L0,1 Z M0,5 L12,5 L12,7 L0,7 L0,5 Z M0,9 L12,9 L12,11 L0,11 L0,9 Z"})))},1153:function(e,t,n){"use strict";var a=n(386),r=n(678),o=n(474),i=n(1018),l=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=t.banner.selectedSlideId,a=t.general.previewBannerPopinVisible;return{multipleSlides:Object(o.a)(e).size>1,previewBannerPopinVisible:a,selectedSlideId:n}}),(function(e){return{onPlayClick:function(t){e(Object(r.h)(t))}}}))(i.a);t.a=l},1154:function(e,t,n){e.exports={previewPopin:"jr",header:"js",refreshIcon:"jt",body:"ju",shake:"jv","fade-in":"k0"}},1155:function(e,t,n){"use strict";var a=n(65),r=n(406),o=n(485),i=Object(a.createSelector)([function(e){return e.bannerCreator.editor.tools.toolsList},function(e){return e.bannerCreator.user.featuresAccess.bm_embed_elements},function(e){return e.bannerCreator.user.featuresAccess.bm_video},function(e){return e.bannerCreator.user.featuresAccess.bm_visible_templates_panel},function(e){return e.bannerCreator.user.featuresAccess.bm_visible_buttons_panel},function(e){return e.bannerCreator.user.featuresAccess.bm_transitions},function(){return!1},function(e){return e.app.user.features.bmDynamicBanners}],(function(e,t,n,a,i,l,s,c){var u=e.filter((function(e){return!(e.name===o.a.feed&&c===r.a.NO)}));return s&&(a===r.a.NO&&(u=u.setIn([u.findIndex((function(e){return e.name===o.a.templates})),"locked"],!0)),i===r.a.NO&&(u=u.setIn([u.findIndex((function(e){return e.name===o.a.button})),"locked"],!0)),l===r.a.NO&&(u=u.setIn([u.findIndex((function(e){return e.name===o.a.animator})),"locked"],!0)),u=u.setIn([u.findIndex((function(e){return e.name===o.a.resize})),"locked"],!0)),u}));t.a=i},1160:function(e,t,n){"use strict";var a=n(386),r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(387),c=n(814),u=o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("path",{d:"M20 2H4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h6v-2H6v-2h4v-2H8v-2h2v-2H6v-2h4V5.984h2V10h2V8h2v2h2V6h2v4h2V4a2 2 0 0 0-2-2z"}))),d=n(1166),p=n(7),f=n(1207),h=function(e){var t=e.onSetRulerVisibility,n=e.rulerVisibility,a=e.guidelinesVisiblity,r=e.selectedSlideId,i=e.selectedMeasureUnit,l=e.onSetGuidelinesVisibility,h=e.onDeleteGuidesFromSlide,m=e.hasGuides,b=e.hasGuidesOnSlide,g=e.onMeasureUnitChange,y=e.changeMeasureUnitDisabled,v=f.b.map((function(e){var t=e.label,n=e.value;return{label:t,selected:i===n,onClick:function(){g(n)}}})),E=[{label:s.a.measureUnits,subMenu:v,disabled:y},{label:a?s.a.hideGuides:s.a.showGuides,onClick:function(){l(!a)},disabled:!m},{label:s.a.removeAllGuides,onClick:function(){h(r)},disabled:!b}],S=o.a.createElement("div",{style:{padding:"3px 0"}},o.a.createElement(d.a,{elements:E,subMenuSkin:p.a.TRANSPARENT_GREY})),O=!E.some((function(e){return!e.disabled}));return o.a.createElement(c.a,{onMainButtonClick:function(){t(!n)},showDropdownArrow:n&&!O,mainButtonLabel:s.a.ruler,mainButtonIcon:u,dropdownItems:S,activeButton:n})};h.propTypes={onSetRulerVisibility:l.a.func,onSetGuidelinesVisibility:l.a.func,onDeleteGuidesFromSlide:l.a.func,onMeasureUnitChange:l.a.func.isRequired,rulerVisibility:l.a.bool,guidelinesVisiblity:l.a.bool,hasGuides:l.a.bool,hasGuidesOnSlide:l.a.bool,changeMeasureUnitDisabled:l.a.bool,selectedSlideId:l.a.number,selectedMeasureUnit:l.a.oneOf([f.a.PX,f.a.CM,f.a.IN,f.a.MM])},h.defaultProps={onSetRulerVisibility:function(){},onSetGuidelinesVisibility:function(){},onDeleteGuidesFromSlide:function(){},rulerVisibility:!1,hasGuides:!1,guidelinesVisiblity:!1,hasGuidesOnSlide:!1,changeMeasureUnitDisabled:!1,selectedSlideId:0,selectedMeasureUnit:f.a.PX};var m=h,b=n(453),g=n(399),y=n(65),v=n(474),E=Object(y.createSelector)([v.a],(function(e){return e.some((function(e){return e.guidelines.v.size||e.guidelines.h.size}))})),S=n(774),O=n(56),C=Object(a.c)((function(e){var t=e.bannerCreator,n=t.editor,a=n.stage.rulerVisibility,r=n.banner,o=r.banner,i=o.showGuidelines,l=o.measureUnit,s=r.selectedSlideId,c=t.app.mode,u=Object(S.a)(e),d=!(!u.v.size&&!u.h.size);return{selectedMeasureUnit:l,rulerVisibility:a,guidelinesVisiblity:i,selectedSlideId:s,hasGuides:E(e),hasGuidesOnSlide:d,changeMeasureUnitDisabled:c===O.a.GENERATE}}),(function(e){return{onSetRulerVisibility:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e(Object(b.f)(t))},onSetGuidelinesVisibility:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e(Object(g.H)(t))},onDeleteGuidesFromSlide:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e(Object(g.n)(t))},onMeasureUnitChange:function(t){e(Object(g.f)(t))}}}))(m);t.a=C},1161:function(e,t,n){"use strict";var a=n(386),r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(1459),c=n.n(s),u=n(411),d=n(392),p=n(7),f=n(17),h=n(393),m=n(387),b=o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},o.a.createElement("path",{d:"M12.2589155,8 C9.66976063,8 7.32486566,8.99 5.51734245,10.6 L2,7 L2,16 L10.7933561,16 L7.25647289,12.38 C8.61455789,11.22 10.3439179,10.5 12.2589155,10.5 C15.7176356,10.5 18.6585247,12.81 19.6844162,16 L22,15.22 C20.641915,11.03 16.8021495,8 12.2589155,8 Z",id:"Shape"}))),g=o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},o.a.createElement("path",{d:"M12.2589155,8 C9.66976063,8 7.32486566,8.99 5.51734245,10.6 L2,7 L2,16 L10.7933561,16 L7.25647289,12.38 C8.61455789,11.22 10.3439179,10.5 12.2589155,10.5 C15.7176356,10.5 18.6585247,12.81 19.6844162,16 L22,15.22 C20.641915,11.03 16.8021495,8 12.2589155,8 Z",transform:"translate(12.000000, 11.500000) scale(-1, 1) translate(-12.000000, -11.500000) "}))),y=function(e){var t=e.hasUndo,n=e.hasRedo,a=e.onUndoClick,r=e.onRedoClick;return o.a.createElement("div",{className:c.a.undoRedoContainer},o.a.createElement(d.b,{placement:h.a.BOTTOM,title:m.a.undoTooltip},o.a.createElement("div",null,o.a.createElement(u.a,{onClick:a,size:f.a.XLARGE,skin:p.a.DARK_GREY,disabled:!t,icon:b}))),o.a.createElement(d.b,{placement:h.a.BOTTOM,title:m.a.redoTooltip},o.a.createElement("div",null,o.a.createElement(u.a,{onClick:r,size:f.a.XLARGE,skin:p.a.DARK_GREY,disabled:!n,icon:g}))))};y.propTypes={hasUndo:l.a.bool,hasRedo:l.a.bool,onUndoClick:l.a.func.isRequired,onRedoClick:l.a.func.isRequired},y.defaultProps={hasUndo:!1,hasRedo:!1};var v=y,E=n(1026),S=Object(a.c)((function(e){var t=e.bannerCreator.editor.history,n=t.past,a=t.future;return{hasUndo:n.size>0,hasRedo:a.size>0}}),(function(e){return{onUndoClick:function(){e(Object(E.b)())},onRedoClick:function(){e(Object(E.a)())}}}))(v);t.a=S},1165:function(e,t,n){"use strict";var a=n(386),r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(17),c=n(7),u=n(392),d=n(1456),p=n.n(d),f=n(387),h=n(907),m=n(116),b=n(411),g=n(393),y=n(50),v=n.n(y),E=n(1457),S=n.n(E),O=n(731),C=n(124),w=n(403),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=v.a.bind(S.a),L=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={popoverVisible:!1},a.onPopoverClick=function(){a.setState((function(e){return{popoverVisible:!e.popoverVisible}}))},a.getPopoverContent=function(){var e=a.props,t=e.options,n=e.iconSize,r=e.size,i=e.selectedValue,l=[];for(var s in t)if(t[s]){var c=t[s],u=c.value,d=c.label,p=i===d,f=p?o.a.createElement("span",{className:S.a.icon},o.a.createElement(w.a,{size:n},C.a)):null;l.push(o.a.createElement("div",{className:I(r,"option",{selected:p}),onClick:a.getClickHandler(u),key:s},f,o.a.createElement("div",{className:I("label",{selected:p})},d)))}return o.a.createElement("div",{className:S.a.popoverContent},l)},a.getClickHandler=function(e){return a.clickHandlers[e]||(a.clickHandlers[e]=function(){return a.props.onSelect(e)}),a.clickHandlers[e]},a.hidePopover=function(){a.setState({popoverVisible:!1})},a.clickHandlers={},k(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),T(t,[{key:"render",value:function(){var e=this.props,t=e.skin,n=e.size,a=e.selectedValue,r=this.state.popoverVisible;return o.a.createElement("div",{className:I("popoverSelect",t,n)},o.a.createElement(O.a,{skin:t,visible:this.state.popoverVisible,content:this.getPopoverContent(),clickHandler:this.onPopoverClick,onClose:this.hidePopover},o.a.createElement("div",{className:I("popoverSelect",t,n,{visible:r})},a)))}}]),t}(r.Component);L.propTypes={options:l.a.arrayOf(l.a.shape({label:l.a.string.isRequired,value:l.a.oneOfType([l.a.string,l.a.number]).isRequired})).isRequired,selectedValue:l.a.oneOfType([l.a.string,l.a.number]).isRequired,onSelect:l.a.func,size:l.a.oneOf([s.a.XLARGE]),skin:l.a.oneOf([c.a.DARK_GREY]),iconSize:l.a.oneOf([s.a.XSMALL])},L.defaultProps={skin:c.a.DARK_GREY,size:s.a.XLARGE,onSelect:function(){},iconSize:s.a.XSMALL};var P=L,M=n(1028),R=n(1027),x=n(1198),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onZoomOut=function(e){1===e.nativeEvent.which&&a.decrease(!1)},a.onZoomIn=function(e){1===e.nativeEvent.which&&a.increase(!1)},a.setZoom=function(e){"fitToStage"===e?a.handleZoomFitToStage():a.props.onChangeZoom(e,!1)},a.stop=function(){a.timer&&clearTimeout(a.timer)},a.handleWindowResize=function(){a.props.fitToStage&&a.handleZoomFitToStage()},a.handleZoomChange=function(e){var t=Math.min(Math.max(a.props.min,e),a.props.max);a.props.zoom!==t&&a.props.onChangeZoom(t,!1)},a.handleZoomFitToStage=function(){var e=a.props,t=e.bannerHeight,n=e.bannerWidth,r=e.onChangeZoom,o=a.props.getStageContainerRef();o&&r(Object(h.a)(n,t,o.offsetWidth,o.offsetHeight),!0)},a.timer=null,j(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),D(t,[{key:"componentWillMount",value:function(){window.addEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.bannerWidth,a=t.bannerHeight,r=t.zoom,o=t.onChangeZoom,i=e.bannerWidth,l=e.bannerHeight;if(n!==i&&a!==l){var s=this.props.getStageContainerRef();if(s){var c=s.offsetWidth,u=s.offsetHeight,d=Math.min(Object(h.a)(n,a,c,u),1);r!==d&&o(d,!0)}}}},{key:"componentWillUnmount",value:function(){this.stop(),window.removeEventListener("resize",this.handleWindowResize)}},{key:"getZoomOptions",value:function(){var e=M.a.map((function(e){return{value:e,label:100*e+"%"}}));return e.push({value:"fitToStage",label:"Fit To Stage"}),e}},{key:"decrease",value:function(e){var t=this,n=this.props,a=n.zoom,r=n.min;this.stop();var o=Object(R.b)(a)||r;this.handleZoomChange(o),a>r&&(this.timer=setTimeout((function(){t.decrease(!0)}),e?50:500))}},{key:"increase",value:function(e){var t=this,n=this.props,a=n.zoom,r=n.max;this.stop();var o=Object(R.a)(a)||r;this.handleZoomChange(o),a<r&&(this.timer=setTimeout((function(){t.increase(!0)}),e?30:500))}},{key:"transformZoomValue",value:function(){return(100*parseFloat(this.props.zoom)).toFixed(0)+"%"}},{key:"render",value:function(){var e=this,t=this.props.zoom;return o.a.createElement("div",{className:p.a.zoom},o.a.createElement(u.b,{placement:g.a.BOTTOM,skin:c.a.GREY,title:f.a.zoomOut},o.a.createElement("div",{className:p.a.button},o.a.createElement("div",{onMouseLeave:this.stop,onMouseUp:this.stop,onMouseDown:function(t){return e.onZoomOut(t)}},o.a.createElement(b.a,{size:s.a.XLARGE,icon:m.a.zoomMinus,width:"32px",height:"32px",skin:c.a.DARK_GREY,disabled:!Object(R.b)(t)})))),o.a.createElement(P,{options:this.getZoomOptions(),selectedValue:this.transformZoomValue(),onSelect:this.setZoom,skin:c.a.DARK_GREY,size:s.a.XLARGE,iconSize:s.a.XSMALL}),o.a.createElement(u.b,{placement:g.a.BOTTOM,skin:c.a.GREY,title:f.a.zoomIn},o.a.createElement("div",{className:p.a.button},o.a.createElement("div",{onMouseLeave:this.stop,onMouseUp:this.stop,onMouseDown:function(t){return e.onZoomIn(t)}},o.a.createElement(b.a,{size:s.a.XLARGE,icon:m.a.zoomPlus,width:"32px",height:"32px",skin:c.a.DARK_GREY,disabled:!Object(R.a)(t)})))))}}]),t}(r.Component);N.propTypes={min:l.a.number,max:l.a.number,zoom:l.a.number,fitToStage:l.a.bool,bannerWidth:l.a.number.isRequired,bannerHeight:l.a.number.isRequired,getStageContainerRef:l.a.func,onChangeZoom:l.a.func.isRequired},N.defaultProps={min:x.a.MIN,max:x.a.MAX,zoom:1,fitToStage:!1,getStageContainerRef:function(){}};var A=N,_=n(453),B=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=t.stage;return{zoom:n.zoom,fitToStage:n.fitToStage,bannerHeight:t.banner.banner.height,bannerWidth:t.banner.banner.width}}),(function(e){return{onChangeZoom:function(t,n){e(Object(_.j)(t,n))}}}))(A);t.a=B},1388:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(50),i=n.n(o),l=n(4),s=n.n(l),c=n(1389),u=n.n(c),d=n(642),p=n(7),f=i.a.bind(u.a),h=function(e){var t=e.onBackClick,n=e.label,a=e.background,o=e.skin;return r.a.createElement("div",{className:u.a.sectionHeader},r.a.createElement("div",{className:f(u.a.arrowContainer,o),onClick:t},d.a),r.a.createElement("div",{className:u.a.labelContainer,style:{background:a}},r.a.createElement("span",null,n)),r.a.createElement("div",null))};h.propTypes={onBackClick:s.a.func.isRequired,label:s.a.string.isRequired,background:s.a.string.isRequired,skin:s.a.oneOf([p.a.LIGHT_GREY,p.a.DARK_BLUE])},h.defaultProps={skin:p.a.DARK_BLUE},t.a=h},1389:function(e,t,n){e.exports={sectionHeader:"c31",arrowContainer:"c32",darkBlue:"c33",lightGrey:"c34",labelContainer:"c35",shake:"c36","fade-in":"c37"}},1390:function(e,t,n){"use strict";var a=n(511);t.a=[a.a.FAVORITES,a.a.RECENTLY_USED,a.a.STOCK_PHOTOS,a.a.SHAPES,a.a.LINES,a.a.ICONS,a.a.ILLUSTRATIONS,a.a.LOGOS]},1396:function(e,t,n){e.exports={empty:"c80",lightGrey:"c81",darkBlue:"c82",bold:"c83",shake:"c84","fade-in":"c85"}},1397:function(e,t,n){e.exports={contentLibraryCategory:"dv9",wrapper:"dva",groupDetails:"dvb",hide:"dvc",extended:"dvd",elements:"dve",subcategory:"dvf",leftSide:"dvg",icon:"dvh",lightGrey:"dvi",name:"dvj",darkBlue:"dvk",arrowHitArea:"dvl",selected:"dvm",shake:"dvn","fade-in":"dvo"}},1398:function(e,t,n){e.exports={shapeList:"cok",shapesStack:"col",lightGrey:"com",darkBlue:"con",shake:"coo","fade-in":"cop"}},1399:function(e,t,n){e.exports={shapeItemContainer:"crp",darkBlue:"crq",shapeItem:"crr",lightGrey:"crs",hidden:"crt",shake:"cru","fade-in":"crv"}},1400:function(e,t,n){"use strict";var a=n(386),r=n(1468),o=n(391),i=n(399),l=n(400),s=n(406),c=n(433),u=n(56),d=n(437),p=n(476),f=n(1206),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m=Object(a.c)((function(e){var t=Object(p.a)(e),n=Object(c.a)(e),a=void 0,r=void 0,i=void 0;if(n===u.a.EDITOR){var d=e.bannerCreator.editor,f=d.banner.banner;r=f.height,a=f.width,i=d.stage.zoom}var h=Object(l.a)(e),m=h.bmVideo,b=h.bmEmbedElements,g=[];return m===s.a.NO&&g.push(o.b.YOUTUBE),b===s.a.NO&&g.push(o.b.EMBED),{mode:n,zoom:i,bannerWidth:a,bannerHeight:r,blockedWidgets:g,skin:t}}),(function(e){return{onToolClick:function(t,n,a){e(Object(i.a)(t,n,{isBlocked:a}))},addTempElement:function(t,n){e(Object(d.a)(t,n,!1,!0))}}}),(function(e,t){return h({},e,t,{onToolClick:function(n,a,o){if(e.mode===u.a.EDITOR){var i=Object(r.b)(e.bannerWidth,e.bannerHeight),l=i.width,s=i.height,c=Object.assign(h({width:l,height:s},f.a[n]));t.onToolClick(n,c,o)}else e.mode===u.a.GENERATOR&&t.addTempElement(n,a)}})}))(r.a);t.a=m},1401:function(e,t,n){e.exports={noRecentlyUsed:"c7j",lightGrey:"c7k",darkBlue:"c7l",shake:"c7m","fade-in":"c7n"}},1402:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(50),s=n.n(l),c=n(56),u=n(801),d=n(119),p=n(22),f=n(397),h=n(980),m=n(555),b=n(1403),g=n.n(b),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=s.a.bind(g.a),S=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={hoverButtonIndex:null},a.showHoverState=function(e){a.setState({hoverButtonIndex:e})},a.hideHoverState=function(){a.setState({hoverButtonIndex:!1})},v(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),y(t,[{key:"onButtonClick",value:function(e){this.props.itemClickHandler(e)}},{key:"onButtonDrag",value:function(e,t){this.props.itemDragHandler(t,e)}},{key:"getButtonsList",value:function(e){if(this.props.placement===c.a.EDITOR)return e;for(var t=[],n=[],a=0;a<e.length;a++){var r=JSON.parse(JSON.stringify(e[a]));r.properties.height=28,r.properties.labelStyle.fontSize=11,Object(f.w)(r.properties,["dropShadow"]),r.properties.backgroundColor&&"none"===r.properties.backgroundColor.type?n.push(r):t.push(r)}return t.concat(n)}},{key:"populateButtonsList",value:function(e){var t=this,n={position:"relative"};return this.getButtonsList(e).map((function(e,a){var o=e.key,i=e.properties,l=e.premium&&t.props.isButtonLimited?r.a.createElement(d.a,{container:p.a.BUTTONS}):null;return r.a.createElement("div",{draggable:!0,key:o,className:g.a.buttonContainer,onClick:t.onButtonClick.bind(t,o),onDragStart:t.onButtonDrag.bind(t,o),style:n,onMouseEnter:function(){return t.showHoverState(a)},onMouseLeave:t.hideHoverState},r.a.createElement(u.a,{element:new m.a(i),readOnly:!0,hover:t.state.hoverButtonIndex===a}),l)}))}},{key:"render",value:function(){var e=this.populateButtonsList(h.a);return r.a.createElement("div",{className:E(g.a.buttonList,this.props.placement)},e)}}]),t}(a.Component);S.propTypes={itemClickHandler:i.a.func.isRequired,itemDragHandler:i.a.func,isButtonLimited:i.a.bool,placement:i.a.oneOf([c.a.EDITOR,c.a.GENERATOR])},S.defaultProps={itemDragHandler:function(){},isButtonLimited:!1,placement:c.a.EDITOR},t.a=S},1403:function(e,t,n){e.exports={buttonList:"c2r",editor:"c2s",buttonContainer:"c2t",generator:"c2u",shake:"c2v","fade-in":"c30"}},1404:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(589),s=n(394),c=n(541),u=n(587),d=n(880),p=n(881),f=n(471),h=n(565),m=n(393),b=n(17),g=n(7),y=n(392),v=n(1405),E=n.n(v),S=n(387),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={selectedStep:0,selectedColor:a.props.steps[0].c,showColorPickerTool:!1},a.onAddNewStep=function(e){for(var t=a.props,n=t.steps,r=t.gradientRotation,o=t.isRadialGradient,i=t.alignMode,l=t.onChange,s={c:a.state.selectedColor,p:e.toString()},c=0;c<n.length&&parseInt(n[c].p)<parseInt(e);)c+=1;var u=n.slice();u.splice(c,0,s),a.setState({selectedStep:c}),l(a.buildObject(u,r,o,i))},a.onStepSelect=function(e){a.setState({selectedStep:e,selectedColor:a.props.steps[e].c})},a.onStepRemove=function(e){var t=a.props,n=t.steps,r=t.gradientRotation,o=t.isRadialGradient,i=t.alignMode,l=t.onChange,s=n.slice();s.splice(e,1),a.setState({selectedStep:0,selectedColor:n[0].c}),l(a.buildObject(s,r,o,i))},a.onStepMove=function(e,t){var n=a.props,r=n.steps,o=n.gradientRotation,i=n.isRadialGradient,l=n.alignMode,s=n.onChange,c=r.slice();c[e].p=t.toString();for(var u=e;u>0&&parseInt(c[u].p)<parseInt(c[u-1].p);){var d=c[u];c[u]=c[u-1],c[u-1]=d,u-=1}for(;u<c.length-1&&parseInt(c[u].p)>parseInt(c[u+1].p);){var p=c[u];c[u]=c[u+1],c[u+1]=p,u+=1}a.setState({selectedStep:u}),s(a.buildObject(c,o,i,l))},a.onColorChange=function(e){var t=a.props,n=t.steps,r=t.gradientRotation,o=t.isRadialGradient,i=t.alignMode,l=t.onChange,s=n.slice();s[a.state.selectedStep].c=e,a.setState({selectedColor:e}),l(a.buildObject(s,r,o,i))},a.onGradientTypeChange=function(e){var t=a.props,n=t.steps,r=t.gradientRotation,o=t.alignMode;(0,t.onChange)(a.buildObject(n,r,"linear"!==e,o))},a.toggleColorPicker=function(){a.setState({showColorPickerTool:!a.state.showColorPickerTool})},a.openColorPicker=function(){a.setState({showColorPickerTool:!0})},a.changeGradientRotation=function(e){var t=a.props,n=t.steps,r=t.isRadialGradient,o=t.alignMode;(0,t.onChange)(a.buildObject(n,e,r,o))},a.changeAlignMode=function(e){var t=a.props,n=t.steps,r=t.gradientRotation,o=t.isRadialGradient;(0,t.onChange)(a.buildObject(n,r,o,e))},a.reverseGradientColors=function(){var e=a.props,t=e.steps,n=e.gradientRotation,r=e.isRadialGradient,o=e.alignMode,i=e.onChange;a.closeColorPicker();var l=t.map((function(e){var t=e;return t.p=(100-parseInt(e.p)).toString(),t}));l.reverse(),i(a.buildObject(l,n,r,o))},C(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),O(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initializeOnMount,n=e.steps,a=e.gradientRotation,r=e.isRadialGradient,o=e.alignMode;if(t){var i=this.buildObject(n,a,r,o);this.props.onChange(i)}}},{key:"buildObject",value:function(e,t,n,a){return{steps:e,gradientRotation:t,isRadialGradient:n,alignMode:a}}},{key:"closeColorPicker",value:function(){this.setState({showColorPickerTool:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.position,a=t.steps,o=t.gradientRotation,i=t.isRadialGradient,v=t.alignMode,O=t.showOpacitySliderInColorPicker,C=null,w="0"===n.right?{left:"auto",right:n.right-12+"px"}:{left:n.left-12+"px",right:"auto"};if(this.state.showColorPickerTool){var T=Object.assign({width:"306px",top:"80px"},w);C=r.a.createElement(u.a,{refElement:this.refFixedElement,topAppend:35},r.a.createElement(h.a,{style:T},r.a.createElement(c.a,{color:this.state.selectedColor,onChange:this.onColorChange,onOk:this.toggleColorPicker,onCancel:this.toggleColorPicker,showOpacitySlider:O})))}var k=r.a.createElement("div",{className:E.a.gradientGenerator,ref:function(t){e.refFixedElement=t}},r.a.createElement(p.a,{steps:a,selectedStep:this.state.selectedStep,onAddNewStep:this.onAddNewStep,onStepSelect:this.onStepSelect,onStepRemove:this.onStepRemove,onStepMove:this.onStepMove,openColorPicker:this.openColorPicker})),I=i?r.a.createElement("div",{className:E.a.gradientAlign},r.a.createElement(s.a,{size:b.a.NORMAL,skin:g.a.WHITE,label:S.a.gradientAngle}),r.a.createElement(l.a,{type:"position",onPositionSelect:this.changeAlignMode,selected:v,skin:g.a.BLUE})):r.a.createElement("div",{className:E.a.gradientRotation},r.a.createElement(s.a,{size:b.a.NORMAL,skin:g.a.WHITE,label:S.a.gradientAngle}),r.a.createElement(l.a,{type:"rotation",onPositionSelect:this.changeGradientRotation,selected:v,skin:g.a.BLUE,value:o})),L=r.a.createElement("div",{className:E.a.reverseButton},r.a.createElement(y.b,{placement:m.a.LEFT,title:S.a.flipColors},r.a.createElement("span",null,r.a.createElement(f.a,{className:"iooi",height:"28px",icon:"reverseButton",iconSize:b.a.LARGE,onClickHandler:this.reverseGradientColors,skin:g.a.ACTIVE_GREY,width:"28px"})))),P=r.a.createElement("div",{className:E.a.selectGradientType},r.a.createElement(d.a,{gradientType:"linear",onClickCallback:this.onGradientTypeChange,selected:!i}),r.a.createElement(d.a,{gradientType:"radial",onClickCallback:this.onGradientTypeChange,selected:i}));return r.a.createElement("div",{className:E.a.gradientGroup},C,k,L,P,I)}}]),t}(a.Component);w.propTypes={steps:i.a.arrayOf(i.a.shape({c:i.a.string,p:i.a.string})),isRadialGradient:i.a.bool,gradientRotation:i.a.number,alignMode:i.a.string,onChange:i.a.func.isRequired,showOpacitySliderInColorPicker:i.a.bool,initializeOnMount:i.a.bool,position:i.a.shape({left:i.a.string,right:i.a.string})},w.defaultProps={steps:[{c:"#ffffff",p:"0"},{c:"#000000",p:"100"}],isRadialGradient:!1,gradientRotation:0,showOpacitySliderInColorPicker:!1,alignMode:"center",initializeOnMount:!1,position:{left:"0",right:"auto"}},t.a=w},1405:function(e,t,n){e.exports={gradientGroup:"cci",selectColor:"ccj",selectGradientType:"cck",gradientGenerator:"ccl",gradientAlign:"ccm",gradientRotation:"ccn",reverseButton:"cco",shake:"ccp","fade-in":"ccq"}},1409:function(e,t,n){e.exports={step1:"bi0",description:"bi1",svgContainer:"bi2",listDescription:"bi3",generator:"bi4",shake:"bi5","fade-in":"bi6"}},1410:function(e,t,n){e.exports={uploadSection:"bid",toolPanelBackbtn:"bie",title:"bif",info:"big",displaySchemaName:"bih",schemaNameInput:"bii",dropzoneContainer:"bij",dragging:"bik",dropzone:"bil",dropZoneWrapper:"bim",draggingContainer:"bin",dropZoneContent:"bio",dropZoneButton:"bip",icon:"biq",label:"bir",dropZoneLabel:"bis",dropZoneErrorMessage:"bit",nextBtn:"biu",disabled:"biv",generator:"bj0",shake:"bj1","fade-in":"bj2"}},1411:function(e,t,n){e.exports={schemas:"bi7",title:"bi8",explanation:"bi9",generator:"bia",shake:"bib","fade-in":"bic"}},1412:function(e,t,n){e.exports={selectComponent:"bqf",disabled:"bqg",noDropdown:"bqh",select:"bqi",xsmall:"bqj",mediumThick:"bqk",large:"bql",largeThin:"bqm",xlarge:"bqn",arrowDown:"bqo",mediumThin:"bqp",mediumSmall:"bqq",fontsFilter:"bqr",medium:"bqs",xlargeThin:"bqt",required:"bqu",white:"bqv",noBackgroundHover:"br0",transparentWhite:"br1",whiteGrey:"br2",whiteDarkGrey:"br3",arrowBtn:"br4",greyEnrollAdTag:"br5",lblue:"br6",grey:"br7",greyBlue:"br8",lightGrey:"br9",lightPeriwinkle:"bra",skinLessBlueHead:"brb",realWhite:"brc",dropdown:"brd",top:"bre",bottom:"brf",dropdownList:"brg",selected:"brh",left:"bri",right:"brj",footerItem:"brk",svgClose:"brl",selectOption:"brm",optionChild:"brn",option:"bro",tmpSelected:"brp",seletected:"brq",placeholder:"brr",noPadding:"brs",textContainer:"brt",prefix:"bru",withPrefix:"brv",dropdownOpen:"bs0",hasIcon:"bs1",smallIcon:"bs2",mediumIcon:"bs3",largeIcon:"bs4",arrowHoverBackground:"bs5",shake:"bs6","fade-in":"bs7"}},1413:function(e,t,n){e.exports={sampleData:"bpr",title:"bps",explanation:"bpt",next:"bpu",generator:"bpv",shake:"bq0","fade-in":"bq1"}},1414:function(e,t,n){e.exports={rowPreview:"c16",label:"c17",whiteDarkGrey:"c18",shake:"c19","fade-in":"c1a"}},1415:function(e,t,n){e.exports={bindings:"bhb",firstSection:"bhc",infoSchema:"bhd",schemaName:"bhe",buttonContent:"bhf",overlayCard:"bhg",onAllSlidesTitle:"bhh",row:"bhi",layerName:"bhj",layerNameDescription:"bhk",overlayRow:"bhl",layerType:"bhm",linkBtn:"bhn",linked:"bho",secondSection:"bhp",scrollContent:"bhq",thirdSection:"bhr",separator:"bhs",generator:"bht",shake:"bhu","fade-in":"bhv"}},1416:function(e,t,n){e.exports={feed:"bc6",editor:"bc7",generatorTitle:"bc8",generator:"bc9",shake:"bca","fade-in":"bcb"}},1421:function(e,t,n){"use strict";var a,r,o=n(389),i=n.n(o),l=n(390),s=(a=["\n        mutation deleteRecovery($bannerHash: String!) {\n            banner(input: { hash: $bannerHash}) {\n                deleteRecovery \n            }\n        }\n    "],r=["\n        mutation deleteRecovery($bannerHash: String!) {\n            banner(input: { hash: $bannerHash}) {\n                deleteRecovery \n            }\n        }\n    "],Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(r)}})));t.a=function(e){if("string"!=typeof e)return Promise.resolve(null);var t=i()(s);return l.a.mutate({mutation:t,variables:{bannerHash:e}})}},1422:function(e,t,n){"use strict";t.a=function(e,t,n,a){return e>=n-t&&e<=n+a}},1423:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(117),s=n(50),c=n.n(s),u=n(457),d=n(394),p=n(411),f=n(660),h=n(392),m=n(1424),b=n.n(m),g=n(387),y=n(17),v=n(7),E=n(772),S=n(414),O=n(393),C=n(520),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var T=c.a.bind(b.a),k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));I.call(n);var a=n.getPopinSizes(),r=a.bannerWidth,o=a.bannerHeight;return n.state={iframeSrc:e.templateSrc,bannerWidth:r,bannerHeight:o,displayUpgradeBtn:e.blockTemplate},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),w(t,[{key:"componentDidMount",value:function(){this.loadBanner()}},{key:"getPopinSizes",value:function(){var e=this.props,t=e.templateHeight,n=e.templateWidth,a=Math.max(Math.min(parseInt(n)+60,window.innerWidth-200),600),r=Math.min(parseInt(t)+211,window.outerHeight-400),o=1,i=1;n>a-50&&(o=Math.floor((a-50)/n*100)/100),t>r-211&&(i=Math.floor((r-211)/t*100)/100);var l=Math.min(o,i);return{bannerWidth:n*l,bannerHeight:t*l,containerWidth:a,containerHeight:r}}},{key:"render",value:function(){var e=this,t=this.getPopinSizes().containerWidth,n=this.props,a=n.onCancel,o=n.animatedTemplatePreview,i=this.state.displayUpgradeBtn,l=o?r.a.createElement(h.b,{placement:O.a.BOTTOM,title:g.a.replayTooltip},r.a.createElement("div",{className:b.a.refreshIcon},r.a.createElement(p.a,{onClick:this.loadBanner,size:y.a.XLARGE,skin:v.a.DARK_GREY,icon:E.a}))):null;return r.a.createElement(S.a,{width:t+"px",onClose:a,padding:"0"},r.a.createElement("div",{className:b.a.previewTemplatePopin},r.a.createElement("div",{className:b.a.header},r.a.createElement(d.a,{size:y.a.LARGE,label:g.a.previewHeader,skin:v.a.WHITE}),l),r.a.createElement("div",{ref:function(t){e.refIframecontainer=t},className:b.a.body}),r.a.createElement("div",{className:T("footer","clearfix")},r.a.createElement("div",{className:b.a.button},r.a.createElement(u.a,{label:i?g.a.upgradePopinFooterButtonUpgrade:g.a.startFromThis,skin:v.a.GREEN,size:y.a.NORMAL,onClick:i?this.goToUpgrade:this.onSubmit})),r.a.createElement("div",{className:b.a.button},r.a.createElement(u.a,{label:g.a.cancel,size:y.a.NORMAL,onClick:a})))))}}]),t}(a.Component),I=function(){var e=this;this.onSubmit=function(){e.props.onSubmit(e.props.templateHash)},this.loadBanner=function(){var t=e.state,n=t.bannerHeight,a=t.bannerWidth,o=t.iframeSrc;if(e.refIframecontainer){Object(l.unmountComponentAtNode)(e.refIframecontainer);var i=r.a.createElement(f.a,{iframeSrc:o,width:a,height:n});Object(l.render)(i,e.refIframecontainer)}},this.goToUpgrade=function(){window.open(C.b),e.props.onCancel()}};k.propTypes={templateSrc:i.a.string.isRequired,templateHash:i.a.string,onSubmit:i.a.func.isRequired,onCancel:i.a.func.isRequired,blockTemplate:i.a.bool,templateWidth:i.a.number,templateHeight:i.a.number,animatedTemplatePreview:i.a.bool},k.defaultProps={blockTemplate:!1,templateHash:"",templateWidth:300,templateHeight:250,animatedTemplatePreview:!1},t.a=k},1424:function(e,t,n){e.exports={previewTemplatePopin:"bvf",header:"bvg",footer:"bvh",button:"bvi",refreshIcon:"bvj",body:"bvk",shake:"bvl","fade-in":"bvm"}},1425:function(e,t,n){e.exports={layerComponent:"akt",selected:"aku",layer:"akv",layerIcon:"al0",lockIcon:"al1",layerGroup:"al2",visible:"al3",layerName:"al4",visibilityIcon:"al5",grabLayerIcon:"al6",shakeMe:"al7",shake:"al8",locked:"al9",borderSelected:"ala","fade-in":"alb"}},1426:function(e,t,n){e.exports={container:"ang",arrows:"anh",title:"ani",shake:"anj","fade-in":"ank"}},1427:function(e,t,n){e.exports={layerListContainer:"a6l",withPadding:"a6m",title:"a6n",separator:"a6o",sortableList:"a6p",helperDrag:"a6q",shake:"a6r","fade-in":"a6s"}},1428:function(e,t,n){e.exports={slidesAndLayers:"av8",slidesAndLayersHeader:"av9",toggleButton:"ava",arrowIcon:"avb",collapsed:"avc",tabs:"avd",slidesHeader:"ave",iconAndText:"avf",text:"avg",duration:"avh",content:"avi",slidesFooter:"avj",timelineToggle:"avk",timelineVisible:"avl",loopCountZone:"avm",proBadge:"avn",disabled:"avo",shake:"avp","fade-in":"avq"}},1429:function(e,t,n){e.exports={toolbarIcons:"rf",selected:"rg",shakeMe:"rh",shake:"ri",separator:"rj","fade-in":"rk"}},1430:function(e,t,n){e.exports={flipLayers:"a58",orderLayers:"a59",alignLayers:"a5a"}},1431:function(e,t,n){e.exports={sizeAndPositionGroup:"akj",sizeAndPositionLabel:"akk",sizeInputs:"akl",positionInputs:"akm",sizeAndPositionInputGroup:"akn",lockIconContainer:"ako",lockIcon:"akp",active:"akq",shake:"akr","fade-in":"aks"}},1432:function(e,t,n){e.exports={chooseImageContainer:"anv",imagePanel:"ao0",buttons:"ao1",stockPhotosButton:"ao2",buttonLabel:"ao3",settings:"ao4",separator:"ao5",imageList:"ao6",shake:"ao7","fade-in":"ao8"}},1433:function(e,t,n){e.exports={gradientGroup:"aoq",selectColor:"aor",selectGradientType:"aos",gradientGenerator:"aot",gradientAlign:"aou",gradientRotation:"aov",reverseButton:"ap0",shake:"ap1","fade-in":"ap2"}},1434:function(e,t,n){e.exports={colorGroupsContainer:"alg",item:"alh"}},1435:function(e,t,n){e.exports={imageFiltersGroup:"ajt",label:"aju",adjustShowOrHide:"ajv",youtube:"ak0",embed:"ak1",adjustSlider:"ak2",controls:"ak3",imageFilters:"ak4",filterPreset:"ak5",selected:"ak6",large:"ak7",lastOnRow:"ak8",original:"ak9",vivid:"aka",blackAndWhite:"akb",washed:"akc",faded:"akd",landscape:"ake",sunset:"akf",toy:"akg",retro:"akh",blackburn:"aki"}},1436:function(e,t,n){e.exports={cropContainer:"q5",crop:"q6",fullImage:"q7",cropCorners:"q8",cropCorner:"q9",topLeft:"qa",topRight:"qb",bottomRight:"qc",bottomLeft:"qd",hidden:"qe",shake:"qf","fade-in":"qg"}},1437:function(e,t,n){e.exports={infoContainer:"ql",info:"qm",rotating:"qn",shake:"qo","fade-in":"qp"}},1438:function(e,t,n){e.exports={groupHelperContainer:"t2",shake:"t3","fade-in":"t4"}},1439:function(e,t,n){e.exports={guidelines:"t5",line:"t6",vertical:"t7",guide:"t8",rulerHover:"t9",horizontal:"ta",temporary:"tb",shake:"tc","fade-in":"td"}},1440:function(e,t,n){e.exports={rulerContainer:"pm",horizontalRuler:"pn",rulerUnits:"po",unitLine:"pp",halfUnitLine:"pq",verticalRuler:"pr",rulerUnit:"ps",divisionLine:"pt",shake:"pu","fade-in":"pv"}},1441:function(e,t,n){e.exports={shadow:"a4a",shake:"a4b","fade-in":"a4c"}},1442:function(e,t,n){e.exports={selection:"q0",dragging:"q1",selectionRectangle:"q2",shake:"q3","fade-in":"q4"}},1443:function(e,t,n){e.exports={indicatorLine:"a4u",line:"a4v",shake:"a50","fade-in":"a51"}},1444:function(e,t,n){e.exports={playButton:"a6v",buttonsContainer:"a70",shake:"a71","fade-in":"a72"}},1445:function(e,t,n){e.exports={rulerContainer:"a73",resizing:"a74",inner:"a75",bannerDuration:"a76",separator:"a77",unitsContainer:"a78",divisionLine:"a79",unitLine:"a7a",shake:"a7b","fade-in":"a7c"}},1446:function(e,t,n){e.exports={container:"a7d",separator:"a7e",disabled:"a7f",shake:"a7g","fade-in":"a7h"}},1447:function(e,t,n){e.exports={buildPanelContainer:"aoj",body:"aok",settingsMode:"aol",enter:"aom",enterActive:"aon",shake:"aoo","fade-in":"aop"}},1448:function(e,t,n){e.exports={header:"as9",buildIcon:"asa",buildIconMid:"asb",settingsIcon:"asc",active:"asd",shake:"ase","fade-in":"asf"}},1449:function(e,t,n){e.exports={footer:"asg",arrow:"ash",left:"asi",right:"asj",pagesBullets:"ask",bullet:"asl",selected:"asm",buildMidSelect:"asn",shake:"aso","fade-in":"asp"}},1450:function(e,t,n){e.exports={stickyPresets:"asq",presets:"asr",separator:"ass",preset:"ast",selected:"asu",icon:"asv",label:"at0",shake:"at1","fade-in":"at2"}},1451:function(e,t,n){e.exports={timelineZoom:"ac2",button:"ac3",disabled:"ac4",shake:"ac5","fade-in":"ac6"}},1452:function(e,t,n){e.exports={wrapper:"a0j",barContainer:"a0k",bar:"a0l",playingSlide:"a0m",playHeadContainer:"a0n",shake:"a0o","fade-in":"a0p"}},1453:function(e,t,n){e.exports={timelineContainer:"qq",columnLeft:"qr",columnRight:"qs",resizeBar:"qt",resizing:"qu",layerListDisabled:"qv",layersHeader:"r0",title:"r1",layersIcon:"r2",layersContainer:"r3",timelineZoomContainer:"r4",hideZoom:"r5",disabled:"r6",heightTransition:"r7",shake:"r8","fade-in":"r9"}},1454:function(e,t,n){e.exports={transform:"vj",draggable:"vk",rotate:"vl",hidden:"vm",scale:"vn",scaleTL:"vo",scaleTC:"vp",scaleTR:"vq",scaleML:"vr",scaleMR:"vs",scaleBL:"vt",scaleBC:"vu",scaleBR:"vv",shake:"a00","fade-in":"a01"}},1455:function(e,t,n){e.exports={dropzoneContainer:"rl",dropzoneVisible:"rm",dropzoneContent:"rn",uploadIcon:"ro",text:"rp",uploadImageText:"rq",uploadMultipleText:"rr",enter:"rs",enterActive:"rt",leave:"ru",leaveActive:"rv",dropzone:"s0",shake:"s1","fade-in":"s2"}},1456:function(e,t,n){e.exports={zoom:"rb",button:"rc",shake:"rd","fade-in":"re"}},1457:function(e,t,n){e.exports={popoverSelect:"a09",option:"a0a",xlarge:"a0b",icon:"a0c",selected:"a0d",label:"a0e",darkGrey:"a0f",visible:"a0g",shake:"a0h","fade-in":"a0i"}},1458:function(e,t,n){e.exports={save:"a6t",close:"a6u"}},1459:function(e,t,n){e.exports={undoRedoContainer:"ra"}},1460:function(e,t,n){e.exports={stageMenu:"s3",rightContent:"s4",stepper:"s5",separator:"s6",prev:"s7",next:"s8",focusModeInfo:"s9",tipContent:"sa",timelineToggle:"sb",timelineVisible:"sc",addFileButton:"sd",noMargin:"se",saveFileButton:"sf",iconBorder:"sg",center:"sh",iconDiv:"si",zoomContainer:"sj",shake:"sk","fade-in":"sl"}},1461:function(e,t,n){e.exports={stageContainer:"kr",zoom:"ks",stage:"kt",stageElementsContainer:"ku",transparent:"kv",stageMenu:"l0",stageHolder:"l1",heightTransition:"l2",stagePan:"l3",shake:"l4","fade-in":"l5"}},1462:function(e,t,n){"use strict";var a=n(65),r=n(485),o=n(1155),i=Object(a.createSelector)([o.a],(function(e){return e.filter((function(e){return!e.locked})).findIndex((function(e){return e.name===r.a.resize}))}));t.a=i},1463:function(e,t,n){"use strict";var a=n(386),r=n(406),o=n(400),i=n(813),l=n(433),s=n(399),c=n(648),u=n(1026),d=n(453),p=n(820),f=n(513),h=n(50),m=n.n(h),b=n(388),g=n(4),y=n.n(g),v=n(0),E=n.n(v),S=n(7),O=n(417),C=n(57),w=n(1027),T=n(402),k=n(56),I=n(602),L=n(432),P=n(552),M=n(397),R=n(428),x=n(821),D=n(409),j=n(662),N=n(387),A=n(1429),_=n.n(A),B=n(512),H=n(391),U=n(471),z=n(392),G=n(488),F=n(489),W=n.n(F),V=n(394),q=n(422),K=n(563),Y=n(421),X={default:{event:"click",types:["none","gotoURL","gotoSlide"]},youtube:{event:"videoEnd",types:["none","gotoSlide"]}},Z=n(17),J=n(898),Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ee="next",te=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=$(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onActionChange=function(e,t){var n=a.props,r=n.action,o=n.onActionChange,i=r.set("type",t);"gotoSlide"===t&&(i=i.set("slide",ee)),o(i)},a.onInputPropertyChange=function(e,t){var n=a.props.action.set(e,t.target.value);a.props.onActionChange(n)},a.onSelectOrSwitchPropertyChange=function(e,t){var n=a.props.action.set(e,t);a.props.onActionChange(n)},$(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Q(t,[{key:"getPanels",value:function(){var e=this.props.action,t=[];if(e&&e.type)switch(e.type){case"":case"none":break;case"gotoURL":t=["url","target","useHandCursor"];break;case"gotoSlide":t="videoEnd"===X[this.props.elementType].event?["slide"]:["slide","useHandCursor"]}return t}},{key:"getEventLabel",value:function(){switch(X[this.props.elementType].event){case"click":return N.a.onClick;case"videoEnd":return N.a.whenVideoEnds;default:return""}}},{key:"getSelectList",value:function(e){var t=this,n=[],a=this.props,r=a.slidesIds,o=a.elementType;switch(e){case"actions":X[o].types.forEach((function(e){n.push({value:e,text:N.a[e]}),t.props.action.type&&(t.selectedAction=t.props.action.type===e?e:t.selectedAction)}));break;case"target":n=[{value:"_blank"},{value:"_self"},{value:"_parent"},{value:"_top"}];break;case"slides":if(n=[{value:"prev",text:N.a.prevSlide},{value:"next",text:N.a.nextSlide},{value:"first",text:N.a.firstSlide},{value:"last",text:N.a.lastSlide}],r)for(var i=0;i<this.props.slidesIds.size;i++)n.push({value:r.get(i),text:"Slide "+(i+1)})}return n}},{key:"render",value:function(){var e=this,t=X[this.props.elementType],n=this.getPanels().map((function(t){switch(t){case"url":return E.a.createElement("div",{className:W.a.group,key:t},E.a.createElement(K.a,{value:e.props.action.url,onChange:function(t){e.onInputPropertyChange("url",t)}}));case"target":return E.a.createElement("div",{className:W.a.group,key:t},E.a.createElement(q.a,{items:e.getSelectList("target"),onChange:function(t){e.onSelectOrSwitchPropertyChange("target",t)},value:e.props.action.target||"_blank"}));case"useHandCursor":return E.a.createElement("div",{key:t},E.a.createElement("hr",null),E.a.createElement(Y.a,{skin:S.a.BLUE,shape:"roundedRectangle",checked:e.props.action.useHandCursor,onChange:function(t){e.onSelectOrSwitchPropertyChange("useHandCursor",t)},checkBoxStyle:{marginRight:"8px"}},N.a.useHandCursor));case"slide":return E.a.createElement("div",{className:W.a.group,key:t},E.a.createElement(q.a,{items:e.getSelectList("slides"),onChange:function(t){e.onSelectOrSwitchPropertyChange("slide",t)},value:e.props.action.slide||ee}));default:return null}})),a=this.getEventLabel(),r=Object(B.a)("action");return E.a.createElement(G.a,{style:{width:r,left:this.props.left+"px",top:this.props.top+"px"}},E.a.createElement("div",{className:W.a.panelHeader},E.a.createElement(V.a,{size:Z.a.SMEDIUM,label:N.a.actionInspectorTooltip,skin:S.a.WHITE})),E.a.createElement("div",{className:W.a.group},E.a.createElement("div",{className:W.a.group},E.a.createElement(V.a,{label:a,skin:S.a.WHITE,size:Z.a.NORMAL})),E.a.createElement("div",{className:W.a.group},E.a.createElement(q.a,{items:this.getSelectList("actions"),onChange:function(n){e.onActionChange(t.event,n)},value:this.selectedAction})),n))}}]),t}(v.Component);te.propTypes={left:y.a.number.isRequired,top:y.a.number.isRequired,elementType:y.a.oneOf(["default","youtube"]),slidesIds:y.a.instanceOf(b.List),action:y.a.instanceOf(J.a),onActionChange:y.a.func.isRequired},te.defaultProps={elementType:"default",action:null,slidesIds:null};var ne,ae,re,oe,ie,le,se,ce,ue=te,de=n(65),pe=Object(de.createSelector)([D.a],(function(e){var t=null,n=!0,a=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=o.value,s=null;if(l.actions.size&&(s=l.actions.get(0)),!s)return null;if(t){var c=s.keySeq().toArray(),u=!0,d=!1,p=void 0;try{for(var f,h=c[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value;if(t[m]!==s[m])return null}}catch(e){d=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw p}}}else t=s}}catch(e){a=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw r}}return t})),fe=n(817),he=Object(a.c)((function(e){var t=Object(D.a)(e),n=1===t.size&&t.first().layerType===H.b.YOUTUBE?"youtube":"default",a=pe(e)||new J.a;return"youtube"===n&&(a=a.set("event","videoEnd")),{slidesIds:Object(fe.a)(e),action:a,elementType:n}}),(function(e){return{onActionChange:function(t){e(Object(s.M)({actions:new b.List([t])}))}}}))(ue),me=n(732),be=n(436),ge=n(1430),ye=n.n(ge),ve=n(1239),Ee=n(887),Se=n(493);function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce={x:{MAX:(ne={},Oe(ne,be.a.PX,4e3),Oe(ne,be.a.MM,1500),Oe(ne,be.a.CM,150),Oe(ne,be.a.IN,60),ne),MIN:(ae={},Oe(ae,be.a.PX,-4e3),Oe(ae,be.a.MM,-1500),Oe(ae,be.a.CM,-150),Oe(ae,be.a.IN,-60),ae)},y:{MAX:(re={},Oe(re,be.a.PX,4e3),Oe(re,be.a.MM,1500),Oe(re,be.a.CM,150),Oe(re,be.a.IN,60),re),MIN:(oe={},Oe(oe,be.a.PX,-4e3),Oe(oe,be.a.MM,-1500),Oe(oe,be.a.CM,-150),Oe(oe,be.a.IN,-60),oe)},width:{MAX:(ie={},Oe(ie,be.a.PX,3e3),Oe(ie,be.a.MM,1e3),Oe(ie,be.a.CM,100),Oe(ie,be.a.IN,40),ie),MIN:(le={},Oe(le,be.a.PX,1),Oe(le,be.a.MM,.4),Oe(le,be.a.CM,.04),Oe(le,be.a.IN,.014),le)},height:{MAX:(se={},Oe(se,be.a.PX,3e3),Oe(se,be.a.MM,1e3),Oe(se,be.a.CM,100),Oe(se,be.a.IN,40),se),MIN:(ce={},Oe(ce,be.a.PX,1),Oe(ce,be.a.MM,.4),Oe(ce,be.a.CM,.04),Oe(ce,be.a.IN,.014),ce)}},we=n(530),Te=n(1431),ke=n.n(Te),Ie=E.a.createElement("svg",{width:"8px",height:"10px",viewBox:"0 0 8 10"},E.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},E.a.createElement("g",{id:"groupWithFill",transform:"translate(-102.000000, -85.000000)",fillRule:"nonzero"},E.a.createElement("g",{id:"Group-6",transform:"translate(97.000000, 81.000000)"},E.a.createElement("g",{id:"ic_phonelink_lock_black_18px",transform:"translate(5.000000, 4.000000)"},E.a.createElement("path",{d:"M6.8,4 L6.8,2.5 C6.8,1.1 5.4,0 4,0 C2.6,0 1.2,1.1 1.2,2.5 L1.2,4 C0.6,4 0,4.6 0,5.2 L0,8.7 C0,9.4 0.6,10 1.2,10 L6.7,10 C7.4,10 8,9.4 8,8.8 L8,5.3 C8,4.6 7.4,4 6.8,4 Z M5.5,4 L2.5,4 L2.5,2.5 C2.5,1.7 3.2,1.2 4,1.2 C4.8,1.2 5.5,1.7 5.5,2.5 L5.5,4 Z",id:"Shape"})))))),Le=n(705),Pe=n(405),Me=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=m.a.bind(ke.a),De=7,je={X:"x",Y:"y",WIDTH:"width",HEIGHT:"height"},Ne=function(e){return Math.max(Math.min(parseFloat(e)||"",3e3),1)},Ae=function(e){return Math.max(Math.min(parseFloat(e)||"",9e3),-9e3)},_e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.props.measureUnit,o=be.a.PX,i=Object(Se.b)(Object(Se.a)(r,o,+t),r!==o||e!==je.WIDTH&&e!==je.HEIGHT?we.a[r]:1);n.setState(Re({},e,i)),a.fromControls&&n.applyChange(e,i)},n.onInputKeyUp=function(e,t){(t.keyCode||t.which)===O.a.enter&&n.applyChange(e)},n.onInputBlur=function(e){n.applyChange(e)},n.onLockIconClick=function(){n.setState((function(e){return{lockedSize:!e.lockedSize}}))},n.getInput=function(e){var t=n.props.measureUnit,a=be.a.PX,r=void 0,o=we.a[t],i=!0;switch(e){case je.WIDTH:r="W:",t===a&&(o=1),i=!1;break;case je.HEIGHT:r="H:",t===a&&(o=1),i=!1;break;case je.X:r="X:",i=!0;break;case je.Y:r="Y:",i=!0}var l=Object(Se.b)(Object(Se.a)(a,t,+n.state[e]),o);return E.a.createElement("div",{className:ke.a.sizeAndPositionInputGroup},E.a.createElement("div",{className:ke.a.label},E.a.createElement(V.a,{label:r,skin:S.a.WHITE,size:Z.a.NORMAL})),E.a.createElement(Ee.a,{value:l.toFixed(o),width:"62px",height:"28px",max:Ce[e].MAX[t],min:Ce[e].MIN[t],allowNegative:i,decimals:o,maxLength:De,onChange:function(t,a){n.onInputChange(e,t,a)},onKeyUp:function(t){n.onInputKeyUp(e,t)},onBlur:function(){n.onInputBlur(e)}}))},n.getSizeInputs=function(){var e=n.state.lockedSize,t=n.props.modelDisplayType;if(t===H.b.TEXT)return null;var a=t===H.b.BUTTON?null:E.a.createElement(z.b,{title:e?N.a.proportionsUnlock:N.a.proportionsLock,placement:Pe.a.BOTTOM},E.a.createElement("div",{className:xe("lockIconContainer",{active:e}),onClick:n.onLockIconClick},E.a.createElement("div",{className:ke.a.lockIcon},Ie)));return E.a.createElement("div",{className:ke.a.sizeInputs},n.getInput(je.WIDTH),a,n.getInput(je.HEIGHT))},n.getPositionInputs=function(){return E.a.createElement("div",{className:ke.a.positionInputs},n.getInput(je.X),n.getInput(je.Y))},n.applyChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=n.state,r=a.width,o=a.height,i=a.lockedSize,l=a.propWH,s=e===je.WIDTH,c=e===je.HEIGHT,u=null!==t?t:n.state[e];if(""===u||"-"===u||(s||c)&&"0"===u){var d="model"+e.charAt(0).toUpperCase()+e.slice(1);n.setState(Re({},e,n.props[d]))}else{var p=s||c?Ne(u):Ae(u),f=Re({},e,p);i&&(s?f.height=Ne(p/l):c&&(f.width=Ne(p*l))),n.setState(f),(s||c)&&n.setState({propWH:(f.width||r)/(f.height||o)}),n.props.onPropertiesChange(f)}},n.state={x:parseFloat(e.modelX),y:parseFloat(e.modelY),width:parseFloat(e.modelWidth),height:parseFloat(e.modelHeight),propWH:e.modelWidth/e.modelHeight,lockedSize:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Me(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=t.x,a=t.y,r=t.width,o=t.height,i=e.modelX,l=e.modelY,s=e.modelWidth,c=e.modelHeight,u=parseFloat(s),d=parseFloat(c),p={};i!==n&&(p.x=parseFloat(i)),l!==a&&(p.y=parseFloat(l)),u!==r&&(p.width=u,p.propWH=u/o),d!==o&&(p.height=d,p.propWH=r/d),u!==r&&d!==o&&(p.propWH=u/d),Object(Le.a)(p)||this.setState(p)}},{key:"render",value:function(){var e=this.getSizeInputs();return E.a.createElement("div",{className:ke.a.sizeAndPositionGroup},E.a.createElement("div",{className:ke.a.sizeAndPositionLabel},E.a.createElement(V.a,{label:e?N.a.sizeAndPosition:N.a.position,skin:S.a.WHITE,size:Z.a.NORMAL})),e,this.getPositionInputs())}}]),t}(v.Component);_e.propTypes={modelX:y.a.number,modelY:y.a.number,modelWidth:y.a.number,modelHeight:y.a.number,modelDisplayType:y.a.string,onPropertiesChange:y.a.func,measureUnit:y.a.string},_e.defaultProps={modelX:null,modelY:null,modelWidth:null,modelHeight:null,modelDisplayType:null,onPropertiesChange:function(){},measureUnit:be.a.PX};var Be=_e,He=n(1057),Ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ze(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ge=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=ze(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onSizeAndPositionChange=function(e){var t,n,r,o=a.props,i=o.elementsData,l=o.elementsMetrics,s=[],c=!0,u=!1,d=void 0;try{for(var p,f=i[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=p.value;for(var m in e)m in e&&s.push({id:h.id,props:(t={},n=m,r=h[m]+(e[m]-l[m]),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)})}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}a.props.onPropertiesChange(s)},a.getSizeAndPositionGroup=function(e){var t=a.props,n=t.elementsMetrics,r=t.layerType,o=t.measureUnit,i=n.x,l=n.y,s=n.width,c=n.height;return E.a.createElement("div",{className:W.a.group,style:{marginBottom:"10px"},key:e},E.a.createElement(Be,{modelX:i,modelY:l,modelWidth:s,modelHeight:c,modelDisplayType:r,onPropertiesChange:a.onSizeAndPositionChange,measureUnit:o}))},a.getCurrentFlipValue=function(){return a.props.elementsData.first().flip},a.getCurrentIsOnAllSlides=function(){return a.props.elementsData.first().isOnAllSlides},ze(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ue(t,[{key:"onFlipChange",value:function(e){var t="";switch(this.getCurrentFlipValue()){case"none":t=e;break;case"horizontal":t="horizontal"===e?"none":"both";break;case"vertical":t="horizontal"===e?"both":"none";break;case"both":t="vertical"===e?"horizontal":"vertical"}this.props.onFlipChange(t)}},{key:"getFlipLayer",value:function(e){var t=this,n=this.getCurrentFlipValue();return E.a.createElement(z.b,{title:N.a["flip"+Object(M.b)(e)],placement:Pe.a.BOTTOM},E.a.createElement("span",null,E.a.createElement(U.a,{icon:"flip"+Object(M.b)(e),inlineBlock:!0,iconSize:Z.a.LARGE,skin:S.a.BLUE,height:"28px",width:"28px",onClickHandler:function(){t.onFlipChange(e)},enabled:!0,selected:n===e||"both"===n})))}},{key:"getFlipLayers",value:function(e){return E.a.createElement("div",{className:W.a.group,key:e},E.a.createElement("div",null,E.a.createElement(V.a,{label:N.a.flipLayer,skin:S.a.WHITE,size:Z.a.NORMAL})),E.a.createElement("div",{className:ye.a.flipLayers},E.a.createElement("span",null,this.getFlipLayer("horizontal")),E.a.createElement(ve.a,{skin:S.a.GREY,size:Z.a.SMALL,extraStyle:{margin:"0 7px"}}),E.a.createElement("span",null,this.getFlipLayer("vertical"))))}},{key:"getChangeLayerOrder",value:function(e){var t=this.props,n=t.onLayerOrderClick,a=t.elementsData,r=t.slideElementsCount,o=r<2,i=!o&&a.every((function(e){return e.position<r-1})),l=!o&&a.every((function(e){return e.position>0})),s=[{name:"moveDown",enabled:l},{name:"moveUp",enabled:i},{name:"moveToBack",enabled:l},{name:"moveToFront",enabled:i}].map((function(e,t){var a=t>0?E.a.createElement(ve.a,{skin:S.a.GREY,size:Z.a.SMALL,extraStyle:{margin:"0 7px"}}):null;return E.a.createElement("span",{key:e.name},a,E.a.createElement(z.b,{placement:Pe.a.BOTTOM,title:N.a[""+e.name]},E.a.createElement("span",null,E.a.createElement(U.a,{icon:e.name,inlineBlock:!0,height:"28px",width:"28px",onClickHandler:function(){n(e.name)},enabled:e.enabled}))))}));return E.a.createElement("div",{className:W.a.group,key:e},E.a.createElement("div",null,E.a.createElement(V.a,{label:N.a.layerOrder,skin:S.a.WHITE,size:Z.a.NORMAL})),E.a.createElement("div",{className:ye.a.orderLayers},s))}},{key:"getAlignLayerControls",value:function(e){var t=this.props.onLayerAlignClick,n=[{name:He.a.LEFT},{name:He.a.CENTER},{name:He.a.RIGHT},{name:He.a.TOP},{name:He.a.MIDDLE},{name:He.a.BOTTOM}].map((function(e){return E.a.createElement("span",{key:e.name,style:{marginRight:"1px"}},E.a.createElement(z.b,{placement:Pe.a.BOTTOM,title:N.a[""+e.name]},E.a.createElement("span",null,E.a.createElement(U.a,{icon:e.name,iconSize:Z.a.LARGE,inlineBlock:!0,height:"28px",width:"28px",onClickHandler:function(){t(e.name)}}))))}));return E.a.createElement("div",{className:W.a.group,key:e},E.a.createElement("div",null,E.a.createElement(V.a,{label:N.a.align,skin:S.a.WHITE,size:Z.a.NORMAL})),E.a.createElement("div",{className:ye.a.alignLayers},n))}},{key:"getShowOnAllSlide",value:function(e){return E.a.createElement("div",{key:e},E.a.createElement("hr",null),E.a.createElement("div",null,E.a.createElement(Y.a,{checked:this.getCurrentIsOnAllSlides(),skin:S.a.BLUE,shape:"roundedRectangle",onChange:this.props.onOverlayChange,checkBoxStyle:{marginRight:"8px"}},N.a.showOnAllSlides)))}},{key:"getContainers",value:function(){var e=this;return this.props.layerSettings.map((function(t){switch(t){case"sizeAndPosition":return e.getSizeAndPositionGroup(t);case"alignControls":return e.getAlignLayerControls(t);case"flip":return e.getFlipLayers(t);case"layerOrder":return e.getChangeLayerOrder(t);case"showOnAllSlides":return e.getShowOnAllSlide(t)}return null}))}},{key:"render",value:function(){var e=this.props,t=e.left,n=e.top,a=this.getContainers(),r=Object(B.a)("layers");return E.a.createElement(G.a,{style:{width:r,left:t+"px",top:n+"px"}},E.a.createElement("div",{className:W.a.panelHeader},E.a.createElement(V.a,{size:Z.a.SMEDIUM,label:N.a.layersInspectorTooltip,skin:S.a.WHITE})),a)}}]),t}(v.Component);Ge.propTypes={left:y.a.number,top:y.a.number,onLayerOrderClick:y.a.func.isRequired,onLayerAlignClick:y.a.func.isRequired,onOverlayChange:y.a.func.isRequired,slideElementsCount:y.a.number,layerType:y.a.oneOf([H.b.TEXT,H.b.BUTTON,H.b.EMBED,H.b.IMAGE,H.b.SHAPE,H.b.SVG,H.b.CLIPART,H.b.YOUTUBE,H.b.GROUP,H.b.MIXED]).isRequired,elementsMetrics:y.a.instanceOf(Object),elementsData:y.a.instanceOf(b.List),layerSettings:y.a.arrayOf(y.a.string),onPropertiesChange:y.a.func,onFlipChange:y.a.func,measureUnit:y.a.string},Ge.defaultProps={left:0,top:0,slideElementsCount:0,elementsData:new b.List,elementsMetrics:{},measureUnit:be.a.PX,layerSettings:[],onPropertiesChange:function(){},onFlipChange:function(){}};var Fe=Ge,We=n(930),Ve=n(441),qe=n(758),Ke=n(566);var Ye=function(e,t){if(!e.length)return t;var n=new Set(t);return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(new Set(e))).filter((function(e){return n.has(e)}))},Xe=Object(de.createSelector)([D.a],(function(e){return e.some((function(e){return!!e.group}))})),Ze=n(757),Je=Object(de.createSelector)([D.a,Ze.a],(function(e,t){return 1===e.size?e.first().layerType:t?H.b.GROUP:H.b.MIXED})),Qe=Object(de.createSelector)([D.a,Je,Xe,l.a,o.a],(function(e,t,n,a,r){if(!e.size)return[];var o=[],i=new Set;return n||t!==H.b.MIXED?o=Ke.a.layers[t]:(e.forEach((function(e){var t=e.layerType;o=Ye(o,Ke.a.layers[t])})),e.size>1&&i.add("sizeAndPosition")),!n&&Object(B.c)(t,a,r)||i.add("showOnAllSlides"),t!==H.b.GROUP&&t!==H.b.MIXED||i.add("layerOrder"),i.size&&(o=o.filter((function(e){return!i.has(e)}))),o})),$e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},et=Object(a.c)((function(e){var t=e.bannerCreator.editor.banner,n=t.selectedLayers,a=t.bannerPathMap,r=t.banner,o=Je(e),i=n.get(0),l=r.getIn(a[i].slice(0,-2)).elements.filter((function(e){return e.elementType===Ve.a.LAYER})),s=new b.List,c=new b.List,u=function(e){var t=a[e],n=2===t.length,o=r.getIn(t),i=o.x,u=o.y,d=o.width,p=o.height,f=o.flip,h=o.rotation,m=o.layerType,b=o.cropData;s=s.push({id:e,x:i,y:u,width:d,height:p,isOnAllSlides:n,flip:f||"none",layerType:m,position:l.findIndex((function(t){return t.id===e})),cropData:b}),c=c.push({x:i,y:u,width:d,height:p,rotation:h})},d=!0,p=!1,f=void 0;try{for(var h,m=n[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){u(h.value)}}catch(e){p=!0,f=e}finally{try{!d&&m.return&&m.return()}finally{if(p)throw f}}var g=Object(qe.a)(c),y=Qe(e);return{measureUnit:r.measureUnit,layerType:o,elementsData:s,elementsMetrics:g,slideElementsCount:l.size,layerSettings:y}}),(function(e){return{onLayerOrderClick:function(t){var n={moveDown:"down",moveUp:"up",moveToBack:"bottom",moveToFront:"top"};n[t]&&e(Object(s.k)(n[t]))},onLayerAlignClick:function(t){e(Object(s.J)(t))},onOverlayChange:function(){e(Object(s.R)())},onFlipChange:function(t){e(Object(s.M)({flip:t}))},onPropertiesChange:function(t){e(Object(s.G)(t))}}}),(function(e,t,n){return $e({},n,e,t,{onPropertiesChange:function(n){var a;if(a=e.layerType,[H.b.IMAGE,H.b.SHAPE].indexOf(a)>-1){var r={},o=[],i=!0,l=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;r[d.id]||(r[d.id]={}),Object.assign(r[d.id],d.props)}}catch(e){l=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(l)throw s}}var p=Object.keys(r),f=function(t){var n=parseInt(t),a=r[n];if(a.width||a.height){var i=e.elementsData.find((function(e){return e.id===n})),l=a.width&&a.width!==i.width,s=a.height&&a.height!==i.height,c=void 0;c=l&&s?me.a.BOTTOM_RIGHT:l?me.a.MIDDLE_RIGHT:me.a.BOTTOM_CENTER,a.cropData=Object(We.a)(e.elementsData.find((function(e){return e.id===n})),a,c)}o.push({id:n,props:a})},h=!0,m=!1,b=void 0;try{for(var g,y=p[Symbol.iterator]();!(h=(g=y.next()).done);h=!0){f(g.value)}}catch(e){m=!0,b=e}finally{try{!h&&y.return&&y.return()}finally{if(m)throw b}}t.onPropertiesChange(o)}else t.onPropertiesChange(n)}})}))(Fe);et.propTypes={left:y.a.number.isRequired,top:y.a.number.isRequired};var tt=et,nt=n(528),at=n(542),rt=Object(de.createSelector)([D.a],(function(e){if(!e.size)return[];var t=[],n=!0;return e.forEach((function(e){var a=e.layerType;t=Ye(t,Ke.a.color[a]),n&&(n=![H.b.SVG,H.b.YOUTUBE,H.b.IMAGE].includes(a))})),!n||t.includes("background")||t.includes("chooser")||t.unshift("chooser"),e.size>1&&t.includes("multiple-colors-chooser")&&t.filter((function(e){return"multiple-colors-chooser"!==e})),t})),ot=n(431),it=n.n(ot),lt=n(579),st=n(722),ct=n(596),ut=n(900),dt=n(482),pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft=function(e){return e.bannerCreator.editor.banner.selectedTab},ht=Object(b.Record)({color:null,fontFamily:null,fontWeight:null,fontStyle:null,fontType:null,fontUrl:null,fontFaceUrl:null,letterSpacing:null}),mt=function(e,t){switch(t.layerType){case H.b.BUTTON:return"labelStyle"===e?new ht(t.labelSettings.toJS()):t.styleSettings[e]||t.labelSettings[e];default:return t[e]}},bt=function(e,t){switch(t.layerType){case H.b.BUTTON:return"labelStyle"===e?new ht(t.labelStyle.toJS()):t[e];default:return t[e]}},gt=function(e,t){return!(e&&t||0===e||0===t)||("object"!==(void 0===e?"undefined":pt(e))&&"object"!==(void 0===t?"undefined":pt(t))?e===t:Object(M.r)(e.toJS(),t.toJS()))},yt=function(e,t){if(e.type!==t.type)return!1;var n=e,a=t;if("rgrad"===e.type&&"rgrad"===t.type){var r=!0,o=!1,i=void 0;try{for(var l,s=["scaleMode","url","hqUrl","backgroundRotation"][Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var c=l.value;n=n.set(c,null),a=a.set(c,null)}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}else if("lgrad"===e.type&&"lgrad"===t.type){var u=!0,d=!1,p=void 0;try{for(var f,h=["scaleMode","url","hqUrl","rgradPos"][Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value;n=n.set(m,null),a=a.set(m,null)}}catch(e){d=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw p}}}else if("image"===e.type&&"image"===t.type){var b=!0,g=!1,y=void 0;try{for(var v,E=["rgradPos","backgroundRotation","gradColors"][Symbol.iterator]();!(b=(v=E.next()).done);b=!0){var S=v.value;n=n.set(S,null),a=a.set(S,null)}}catch(e){g=!0,y=e}finally{try{!b&&E.return&&E.return()}finally{if(g)throw y}}}else{var O=!0,C=!1,w=void 0;try{for(var T,k=["scaleMode","url","hqUrl","rgradPos","backgroundRotation","gradColors"][Symbol.iterator]();!(O=(T=k.next()).done);O=!0){var I=T.value;n=n.set(I,null),a=a.set(I,null)}}catch(e){C=!0,w=e}finally{try{!O&&k.return&&k.return()}finally{if(C)throw w}}}return gt(n,a)},vt=function e(t,n,a){for(var r=!1,o=0;o<t.size;o++){var i=t.get(o);if(i.style){var l=i.style.get(n);if(("fontFaceUrl"!==n&&i.style.get("fontType")!==dt.a.CUSTOM||i.style.get("fontType")===dt.a.CUSTOM)&&l&&l!==a){r=!0;break}if(i.children&&i.children.size)return e(i.children,n,a)}}return r},Et=it()([function(e){return e.bannerCreator.generator.jsons.bannersetJson},function(e){return e.bannerCreator.generator.slides.selectedSlideIndex},D.a,ft],(function(e,t,n,a){var r="color"===a?lt.a.FILL:a,o=n.first(),i=Object(ct.b)(e,t).find((function(e){return e.bannersetElementId===o.bannersetElementId}));if(!o||!i)return!1;var l=o.layerType,s=l===H.b.TEXT,c=!1;if(r!==lt.a.TRANSITION){var u=ut.a[r]?ut.a[r][l]:null;if(u)for(var d=0;d<u.length;d++){var p=u[d],f=mt(p,i);if(!o.lockedProperties.includes(r)){var h=bt(p,o);if("dropShadow"===p||"textShadow"===p||"labelShadow"===p){if(!1===f.useShadow&&!1===h.useShadow)continue}else if("backgroundColor"===p){if(yt(f,h))continue;c=!0;break}if(s&&st.a.includes(p)){var m=o.config;if(vt(m,p,f)){c=!0;break}}else if(!gt(f,h)){c=!0;break}}}}return c}))((function(e){return ft(e)})),St=n(411),Ot=n(885),Ct=n(739),wt=n(647),Tt=n(644),kt=n(473),It=n(555),Lt=n(580),Pt=n(556),Mt=n(508),Rt=n(554),xt=n(529),Dt=n(553),jt=n(609),Nt=n(557),At=n(638),_t=n(393),Bt=n(765),Ht=n(467),Ut=n(719),zt=n(398),Gt=n(114),Ft=n(882),Wt=n(468),Vt=n(500),qt=n(994),Kt=n(1432),Yt=n.n(Kt),Xt=n(822),Zt=n(819),Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function $t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var en=m.a.bind(Yt.a),tn=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=$t(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={initialUrl:a.props.settings.url,currentUrl:a.props.settings.url,imagesToolSelectedItem:Vt.a.MY_IMAGES,showImagePanel:!1,showCancelButton:!1,itemType:null},a.onImagePanelOK=function(){a.setState({initialUrl:a.state.currentUrl,showCancelButton:!1}),a.closeImagePanel()},a.onImagePanelCancel=function(){var e=a.state,t=e.initialUrl,n=e.itemType;a.props.onImageChange({url:t,type:n}),a.closeImagePanel(),a.setState({showCancelButton:!1})},a.onImageSelect=function(e){var t=a.props.elementType,n=e.type,r=e.download,o=e.imagePath,i=e.hqUrl,l=e.originalHeight,s=e.originalWidth,c=e.width,u=e.height,d={type:n,url:r||o,hqUrl:i,originalHeight:l,originalWidth:s};t===Wt.a.LOGO&&(d=Jt({},d,{width:c,height:u})),a.setState({currentUrl:d.url,showCancelButton:!0,itemType:n}),a.props.onImageChange(d)},a.onImageAlignChange=function(e){var t=Object(M.h)(e);a.props.displayType===H.b.SHAPE?a.props.onAlignChange(t):(a.props.onSettingsChange("horizontalAlign",t.horizontalAlign),a.props.onSettingsChange("verticalAlign",t.verticalAlign))},a.closeImagePanel=function(){a.setState({showImagePanel:!1}),a.props.closeImagePanel()},a.openStockLibrary=function(){a.setState({imagesToolSelectedItem:Vt.a.STOCK_PHOTOS,showImagePanel:!0}),a.props.openStockLibrary()},a.openMyImages=function(){a.setState({imagesToolSelectedItem:Vt.a.MY_IMAGES,showImagePanel:!0}),a.props.openMyImages()},$t(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Qt(t,[{key:"componentWillMount",value:function(){var e=this.props.opened;e===Vt.a.STOCK_PHOTOS?this.openStockLibrary():e===Vt.a.MY_IMAGES&&this.openMyImages()}},{key:"renderSelectOptions",value:function(){var e=E.a.createElement(V.a,{label:N.a.addChangeImage,skin:S.a.WHITE,size:Z.a.NORMAL}),t=this.props.hideStockLibrary,n=t?null:E.a.createElement("div",{className:Yt.a.stockPhotosButton},E.a.createElement(Gt.a,{size:Z.a.MEDIUM,skin:S.a.BLUE,onClick:this.openStockLibrary,minWidth:"102px"},E.a.createElement("span",{className:Yt.a.buttonLabel},N.a.stockLibrary))),a=E.a.createElement(Gt.a,{size:Z.a.MEDIUM,skin:S.a.BLUE,onClick:this.openMyImages,minWidth:t?"100%":"75px"},E.a.createElement("span",{className:Yt.a.buttonLabel},N.a.upload));return E.a.createElement("div",null,E.a.createElement("div",{className:Yt.a.labelButtons},e),E.a.createElement("div",{className:Yt.a.buttons},n,a))}},{key:"renderImagePanel",value:function(){var e=void 0,t=void 0;return this.state.imagesToolSelectedItem===Vt.a.STOCK_PHOTOS?(e=E.a.createElement(Xt.a,{onImageClick:this.onImageSelect}),t=N.a.stockLibrary):(e=E.a.createElement(Zt.a,{onImageClick:this.onImageSelect,placement:zt.a.GENERATOR}),t=N.a.uploadMyImages),E.a.createElement("div",{className:Yt.a.imageList,key:"imageListContent"},E.a.createElement(qt.a,{title:t,onApply:this.onImagePanelOK,onClose:this.onImagePanelCancel,showCancelButton:this.state.showCancelButton,hasScroll:!1,hideHeader:this.props.hideHeader},E.a.createElement("div",{className:Yt.a.imagePanel},e)))}},{key:"renderImageSettings",value:function(){var e=this.props,t=e.settings,n=e.hideImageSettings,a=e.onSettingsChange,r=e.openDropdownPosition,o=e.displayType;if(this.state.showImagePanel||!t.url||n)return null;var i=t.scaleMode,l=t.horizontalAlign,s=t.verticalAlign,c=t.contentScale,u=t.contentOffsetX,d=t.contentOffsetY,p=t.rgradPos,f=Object(M.d)(p);return E.a.createElement("div",{className:Yt.a.settings},E.a.createElement("div",{className:Yt.a.separator}),E.a.createElement(Ft.a,{alignMode:f,onAlignChange:this.onImageAlignChange,onChange:a,noImageChange:!0,scaleMode:i,horizontalAlign:l,verticalAlign:s,contentScale:c,contentOffsetX:u,contentOffsetY:d,openDropdownPosition:r,displayType:o}))}},{key:"render",value:function(){var e=this.state.showImagePanel,t=this.renderImagePanel(),n=E.a.createElement("div",null,this.renderSelectOptions(),this.renderImageSettings());return E.a.createElement("div",{className:en("chooseImageContainer",{showImagePanel:e}),style:e?{minHeight:"400px"}:null},e?t:n)}}]),t}(v.Component);tn.propTypes={settings:y.a.shape({backgroundRotation:y.a.oneOfType([y.a.number,y.a.string]),gradColors:y.a.arrayOf(y.a.shape({c:y.a.string,p:y.a.string})),rgradPos:y.a.string,scolor:y.a.string,type:y.a.string,borderColor:y.a.string,contentOffsetX:y.a.number,contentOffsetY:y.a.number,contentScale:y.a.oneOfType([y.a.number,y.a.string]),horizontalAlign:y.a.string,scaleMode:y.a.string,url:y.a.string,useBorder:y.a.bool,verticalAlign:y.a.string}),displayType:y.a.oneOf([H.b.BACKGROUND,H.b.BUTTON,H.b.EMBED,H.b.SHAPE,H.b.IMAGE,H.b.SVG]),onImageChange:y.a.func.isRequired,onSettingsChange:y.a.func,onAlignChange:y.a.func,openDropdownPosition:y.a.string,hideStockLibrary:y.a.bool,hideImageSettings:y.a.bool,closeImagePanel:y.a.func,openStockLibrary:y.a.func,openMyImages:y.a.func,hideHeader:y.a.bool,opened:y.a.string,elementType:y.a.oneOf([Wt.a.UPLOAD_IMAGES,Wt.a.STOCK_IMAGES,Wt.a.LOGO,Wt.a.LIBRARY_SVG])},tn.defaultProps={settings:{},onAlignChange:function(){},onSettingsChange:function(){},openDropdownPosition:_t.a.BOTTOM,hideStockLibrary:!1,hideImageSettings:!1,closeImagePanel:function(){},openStockLibrary:function(){},openMyImages:function(){},hideHeader:!1,opened:null,displayType:H.b.BACKGROUND,elementType:Wt.a.UPLOAD_IMAGES};var nn=tn,an=n(804),rn=n(668),on=n(443),ln=E.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18"},E.a.createElement("g",{stroke:"none",fill:"none"},E.a.createElement("g",{transform:"translate(-677.000000, -438.000000)"},E.a.createElement("g",{transform:"translate(610.000000, 431.000000)"},E.a.createElement("g",{transform:"translate(64.000000, 2.000000)"},E.a.createElement("g",{transform:"translate(0.000000, 2.000000)"},E.a.createElement("polygon",{points:"0 0 24 0 24 24 0 24"}),E.a.createElement("path",{d:"M16,14 L18,14 L18,8 C18,6.9 17.1,6 16,6 L10,6 L10,8 L16,8 L16,14 Z M8,16 L8,3 L6, 3 L6,6 L3,6 L3,8 L6,8 L6,16 C6,17.1 6.9,18 8,18 L16,18 L16,21 L18,21 L18,18 L21, 18 L21,16 L8,16 Z",fill:"#2E3246"}))))))),sn=n(589),cn=n(544),un=n(805),dn=n(551),pn=n(511),fn=m.a.bind(W.a),hn=function(e){var t=e.scaleMode===cn.a.TILE?E.a.createElement("div",{className:W.a.backgroundGroup},E.a.createElement("div",{className:W.a.group},E.a.createElement(dn.a,{onChange:function(t){e.onChange("contentScale",t)},value:parseInt(e.contentScale),label:N.a.tileZoom,min:10,usePercent:!0}),E.a.createElement(dn.a,{onChange:function(t){e.onChange("contentOffsetX",t)},value:parseInt(e.contentOffsetX),label:N.a.offsetX,usePercent:!0}),E.a.createElement(dn.a,{onChange:function(t){e.onChange("contentOffsetY",t)},value:parseInt(e.contentOffsetY),label:N.a.offsetY,usePercent:!0}))):null,n=Object.keys(cn.a).filter((function(t){return!(e.displayType===H.b.EMBED&&cn.a[t]===cn.a.CROP)})).map((function(e){return{value:cn.a[e],text:N.a[un.a[e]]}})),a=e.scaleMode!==cn.a.CROP&&e.scaleMode!==cn.a.TILE&&e.scaleMode!==cn.a.EXACT_FIT?E.a.createElement(sn.a,{skin:S.a.BLUE,selected:Object(M.g)(e.horizontalAlign+e.verticalAlign),onPositionSelect:e.onAlignChange}):null,r=e.showCropButton?E.a.createElement("div",{className:W.a.cropButton},E.a.createElement(on.a,{icon:ln,iconSize:Z.a.MEDIUM,size:Z.a.MEDIUM,skin:S.a.GREY,disabled:e.disableCropButton,onClickHandler:e.onCropImage},E.a.createElement("span",{style:{fontSize:"12px",fontWeight:"500",paddingLeft:"6px"}},N.a.crop,E.a.createElement(z.b,{title:N.a.cropTooltip,placement:Pe.a.TOP},E.a.createElement("sup",null,"?"))))):null,o=e.noImageChange?null:E.a.createElement(v.Fragment,null,E.a.createElement("div",{className:W.a.changeElementInfo},N.a.changeImageInfo),E.a.createElement("div",{className:W.a.buttonsContainer},E.a.createElement(on.a,{minWidth:"93px",size:Z.a.MEDIUM,skin:S.a.BLUE,onClickHandler:function(){e.onImageChange(pn.a.STOCK_PHOTOS)}},E.a.createElement("span",null," ",N.a.stockPhotos," ")),E.a.createElement(on.a,{minWidth:"73px",size:Z.a.MEDIUM,skin:S.a.BLUE,onClickHandler:function(){e.onImageChange(pn.a.MY_UPLOADS)}},E.a.createElement("span",null," ",N.a.upload," "))),E.a.createElement("hr",null),r);return E.a.createElement("div",{className:W.a.backgroundImageGroup},o,E.a.createElement("div",{className:fn("group")},E.a.createElement("div",{style:{marginBottom:"5px"}},E.a.createElement(V.a,{label:N.a.cropSettings,skin:S.a.WHITE,size:Z.a.NORMAL})),E.a.createElement("div",{className:W.a.scale},E.a.createElement(q.a,{items:n,value:e.scaleMode,onChange:function(t){e.onChange("scaleMode",t)},width:"114px",openDropdownPosition:e.openDropdownPosition})),a),t)};hn.defaultProps={onImageChange:function(){},scaleMode:"crop",horizontalAlign:"center",verticalAlign:"center",contentScale:55,contentOffsetX:50,contentOffsetY:50,noImageChange:!1,openDropdownPosition:_t.a.BOTTOM,displayType:H.b.BACKGROUND,onCropImage:function(){},showCropButton:!1,disableCropButton:!1},hn.propTypes={onChange:y.a.func.isRequired,onAlignChange:y.a.func.isRequired,onImageChange:y.a.func,scaleMode:y.a.string,horizontalAlign:y.a.string,verticalAlign:y.a.string,contentScale:y.a.oneOfType([y.a.number,y.a.string]),contentOffsetX:y.a.number,contentOffsetY:y.a.number,noImageChange:y.a.bool,openDropdownPosition:y.a.string,displayType:y.a.oneOf([H.b.BACKGROUND,H.b.BUTTON,H.b.EMBED,H.b.SHAPE,H.b.IMAGE]),onCropImage:y.a.func,showCropButton:y.a.bool,disableCropButton:y.a.bool};var mn=hn,bn=n(541),gn=n(587),yn=n(880),vn=n(881),En=n(1433),Sn=n.n(En),On=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Cn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onAddNewStep=function(e){for(var t=n.props,a=t.steps,r=t.gradientRotation,o=t.isRadialGradient,i=t.alignMode,l=t.onChange,s={c:Object(M.e)(n.state.selectedColor),p:e.toString()},c=0;c<a.length&&parseInt(a[c].p)<parseInt(e);)c+=1;var u=a.slice();u.splice(c,0,s),n.setState({selectedStep:c}),l(n.buildObject(u,r,o,i))},n.onStepSelect=function(e){n.setState({selectedStep:e,selectedColor:n.props.steps[e].c})},n.onStepRemove=function(e){var t=n.props,a=t.steps,r=t.gradientRotation,o=t.isRadialGradient,i=t.alignMode,l=t.onChange,s=a.slice();s.splice(e,1),n.setState({selectedStep:0,selectedColor:a[0].c}),l(n.buildObject(s,r,o,i))},n.onStepMove=function(e,t){var a=n.props,r=a.steps,o=a.gradientRotation,i=a.isRadialGradient,l=a.alignMode,s=a.onChange,c=r.slice();c[e].p=t.toString();for(var u=e;u>0&&parseInt(c[u].p)<parseInt(c[u-1].p);){var d=c[u];c[u]=c[u-1],c[u-1]=d,u-=1}for(;u<c.length-1&&parseInt(c[u].p)>parseInt(c[u+1].p);){var p=c[u];c[u]=c[u+1],c[u+1]=p,u+=1}n.setState({selectedStep:u}),s(n.buildObject(c,o,i,l))},n.onColorChange=function(e){var t=n.props,a=t.steps,r=t.gradientRotation,o=t.isRadialGradient,i=t.alignMode,l=t.onChange,s=a.slice();s[n.state.selectedStep]=Object.assign({},s[n.state.selectedStep],{c:e}),n.setState({selectedColor:e}),l(n.buildObject(s,r,o,i))},n.onGradientTypeChange=function(e){var t=n.props,a=t.steps,r=t.gradientRotation,o=t.alignMode;(0,t.onChange)(n.buildObject(a,r,"linear"!==e,o))},n.toggleColorPicker=function(){n.setState({showColorPickerTool:!n.state.showColorPickerTool})},n.openColorPicker=function(){n.setState({showColorPickerTool:!0})},n.changeGradientRotation=function(e){var t=n.props,a=t.steps,r=t.isRadialGradient,o=t.alignMode;(0,t.onChange)(n.buildObject(a,e,r,o))},n.changeAlignMode=function(e){var t=n.props,a=t.steps,r=t.gradientRotation,o=t.isRadialGradient;(0,t.onChange)(n.buildObject(a,r,o,e))},n.reverseGradientColors=function(){var e=n.props,t=e.steps,a=e.gradientRotation,r=e.isRadialGradient,o=e.alignMode,i=e.onChange;n.closeColorPicker();var l=t.map((function(e){return Object.assign({},e,{p:(100-parseInt(e.p)).toString()})}));l.reverse(),i(n.buildObject(l,a,r,o))},n.state={selectedStep:0,selectedColor:e.steps[0].c,showColorPickerTool:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),On(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initializeOnMount,n=e.steps,a=e.gradientRotation,r=e.isRadialGradient,o=e.alignMode;if(t){var i=this.buildObject(n,a,r,o);this.props.onChange(i)}}},{key:"buildObject",value:function(e,t,n,a){return{steps:e,gradientRotation:t,isRadialGradient:n,alignMode:a}}},{key:"closeColorPicker",value:function(){this.setState({showColorPickerTool:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.position,a=t.steps,r=t.gradientRotation,o=t.isRadialGradient,i=t.alignMode,l=t.showOpacitySliderInColorPicker,s=null,c="0"===n.right?{left:"auto",right:n.right-12+"px"}:{left:n.left-12+"px",right:"auto"};if(this.state.showColorPickerTool){var u=Object.assign({width:"306px",top:"80px"},c);s=E.a.createElement(gn.a,{refElement:this.refFixedElement,topAppend:35},E.a.createElement(G.a,{style:u},E.a.createElement(bn.a,{color:this.state.selectedColor,onChange:this.onColorChange,onOk:this.toggleColorPicker,onCancel:this.toggleColorPicker,showOpacitySlider:l})))}var d=E.a.createElement("div",{className:Sn.a.gradientGenerator,ref:function(t){e.refFixedElement=t}},E.a.createElement(vn.a,{steps:a,selectedStep:this.state.selectedStep,onAddNewStep:this.onAddNewStep,onStepSelect:this.onStepSelect,onStepRemove:this.onStepRemove,onStepMove:this.onStepMove,openColorPicker:this.openColorPicker})),p=o?E.a.createElement("div",{className:Sn.a.gradientAlign},E.a.createElement(V.a,{size:Z.a.NORMAL,skin:S.a.WHITE,label:N.a.gradientAngle}),E.a.createElement(sn.a,{type:"position",onPositionSelect:this.changeAlignMode,selected:i,skin:S.a.BLUE})):E.a.createElement("div",{className:Sn.a.gradientRotation},E.a.createElement(V.a,{size:Z.a.NORMAL,skin:S.a.WHITE,label:N.a.gradientAngle}),E.a.createElement(sn.a,{type:"rotation",onPositionSelect:this.changeGradientRotation,selected:i,skin:S.a.BLUE,value:r})),f=E.a.createElement("div",{className:Sn.a.reverseButton},E.a.createElement(z.b,{placement:_t.a.LEFT,title:N.a.flipColors},E.a.createElement("span",null,E.a.createElement(U.a,{height:"28px",icon:"reverseButton",iconSize:Z.a.LARGE,onClickHandler:this.reverseGradientColors,skin:S.a.ACTIVE_GREY,width:"28px"})))),h=E.a.createElement("div",{className:Sn.a.selectGradientType},E.a.createElement(yn.a,{gradientType:"linear",onClickCallback:this.onGradientTypeChange,selected:!o}),E.a.createElement(yn.a,{gradientType:"radial",onClickCallback:this.onGradientTypeChange,selected:o}));return E.a.createElement("div",{className:Sn.a.gradientGroup},s,d,f,h,p)}}]),t}(v.Component);Cn.propTypes={steps:y.a.arrayOf(y.a.shape({c:y.a.string,p:y.a.string})),isRadialGradient:y.a.bool,gradientRotation:y.a.number,alignMode:y.a.string,onChange:y.a.func.isRequired,initializeOnMount:y.a.bool,showOpacitySliderInColorPicker:y.a.bool,position:y.a.shape({left:y.a.string,right:y.a.string})},Cn.defaultProps={steps:[{c:"#ffffff",p:"0"},{c:"#000000",p:"100"}],isRadialGradient:!1,gradientRotation:0,alignMode:"center",showOpacitySliderInColorPicker:!1,initializeOnMount:!1,position:{left:"0",right:"auto"}};var wn=Cn,Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},kn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var In=m.a.bind(W.a),Ln=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getBackgroundType=function(e){var t=e.type;return t===Ut.a.LINEAR||t===Ut.a.RADIAL?Ht.a.GRADIENT:t};var a=n.getBackgroundType(e.backgroundColor);return n.state={showColorPickerTool:!1,showImagePanel:!1,backgroundType:a},n.onBackgroundTypeChange=n.onBackgroundTypeChange.bind(n),n.onImageAlignChange=n.onImageAlignChange.bind(n),n.toggleColorPickerTool=n.toggleColorPickerTool.bind(n),n.closeImagePanel=n.closeImagePanel.bind(n),n.openStockLibrary=n.openStockLibrary.bind(n),n.openMyImages=n.openMyImages.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),kn(t,[{key:"onImageAlignChange",value:function(e){var t=Object(M.h)(e);this.props.onColorChange("horizontalAlign",t.horizontalAlign),this.props.onColorChange("verticalAlign",t.verticalAlign)}},{key:"onBackgroundTypeChange",value:function(e,t){var n=this.props,a=n.backgroundColor,r=n.onColorChange,o=t===Ht.a.GRADIENT?Ut.a.LINEAR:t;this.setState({backgroundType:o},(function(){(o!==Ht.a.IMAGE||o===Ht.a.IMAGE&&"url"in a)&&r("type",o)}))}},{key:"getImageGroup",value:function(){var e=this.props,t=e.backgroundColor,n=e.displayType,a=e.onImageChange,r=e.onSettingsChange,o=e.onAlignChange,i=e.openDropdownPosition,l=e.withBoxShadow,s=e.placement,c=e.onColorChange,u=e.onCropImage,d=e.showOpacitySliderInGradientColorPicker,p=e.disableCropButton,f=e.disableImageChange;return s!==zt.a.GENERATOR_SIDEBAR?E.a.createElement("div",{className:In("group",{withBoxShadow:l})},E.a.createElement(mn,Tn({alignMode:Object(M.d)(t.rgradPos),onAlignChange:this.onImageAlignChange,onImageChange:a,onChange:c,displayType:n},t,{onCropImage:u,showCropButton:d&&t.type===Ht.a.IMAGE,disableCropButton:p,noImageChange:f}))):E.a.createElement("div",{className:W.a.chooseImage},E.a.createElement(nn,{settings:t,displayType:n,onImageChange:a,onSettingsChange:r,onAlignChange:o,openDropdownPosition:i,showImagePanel:this.state.showImagePanel,closeImagePanel:this.closeImagePanel,openStockLibrary:this.openStockLibrary,openMyImages:this.openMyImages}))}},{key:"closeImagePanel",value:function(){this.setState({showImagePanel:!1})}},{key:"openStockLibrary",value:function(){this.setState({showImagePanel:!0})}},{key:"openMyImages",value:function(){this.setState({showImagePanel:!0})}},{key:"toggleColorPickerTool",value:function(){this.setState({showColorPickerTool:!this.state.showColorPickerTool})}},{key:"render",value:function(){var e=this.props,t=e.withBoxShadow,n=e.displayType,a=e.onGradientChange,r=e.showOpacitySliderInGradientColorPicker,o=e.position,i=e.barPosition,l=e.onColorChange,s=e.backgroundColor,c=this.state,u=c.backgroundType,d=c.showColorPickerTool,p="string"!=typeof n?n:an.a[n],f=void 0,h=s.scolor,m=u===Ut.a.LINEAR||u===Ut.a.RADIAL?Ht.a.GRADIENT:u;switch(m){case Ht.a.SOLID:f=E.a.createElement("div",{className:In("group","flex",{withBoxShadow:t})},E.a.createElement(rn.a,{withHover:!0,color:h,barPosition:i,showColorPickerTool:d,onColorChange:function(e){l("scolor",e)},onColorPickerOk:this.toggleColorPickerTool,onColorPickerCancel:this.toggleColorPickerTool,dontShowCopy:"string"!=typeof h&&h.size>1}));break;case Ht.a.GRADIENT:var b=Object.assign({},s),g=b.gradColors||[{c:"#ffffff",p:"0"},{c:"#000000",p:"100"}],y=b.type===Ut.a.RADIAL,v=null!==b.backgroundRotation?parseInt(b.backgroundRotation):360,O=Object(M.d)(b.rgradPos);f=E.a.createElement("div",{className:In("group",{withBoxShadow:t})},E.a.createElement(wn,{steps:g,isRadialGradient:y,gradientRotation:v,shortText:!0,alignMode:O,onChange:a,initializeOnMount:!b.gradColors,position:o,showOpacitySliderInColorPicker:r}));break;case Ht.a.IMAGE:f=this.getImageGroup();break;case Ht.a.NONE:f=n!==H.b.BACKGROUND?E.a.createElement("div",{className:In(t?"noContent":"")}):null}var C=this.props.hideLabel?null:E.a.createElement("div",{style:{marginBottom:"6px"}},E.a.createElement(V.a,{size:Z.a.NORMAL,label:N.a.background,skin:S.a.WHITE}));return E.a.createElement("div",{className:In("backgroundSettingsGroup","group")},E.a.createElement("div",null,C,E.a.createElement(At.b,{items:p,skin:S.a.TAB_BLUE,onItemSelect:this.onBackgroundTypeChange,selectedValue:m,labelButtonSize:Z.a.MSMALL,barPaddingRight:6})),E.a.createElement("div",null,f))}}]),t}(v.Component);Ln.defaultProps={backgroundColor:{type:"solid",gradColors:[{c:"#00ffcc",p:"0"},{c:"#00faff",p:"100"}],rgradPos:Bt.a.MIDDLE_CENTER,scolor:"#ffe34e",backgroundRotation:50,scaleMode:"crop",contentOffsetX:50,contentOffsetY:50,contentScale:100,horizontalAlign:"center",verticalAlign:"center"},hideLabel:!1,position:{},onGradientChange:function(){},onImageChange:function(){},onCropImage:function(){},onSettingsChange:function(){},onAlignChange:function(){},barPosition:"left",withBoxShadow:!1,showOpacitySliderInGradientColorPicker:!1,placement:zt.a.BACKGROUND,displayType:H.b.BACKGROUND,openDropdownPosition:_t.a.BOTTOM,disableCropButton:!1,disableImageChange:!1},Ln.propTypes={backgroundColor:y.a.shape({type:y.a.string,gradColors:y.a.arrayOf(y.a.shape({c:y.a.string,p:y.a.string})),rgradPos:y.a.string,scolor:y.a.oneOfType([y.a.string,y.a.instanceOf(b.List)]),backgroundRotation:y.a.oneOfType([y.a.number,y.a.string]),scaleMode:y.a.string,contentOffsetX:y.a.number,contentOffsetY:y.a.number,contentScale:y.a.oneOfType([y.a.number,y.a.string]),horizontalAlign:y.a.string,verticalAlign:y.a.string}),position:y.a.shape({left:y.a.string,right:y.a.string}),barPosition:y.a.string,hideLabel:y.a.bool,onColorChange:y.a.func.isRequired,onGradientChange:y.a.func,onSettingsChange:y.a.func,onAlignChange:y.a.func,onImageChange:y.a.func,onCropImage:y.a.func,displayType:y.a.oneOfType([y.a.oneOf([H.b.BACKGROUND,H.b.BUTTON,H.b.EMBED,H.b.SHAPE,H.b.IMAGE]),y.a.arrayOf(y.a.shape({value:y.a.oneOf([Ht.a.SOLID,Ht.a.GRADIENT,Ht.a.IMAGE,Ht.a.NONE]),texts:y.a.string}))]),withBoxShadow:y.a.bool,showOpacitySliderInGradientColorPicker:y.a.bool,placement:y.a.oneOf(Object.values(zt.a)),openDropdownPosition:y.a.string,disableCropButton:y.a.bool,disableImageChange:y.a.bool};var Pn=Ln,Mn=n(637),Rn=n(1434),xn=n.n(Rn),Dn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function jn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Nn=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=jn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={openedColorGroup:null},a.onColorClick=function(e){a.setState({openedColorGroup:e}),a.props.onColorPickerCancel()},a.onColorChange=function(e){a.props.onColorChange(e,a.state.openedColorGroup)},a.onColorPickerOk=function(e){a.props.onColorPickerOk(e,a.state.openedColorGroup)},a.getColorPicker=function(){var e=a.props,t=e.color,n=e.showColorPickerTool,r=e.onColorPickerCancel,o=a.state.openedColorGroup;return n?E.a.createElement(gn.a,{refElement:a.refFixedElement[a.state.openedColorGroup]},E.a.createElement(G.a,{style:{width:"306px",top:"0"}},E.a.createElement(bn.a,{color:t.get(o),onChange:a.onColorChange,onOk:a.onColorPickerOk,onCancel:r}))):null},a.refFixedElement=[],jn(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Dn(t,[{key:"getColorsContent",value:function(){var e=this,t=this.props.color,n=[],a=function(a){var r=t.get(a);n.push(E.a.createElement("div",{className:xn.a.item,key:"cg-"+a,ref:function(t){e.refFixedElement[a]=t}},E.a.createElement(Mn.a,{color:r,onClickHandler:function(){e.onColorClick(a)},withHover:!0})))},r=!0,o=!1,i=void 0;try{for(var l,s=t.keySeq()[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){a(l.value)}}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}},{key:"render",value:function(){return E.a.createElement("div",{className:xn.a.colorGroupsContainer},this.getColorsContent(),this.getColorPicker())}}]),t}(v.Component);Nn.propTypes={color:y.a.instanceOf(b.Map),onColorChange:y.a.func,onColorPickerOk:y.a.func,onColorPickerCancel:y.a.func,showColorPickerTool:y.a.bool},Nn.defaultProps={color:new b.Map,onColorChange:function(){},onColorPickerOk:function(){},onColorPickerCancel:function(){},showColorPickerTool:!1};var An=Nn,_n=n(996),Bn=n(440),Hn=n(997),Un=n(1435),zn=n.n(Un),Gn=n(116),Fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Wn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Vn=m.a.bind(zn.a),qn=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Wn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={showControls:!1},a.toggleFilterControls=function(){a.setState((function(e){return{showControls:!e.showControls}}))},Wn(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fn(t,[{key:"onFilterClick",value:function(e){var t=e.brightness,n=e.contrast,a=e.hue,r=e.saturate;this.props.onAdjustColorChange({brightness:t,contrast:n,hue:a,saturate:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.adjustColor,a=t.onAdjustColorChange,r=Hn.a.map((function(t,a){var r=null,o=(a+1)%5==0;return n.brightness===t.brightness&&n.contrast===t.contrast&&n.hue===t.hue&&n.saturate===t.saturate&&(r=E.a.createElement("div",{className:zn.a.selected},Gn.a.checkmark)),E.a.createElement(z.b,{key:t.name,title:t.label,placement:"top"},E.a.createElement("div",{className:Vn("filterPreset",t.name,e.props.size,{lastOnRow:o}),onClick:function(){e.onFilterClick(t)}},r))})),o=Object.values(_n.a),i=this.state.showControls?o.map((function(e){return E.a.createElement("div",{key:N.a[e],className:zn.a.adjustSlider},E.a.createElement(dn.a,{onChange:function(t){a(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},""+e,t))},value:parseInt(n[e]),label:N.a[e],min:-100,max:100}))})):null,l=this.state.showControls?E.a.createElement("div",{className:zn.a.controls},i):null,s=E.a.createElement("div",{className:Vn("label",this.props.displayType)},E.a.createElement(V.a,{skin:S.a.WHITE,size:Z.a.NORMAL,label:N.a.filters}));return E.a.createElement("div",{className:zn.a.imageFiltersGroup},s,E.a.createElement("div",{className:Vn("adjustShowOrHide",this.props.displayType)},E.a.createElement(Bn.a,{skin:S.a.BLUE,size:Z.a.NORMAL,onClick:this.toggleFilterControls,preventDefault:!0},this.state.showControls?N.a.hide:N.a.adjust)),E.a.createElement("div",{className:Vn(zn.a.imageFilters,"clearfix")},r),l)}}]),t}(v.Component);qn.propTypes={adjustColor:y.a.shape({useAdjustColor:y.a.bool,brightness:y.a.number,contrast:y.a.number,saturate:y.a.number,hue:y.a.number}),onAdjustColorChange:y.a.func,size:y.a.oneOf([Z.a.NORMAL,Z.a.LARGE]),displayType:y.a.string},qn.defaultProps={adjustColor:{useAdjustColor:!1,brightness:0,contrast:0,saturate:0,hue:0},onAdjustColorChange:function(){},size:Z.a.NORMAL,displayType:""};var Kn=qn,Yn=n(583),Xn=n.n(Yn),Zn=n(565),Jn=n(490),Qn=n(673),$n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},ea=m.a.bind(Xn.a),ta=function(e){var t=e.onChange,n=e.placement,a=e.label,r=e.color,o=e.opacity,i=Object(v.useState)(!1),l=$n(i,2),s=l[0],c=l[1];return E.a.createElement("div",{className:ea("group","opacityColor","clearfix",n)},E.a.createElement("div",{className:Xn.a.selectColor},E.a.createElement(Qn.a,{color:r,onColorChange:function(e){t({color:e})},onColorPickerOk:function(){return c(!1)},onColorPickerClose:function(){return c(!0)},onColorPickerCancel:function(){return c(!0)},showColorPickerTool:s})),E.a.createElement(Jn.a,{onChange:function(e){t({opacity:e})},value:o,label:a,usePercent:!0}))};ta.propTypes={color:y.a.oneOfType([y.a.string,y.a.instanceOf(b.List)]),opacity:y.a.number,onChange:y.a.func,label:y.a.string,position:y.a.instanceOf(Object),placement:y.a.oneOf([zt.a.EDITOR,zt.a.GENERATOR_SIDEBAR])},ta.defaultProps={color:"",opacity:100,onChange:function(){},label:"",position:{},placement:zt.a.EDITOR};var na=ta,aa=n(418),ra=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function oa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ia=m.a.bind(Xn.a),la=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=oa(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={editMode:!1},a.getExtraShadowPosition=function(){return a.refCheckBoxGroup.offsetTop},a.handleClickEvent=function(e){if(a.refDropShadow){var t=a.refDropShadow.parentNode;t.contains(e.target)||e.target===t||a.setState({editMode:!1})}},a.toggleState=function(){a.setState({editMode:!a.state.editMode})},oa(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ra(t,[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.handleClickEvent),this.panelPosition=this.getExtraShadowPosition()}},{key:"componentWillUpdate",value:function(e,t){!this.state.editMode||e.dropShadow.useShadow&&!e.editModeDisabled?!this.state.editMode&&t.editMode&&(this.panelPosition=this.getExtraShadowPosition()):this.toggleState()}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.handleClickEvent)}},{key:"getValue",value:function(e){return null!==e?parseInt(e):e}},{key:"render",value:function(){var e=this,t=this.props,n=t.dropShadow,a=t.showSpread,r=t.separatorBefore,o=t.onChange,i=t.position,l=t.placement,s=this.state.editMode,c=n.useShadow,u=n.blur,d=n.color,p=n.hShadow,f=n.vShadow,h=n.spread,m=n.opacity,b=s?N.a.close:N.a.edit,g=c?E.a.createElement(Bn.a,{skin:S.a.BLUE,size:Z.a.NORMAL,preventDefault:!0,onClick:function(){e.setState({editMode:!s})}},b):null,y=r&&!s,v=y?E.a.createElement("hr",{className:Xn.a.dropShadowSpacer}):null,O=E.a.createElement("div",{className:ia("group","dropShadowGroup"),ref:function(t){e.refCheckBoxGroup=t},style:y?{paddingTop:0}:{}},v,E.a.createElement(Y.a,{checked:c,skin:S.a.BLUE,shape:aa.a.ROUNDED_RECTANGLE,onChange:function(e){o({useShadow:e})},checkBoxStyle:{marginRight:"8px"}},E.a.createElement("span",{className:Xn.a.checkBoxLabel},N.a.dropShadow)),g);if(!s)return O;var C=a?E.a.createElement("div",{className:Xn.a.group},E.a.createElement(Jn.a,{onChange:function(e){o({spread:e})},value:this.getValue(h),label:N.a.spread})):null,w=E.a.createElement("div",{ref:function(t){e.refDropShadow=t}},O,E.a.createElement(na,{onChange:function(e){o(e)},color:d,opacity:m,label:N.a.opacity,position:i,placement:l}),E.a.createElement("div",{className:Xn.a.group},E.a.createElement(Jn.a,{onChange:function(e){o({vShadow:e})},value:this.getValue(f),label:N.a.verticalShadow,min:-100})),E.a.createElement("div",{className:Xn.a.group},E.a.createElement(Jn.a,{onChange:function(e){o({hShadow:e})},value:this.getValue(p),label:N.a.horizontalShadow,min:-100})),E.a.createElement("div",{className:Xn.a.group},E.a.createElement(Jn.a,{onChange:function(e){o({blur:e})},value:this.getValue(u),label:N.a.blur})),C);return l===zt.a.GENERATOR_SIDEBAR?w:E.a.createElement(Zn.a,{extraShadow:!0,style:{top:this.panelPosition+"px"},onClickHandler:function(e){e.stopPropagation()}},w)}}]),t}(v.Component);la.defaultProps={separatorBefore:!1,showSpread:!1,dropShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,spread:0,opacity:100,color:""},position:{left:"0",right:"auto"},placement:zt.a.EDITOR,editModeDisabled:!1},la.propTypes={onChange:y.a.func.isRequired,separatorBefore:y.a.bool,showSpread:y.a.bool,dropShadow:y.a.shape({useShadow:y.a.bool,hShadow:y.a.number,vShadow:y.a.number,blur:y.a.number,spread:y.a.number,opacity:y.a.number,color:y.a.oneOfType([y.a.string,y.a.instanceOf(b.List)])}),position:y.a.shape({left:y.a.string,right:y.a.string}),placement:y.a.oneOf([zt.a.EDITOR,zt.a.GENERATOR_SIDEBAR]),editModeDisabled:y.a.bool};var sa=la,ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ua=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var fa=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=pa(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={showColorPickerTool:!1},a.onColorChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a.props.textSelection;a.changeProperties({color:e,colorGroup:t,textSelection:n})},a.onDropShadowChange=function(e){a.changeProperties({dropShadow:e})},a.onOpacityChange=function(e){a.props.onChange({opacity:e})},a.onBlurChange=function(e){a.props.onChange({blur:{useBlur:e>0,pixels:e}})},a.onBackgroundColorChange=function(e,t){var n=a.props,r=n.colorSettingsValues.colorProps,o=n.onBackgroundImageChange,i=n.onChange,l=r.backgroundColor.url;"type"===e&&"image"===t&&null==l?o():i({backgroundColor:da({},e,t)})},a.onBackgroundGradientChange=function(e){a.props.onChange({backgroundColor:{type:e.isRadialGradient?"rgrad":"lgrad",backgroundRotation:e.gradientRotation,rgradPos:Object(M.k)(e.alignMode)},gradColors:e.steps})},a.onColorPickerOk=function(e){a.onColorChange(e),a.toggleColorPickerTool()},a.onAdjustColorChange=function(e){var t=e;t.useAdjustColor=0!==t.brightness||0!==t.contrast||0!==t.hue||0!==t.saturate,a.props.onChange({adjustColor:t})},a.onLockSyncMouseDown=function(e){return e.stopPropagation()},a.onBackgroundImageChangeHandler=function(e){var t=a.props,n=t.onBackgroundImageChange,r=t.setToolPanelBackgroundBlink;n(e),setTimeout((function(){r(!1)}),400)},a.changeProperties=function(e){a.props.onChange({colorSettings:e})},a.toggleColorPickerTool=function(){a.setState((function(e){return{showColorPickerTool:!e.showColorPickerTool}}))},pa(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ua(t,[{key:"getContainers",value:function(){var e=this,t=this.state.showColorPickerTool,n=this.props,a=n.element,r=n.barPosition,o=n.textSelection,i=n.onCropImage,l=n.colorSettings,s=n.colorSettingsValues,c=s.colorProps,u=s.backgroundSettingsConfig,d=n.disableCropButton,p=n.appMode,f=c.color,h=c.opacity,m=c.adjustColor,b=c.blur,g=c.dropShadow,y=c.layerType,v=c.backgroundColor,O=c.colorGroups,C=y===H.b.TEXT&&(o&&null!==o.offset&&null!==o.length);return l.map((function(n){var o=void 0;o="left"===r?{left:"auto",right:"0"}:{left:"0",right:"auto"};var s=!0;switch(f&&(s="string"!=typeof f?f.size>1||!f.first():""===f),n){case"chooser":return E.a.createElement(rn.a,{key:n,color:f,barPosition:r,showColorPickerTool:t,onColorChange:e.onColorChange,onColorPickerOk:e.onColorPickerOk,onColorPickerCancel:e.toggleColorPickerTool,hasTextSelected:C,dontShowCopy:s});case"multiple-colors-chooser":return E.a.createElement(An,{key:n,color:O,showColorPickerTool:t,onColorChange:e.onColorChange,onColorPickerOk:e.toggleColorPickerTool,onColorPickerCancel:e.toggleColorPickerTool});case"opacity":return E.a.createElement(dn.a,{key:n,onChange:e.onOpacityChange,value:h,label:N.a.opacity,usePercent:!0});case"dropShadow":return E.a.createElement(sa,{key:n,dropShadow:g,onChange:e.onDropShadowChange,showSpread:y===H.b.BUTTON||y===H.b.EMBED,separatorBefore:l.length>1,position:o});case"blur":return E.a.createElement("div",{key:n,style:{paddingTop:"10px"}},E.a.createElement(dn.a,{key:n,onChange:e.onBlurChange,value:b.useBlur?b.pixels:0,label:N.a.blur}),b.pixels>Ot.a.WARNING_THRESHOLD_BLUR?E.a.createElement("div",{style:{marginTop:"10px"}},E.a.createElement(V.a,{size:Z.a.SMALL,label:N.a.blurWarning,skin:S.a.RED})):null);case"separator":return E.a.createElement("hr",{key:n});case"adjustColor":return E.a.createElement("div",{key:n},E.a.createElement(Kn,{adjustColor:m,size:Z.a.NORMAL,displayType:y,onAdjustColorChange:e.onAdjustColorChange}));case"background":var c=y===H.b.MIXED?u:y;return E.a.createElement(Pn,{hideLabel:!0,key:n,backgroundColor:v,barPosition:r,onColorChange:e.onBackgroundColorChange,onGradientChange:e.onBackgroundGradientChange,onImageChange:e.onBackgroundImageChangeHandler,position:o,displayType:c,showOpacitySliderInGradientColorPicker:y===H.b.SHAPE,onCropImage:function(){return i(a.id)},disableCropButton:d,disableImageChange:p===k.a.GENERATOR||p===k.a.GENERATE})}return null}))}},{key:"render",value:function(){var e=this.props,n=e.left,a=e.top,r=e.onLockClick,o=e.isLocked,i=e.enabledSyncAndLock,l=e.onSyncElementProperties,s=e.isOutOfSync,c=e.colorSettingsValues.colorProps.layerType,u=e.textSelection,d=this.getContainers(),p=Object(B.a)("color",{displayType:c,lang:kt.c.substring(1)}),f=c===H.b.TEXT&&(u&&null!==u.offset&&null!==u.length),h={extraShadow:!1,style:{width:p,left:""+n,top:a+"px"},onMouseDown:function(e){f&&!Object(M.s)(e,!1)&&e.preventDefault()}},m=i?E.a.createElement("div",{className:W.a.syncLockGroup},E.a.createElement(z.b,{title:N.a.syncProperties},E.a.createElement(St.a,{icon:Ct.a,skin:S.a.DARK_GREY,onClick:l,onMouseDown:this.onLockSyncMouseDown,disabled:!s})),E.a.createElement(z.b,{title:o?N.a.unlockProperties:N.a.lockProperties},E.a.createElement(wt.a,{icon:Tt.a.LOCK,onMouseDown:this.onLockSyncMouseDown,isChecked:o,onClick:r}))):null;return E.a.createElement(v.Fragment,null,E.a.createElement(G.a,ca({},h,{locked:i&&o,style:{width:p,left:n+"px",top:a+"px"}}),E.a.createElement("div",{className:W.a.panelHeader},E.a.createElement(V.a,{size:Z.a.SMEDIUM,label:t.getHeaderText(c),skin:S.a.WHITE}),m),E.a.createElement("div",{className:W.a.group},d)))}}],[{key:"getHeaderText",value:function(e){switch(e){case H.b.BUTTON:case H.b.SHAPE:return N.a.fill;case H.b.EMBED:return N.a.backgroundTooltip;default:return N.a.colorInspectorTooltip}}}]),t}(v.Component);fa.propTypes={element:y.a.oneOfType([y.a.instanceOf(Dt.b),y.a.instanceOf(Mt.a),y.a.instanceOf(xt.a),y.a.instanceOf(Rt.a),y.a.instanceOf(Lt.a),y.a.instanceOf(It.a),y.a.instanceOf(jt.a),y.a.instanceOf(Pt.a)]),left:y.a.number.isRequired,top:y.a.number.isRequired,barPosition:y.a.string.isRequired,onChange:y.a.func.isRequired,onBackgroundImageChange:y.a.func,setToolPanelBackgroundBlink:y.a.func,onSyncElementProperties:y.a.func,textSelection:y.a.instanceOf(Nt.a),enabledSyncAndLock:y.a.bool,onLockClick:y.a.func,isLocked:y.a.bool,isOutOfSync:y.a.bool,onCropImage:y.a.func,colorSettings:y.a.arrayOf(y.a.string),disableCropButton:y.a.bool,colorSettingsValues:y.a.instanceOf(Object).isRequired,appMode:y.a.oneOf(Object.values(k.a))},fa.defaultProps={element:null,onBackgroundImageChange:function(){},setToolPanelBackgroundBlink:function(){},textSelection:null,enabledSyncAndLock:!1,onLockClick:function(){},isLocked:!1,onSyncElementProperties:function(){},isOutOfSync:!1,onCropImage:function(){},colorSettings:[],disableCropButton:!0,appMode:k.a.EDITOR};var ha=fa,ma=n(569),ba=n(497),ga=n(628),ya=function(e){switch(e){case"fontType":return"google";case"fontUrl":case"fontFaceUrl":return"";case"fontFamily":return"Open Sans";case"fontDesign":case"fontWeight":return 400;case"fontStyle":return"normal";case"fontPrefix":return null;case"color":return"#000000";case"textTransform":case"textDecoration":return"none";default:return null}},va=function(e,t,n,a){return e===n&&t===a||n<=e&&a>t||n<e&&a>=t||n<e&&e<a&&t>a||e<n&&a>t&&t>n||e<=n&&t>=a},Ea=function(e,t){return e.includes(t)?e:e.push(t)},Sa=function(e,t,n,a){var r=ya(n),o=new b.List;if(!e)return o.push(r);var i="size"in e?e.toJS():e;if(!i.length||!t||!n)return o.push(r);var l=t.offset,s=t.length;null===l&&(l=0),null===s&&(s=a.length),l>=0&&0===s&&(l=0,s=a.length);for(var c=l+s,u=0;u<i.length;u++){var d=i[u],p=d.offset,f=d.length,h=d.style,m=d.children;if(m&&m.length)for(var g=0;g<m.length;g++){var y=m[g],v=y.offset,E=y.length,S=y.style;if(va(l,c,v,v+E)){var O=void 0;O=S&&n in S?S[n]:h&&n in h?h[n]:r,o=Ea(o,O)}}else 0===p&&f===a.length&&h&&h[n]?o=Ea(o,h[n]):(null===l&&null===s||va(l,c,p,p+f))&&h&&h[n]&&(o=Ea(o,h[n]))}return o.size?o:o.push(r)};function Oa(e,t,n,a){var r=e,o=a;return null===r&&null===o&&(r=t,o=!0),!0===o&&(o=Object(M.n)(t)||Object(M.n)(r)?Object(M.o)(t,r):t===r),!1===o&&(o=-1,r=n),{finalProp:r,helper:o}}function Ca(e,t,n,a){var r=e,o=a;return Object.keys(r).forEach((function(e){if("color"===e||"scolor"===e){var a=t[e].replace(/\s/g,"");r[e]?r[e].includes(a)||(r[e]=r[e].push(a)):r[e]=new b.List([a])}else{var i=Oa(r[e],t[e],n[e],o[e]);r[e]=i.finalProp,o[e]=i.helper}})),r}var wa=function(e){var t={},n=!1,a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value;if(t[Object(M.x)(s).alpha]=1,Object.keys(t).length>1){n=!0;break}}}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}var c=Object.keys(t)[0];return{opacity:n||!c?null:parseInt(c),color:e.map((function(e){return"#"+Object(M.x)(e).color}))}},Ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ia={useBlur:!1,pixels:null},La={useShadow:!1,hShadow:2,vShadow:2,blur:4,spread:null,color:""},Pa={useAdjustColor:!1,brightness:null,contrast:null,saturate:null,hue:null},Ma={type:null,gradColors:[{c:"#ffffff",p:"0"},{c:"#000000",p:"100"}],rgradPos:null,scolor:"",backgroundRotation:null,scaleMode:null,contentOffsetX:null,contentOffsetY:null,contentScale:null},Ra=Object(de.createSelector)([D.a,function(e){return e.bannerCreator.editor.stage.textSelection}],(function(e,t){var n=ma.a.reduce((function(e,t){return Ta({},e,ka({},t,null))}),{}),a=Ta({},n),r=ba.b.reduce((function(e,t){return Ta({},e,ka({},t,null))}),{}),o=Ta({},r),i=ga.a.reduce((function(e,t){return Ta({},e,ka({},t,null))}),{}),l=Ta({},i),s={type:null,gradColors:null,rgradPos:null,scolor:null,backgroundRotation:null,scaleMode:null,contentOffsetX:null,contentOffsetY:null,contentScale:null,horizontalAlign:null,verticalAlign:null,url:null},c=Ta({},s),u={color:null,dropShadow:null,textSelection:null,opacity:null,blur:null,adjustColor:null,colorGroups:null,layerType:null,backgroundColor:null},d=Ta({},u),p={opacity:null,layerType:H.b.MIXED},f=[];e.forEach((function(e){var h=e.layerType,m=e.blur,g=e.opacity,y=e.adjustColor,v=e.fillColor,E=e.dropShadow,S=new b.List,O=new Map,C=void 0;switch(h){case H.b.TEXT:var w=e.text,T=e.config;E=e.textShadow,S=Sa(T,t,"color",w);break;case H.b.BUTTON:case H.b.SHAPE:case H.b.EMBED:S=(C=e.backgroundColor).type!==Ht.a.NONE?new b.List([C.scolor]):new b.List;break;case H.b.CLIPART:S=new b.List([v]);break;case H.b.SVG:O=e.colorGroups}an.a[h]&&(f=f.length?f.filter((function(e){return an.a[h].some((function(t){return Object(M.r)(e,t)}))})):an.a[h]);var k={dropShadow:E,blur:m,color:S,opacity:g,adjustColor:y,colorGroups:O,layerType:h,backgroundColor:C};Object.keys(u).forEach((function(e){if("color"===e)u[e]?u[e]=k[e].concat(u[e]):u[e]=k[e];else if("dropShadow"===e&&E)u[e]=Ca(r,E,La,o);else if("blur"===e&&m)u[e]=Ca(n,m,Ia,a);else if("adjustColor"===e&&y)u[e]=Ca(i,y,Pa,l);else if("backgroundColor"===e&&C)u[e]=Ca(s,C,Ma,c);else{var t=Oa(u[e],k[e],p[e],d[e]);u[e]=t.finalProp,d[e]=t.helper}}))}));var h=wa(u.dropShadow.color);return u.dropShadow.opacity=h.opacity||50,u.dropShadow.color=h.color,u.color=u.color.toSet().toList(),{colorProps:u,backgroundSettingsConfig:f}})),xa=n(456),Da=Object(a.c)((function(e){var t=e.bannerCreator,n=t.editor.stage.textSelection,a=t.app.mode,r=Object(D.a)(e),o=a===k.a.GENERATOR,i=null,l=!1,s=!1,c=!0,u=!1;1===r.size&&o&&(u=!0,l=-1!==(i=r.first()).lockedProperties.indexOf(nt.a.FILL),s=Et(e),c=i.width<20&&i.height<20&&i.backgroundColor&&!i.backgroundColor.url);var d=rt(e),p=Ra(e);return{element:i,isLocked:l,layerType:Je(e),isOutOfSync:s,textSelection:n,colorSettings:d,disableCropButton:c,enabledSyncAndLock:u,colorSettingsValues:p,appMode:a}}),(function(e){return{onChange:function(t){e(Object(s.M)(t))},onBackgroundImageChange:function(t){e(Object(xa.x)(t))},setToolPanelBackgroundBlink:function(t){e(Object(xa.w)(t))},onLockClick:function(){e(Object(s.K)(nt.a.FILL))},onSyncElementProperties:function(){e(Object(at.i)(nt.a.FILL))},onCropImage:function(t){e(Object(d.n)(t))}}}))(ha),ja=n(460),Na=n(727),Aa=n(475),_a=n(521),Ba=n(570),Ha=E.a.createElement("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18"},E.a.createElement("g",{stroke:"none",fill:"none"},E.a.createElement("g",{transform:"translate(-653.000000, -398.000000)",fill:"#FFFFFF"},E.a.createElement("g",{transform:"translate(650.000000, 395.000000)"},E.a.createElement("path",{d:"M21,19 L21,5 C21,3.9 20.1,3 19,3 L5,3 C3.9,3 3,3.9 3,5 L3,19 C3,20.1 3.9,21 5,21 L19, 21 C20.1,21 21,20.1 21,19 Z M8.5,13.5 L11,16.51 L14.5,12 L19,18 L5,18 L8.5,13.5 Z M15, 10 C13.8954305,10 13,9.1045695 13,8 C13,6.8954305 13.8954305,6 15,6 C16.1045695,6 17, 6.8954305 17,8 C17,9.1045695 16.1045695,10 15,10 Z"}))))),Ua={scaleCrop:"crop",exactFit:"stretch",tile:"tile",maintainAspect:"aspect",noScale:"mask",crop:"userCrop"},za=n(721),Ga=n(832),Fa=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Wa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Va=m.a.bind(W.a),qa=["scaleCrop","exactFit","maintainAspect","noScale","tile","crop"],Ka=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Wa(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={showColorPickerTool:!1,youtubeStartAtTime:a.props.element.startAtTime},a.onBlurChange=function(e){a.props.onBlurChange({hasBlur:e>0,pixels:e})},a.onBorderColorChange=function(e){a.onPropertyChange("borderColor",e)},a.onEmbedCodeChange=function(e){a.onPropertyChange("code",e)},a.onContentOffsetXChange=function(e){a.onPropertyChange("contentOffsetX",e)},a.onContentOffsetYChange=function(e){a.onPropertyChange("contentOffsetY",e)},a.onContentScaleChange=function(e){a.onPropertyChange("contentScale",e)},a.onDefaultQualityChange=function(e){a.onPropertyChange("defaultQuality",e)},a.onImageAlignChange=function(e){a.props.onImageAlignChange(Object(M.h)(e))},a.onPropertyChange=function(e,t){a.props.onPropertiesChange(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))},a.onResetSize=function(){var e=a.props,t=e.element,n=t.originalWidth,r=t.originalHeight,o=t.layerType,i=e.onResetSize,l={width:n,height:r};o===H.b.IMAGE&&(l.cropData=new za.a({x:0,y:0,width:n,height:r})),i(l)},a.onScaleModeChange=function(e){a.onPropertyChange("scaleMode",e)},a.onVolumeChange=function(e){a.onPropertyChange("volume",e)},a.onYoutubeInputChange=function(e){a.onPropertyChange("youtubeURL",e.target.value)},a.onStartAtInputBlur=function(e){var t=Ga.a.durationToHms(e.target.value);a.onPropertyChange("startAtTime",t)},a.onStartAtInputChange=function(e){return a.setState({youtubeStartAtTime:e.target.value})},a.onDurationChange=function(e){a.onPropertyChange("duration",e)},a.onUseIframeChange=function(e){a.onPropertyChange("useIframe",e)},a.onMarginChange=function(e){var t=a.props.element,n=t.height,r=t.margin,o=t.width,i=2*(e-r);(0,a.props.onPropertiesChange)({height:n+i,margin:e,width:o+i})},a.onRoundedCornersChange=function(e){a.onPropertyChange(a.getRoundedCornersProperty(),e)},a.onScrollbarChange=function(e){a.onPropertyChange("scrollbar",e)},a.onStopSlideChange=function(e){a.onPropertyChange("stopSlide",e)},a.getPanels=function(){var e=a.props,t=e.element.layerType,n=e.appMode;return Ke.a.settings[t].filter((function(e){return"changeImageButton"!==e||Object(B.b)(t,n)}))},a.getRoundedCornersProperty=function(){return"button"===a.props.element.displayType?"borderRadius":"bradius"},a.toggleColorPickerTool=function(){a.setState({showColorPickerTool:!a.state.showColorPickerTool})},Wa(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fa(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.element,n=t.youtubeURL,a=t.startAtTime;n!==e.element.youtubeURL&&this.setState({youtubeStartAtTime:a})}},{key:"getTileSettings",value:function(e){var t=this.props.element;return e===Ua.tile?E.a.createElement("div",{className:W.a.tileGroup},E.a.createElement("div",{className:W.a.group},E.a.createElement(dn.a,{onChange:this.onContentScaleChange,value:parseInt(t.contentScale),label:N.a.tileZoom,min:10}),E.a.createElement(dn.a,{onChange:this.onContentOffsetXChange,value:parseInt(t.contentOffsetX),label:N.a.offsetX}),E.a.createElement(dn.a,{onChange:this.onContentOffsetYChange,value:parseInt(t.contentOffsetY),label:N.a.offsetY}))):null}},{key:"getContainers",value:function(){var e=this,t=this.props,n=t.element,a=t.onImageChange,r=t.onCropImage,o=t.elementsTabIndex,i=t.setToolPanelBackgroundBlink,l=this.getPanels(),s={fontSize:"12px",fontWeight:"500",paddingLeft:"6px"},c=function(){a(o),setTimeout((function(){i(!1)}),400)};return l.map((function(t){switch(t){case"changeImageButton":return E.a.createElement(v.Fragment,{key:t},E.a.createElement("div",{className:W.a.changeElementInfo},E.a.createElement("img",{src:"/public/images/change-element.gif",alt:"Change element"}),N.a.changeElementInfo),E.a.createElement(on.a,{icon:Ha,iconSize:Z.a.MEDIUM,size:Z.a.MEDIUM,skin:S.a.BLUE,onClickHandler:c},E.a.createElement("span",{style:s}," ",N.a.changeElement," ")),l.length>1&&E.a.createElement("hr",null));case"cropImage":var a=l.indexOf("changeImageButton")>-1?"8px":"0",o=n.width<20&&n.height<20||!n.url;return E.a.createElement("div",{key:t,style:{marginTop:a}},E.a.createElement(on.a,{icon:ln,iconSize:Z.a.MEDIUM,size:Z.a.MEDIUM,skin:S.a.GREY,disabled:o,onClickHandler:function(){return r(n.id)}},E.a.createElement("span",{style:s},N.a.crop,E.a.createElement(z.b,{title:N.a.cropTooltip,placement:Pe.a.TOP},E.a.createElement("sup",null,"?")))));case"imageScale":var i=n.scaleMode,u=e.getTileSettings(i),d=null,p=qa.map((function(e){return{value:Ua[e],text:N.a[e]}}));i!==Ua.tile&&i!==Ua.exactFit&&i!==Ua.crop&&(d=E.a.createElement(sn.a,{skin:S.a.BLUE,selected:Object(M.g)(n.horizontalAlign+n.verticalAlign),label:N.a.changeImage,onPositionSelect:e.onImageAlignChange}));var f=l.indexOf("changeImageButton")>-1||l.indexOf("cropImage")>-1?"16px":"0";return E.a.createElement("div",{key:t},E.a.createElement("div",{className:Va("group","clearfix")},E.a.createElement("div",{style:{float:"left",marginTop:f}},E.a.createElement(q.a,{items:p,value:i,onChange:e.onScaleModeChange,width:"114px"})),E.a.createElement("div",{style:{float:"right",marginTop:f}},d)),u);case"dropShadow":return E.a.createElement("div",{className:Va("group"),style:{marginTop:"8px"},key:t},E.a.createElement(sa,{dropShadow:n.dropShadow,onChange:e.props.onDropShadowChange}));case"roundedCorners":return E.a.createElement(dn.a,{key:t,onChange:e.onRoundedCornersChange,value:parseInt(n[e.getRoundedCornersProperty()]),label:N.a.roundedCorners,useFloat:!0,min:0,max:100,step:1});case"youtubeUrl":return E.a.createElement(K.a,{key:t,onChange:e.onYoutubeInputChange,placeholder:N.a.youtubeURL,value:n.youtubeURL});case"startAt":var h=e.state.youtubeStartAtTime;return E.a.createElement("div",{className:W.a.youtubeStartAtContainer,key:t},E.a.createElement(Y.a,{skin:S.a.BLUE,shape:"roundedRectangle",checked:n[t],onChange:function(n){e.onPropertyChange(t,n)},checkBoxStyle:{marginRight:"8px"}},N.a[t]),E.a.createElement("div",{style:{marginLeft:"8px"}},E.a.createElement(Aa.a,{width:"65px",height:"24px",size:Z.a.NORMAL,onBlur:e.onStartAtInputBlur,onChange:e.onStartAtInputChange,value:h,maxLength:8,type:Ba.a.STRING,skin:S.a.WHITE_BLUE,disabled:!n.startAt})));case"autoplay":case"loop":case"soundOnMouseOver":case"hideControls":case"useBorder":case"autoResize":return E.a.createElement("div",{style:{marginTop:"10px"},key:t},E.a.createElement(Y.a,{skin:S.a.BLUE,shape:"roundedRectangle",checked:n[t],onChange:function(n){e.onPropertyChange(t,n)},checkBoxStyle:{marginRight:"8px"}},N.a[t]));case"displayYoutubeLogo":return E.a.createElement("div",{style:{marginTop:"10px"},key:t},E.a.createElement(Y.a,{skin:S.a.BLUE,shape:"roundedRectangle",checked:n.displayYoutubeLogo||n.hideControls,disabled:n.hideControls,onChange:function(n){e.onPropertyChange(t,n)},checkBoxStyle:{marginRight:"8px"}},N.a[t]));case"volume":return E.a.createElement(dn.a,{key:t,onChange:e.onVolumeChange,value:parseInt(n.volume),label:N.a.volume});case"blur":return E.a.createElement(dn.a,{key:t,onChange:e.onBlurChange,value:n.blur,label:N.a.blur});case"embedCode":return E.a.createElement("div",{className:Va("group"),key:t},E.a.createElement("div",{style:{marginBottom:"10px"}},E.a.createElement(V.a,{label:N.a.embedCode,skin:S.a.WHITE,size:Z.a.NORMAL})),E.a.createElement(_a.a,{onChange:e.onEmbedCodeChange,placeholder:N.a.embedCode,value:n.code,size:Z.a.SMALL}));case"borderColor":if(n.useBorder)return E.a.createElement("div",{className:Va("group","flex"),key:t},E.a.createElement(rn.a,{color:n.borderColor,barPosition:e.props.barPosition,showColorPickerTool:e.state.showColorPickerTool,onColorChange:e.onBorderColorChange,onColorPickerOk:e.toggleColorPickerTool,onColorPickerCancel:e.toggleColorPickerTool}));break;case"margin":return E.a.createElement(dn.a,{key:t,onChange:e.onMarginChange,value:n.margin,label:N.a.margin,max:100});case"useIframe":var m=["Auto","Yes","No"].map((function(e){return{value:e.toLowerCase(),text:e}}));return E.a.createElement("div",{style:{marginTop:"10px"},key:t},E.a.createElement("div",{style:{marginBottom:"10px"}},E.a.createElement(V.a,{size:Z.a.NORMAL,label:N.a.useIframe,skin:S.a.WHITE})),E.a.createElement(q.a,{items:m,skin:S.a.WHITE,onChange:e.onUseIframeChange,value:n.useIframe}));case"scrollbar":if(n.useIframe&&"no"!==n.useIframe)return E.a.createElement("div",{style:{marginTop:"10px"},key:t},E.a.createElement(Y.a,{skin:S.a.BLUE,shape:"roundedRectangle",checked:n[t],onChange:e.onScrollbarChange,checkBoxStyle:{marginRight:"8px"}},N.a[t]));break;case"stopSlide":return E.a.createElement("div",{key:t},E.a.createElement(Y.a,{skin:S.a.BLUE,shape:"roundedRectangle",checked:n[t],onChange:e.onStopSlideChange,checkBoxStyle:{marginRight:"8px"}},N.a[t]));case"duration":return E.a.createElement(dn.a,{key:t,onChange:e.onDurationChange,value:parseFloat(n.duration),label:N.a.duration,min:.1,max:30,step:.1});case"resetSize":var b=parseInt(n.originalWidth)===parseInt(n.width)&&parseInt(n.originalHeight)===parseInt(n.height);return E.a.createElement("div",{key:t,className:n.layerType===H.b.IMAGE?W.a.group:""},E.a.createElement(Bn.a,{disabled:b,onClick:e.onResetSize,preventDefault:!0},N.a.resetToOriginalSize))}return null}))}},{key:"render",value:function(){var e=this.getContainers(),t={width:Object(B.a)(P.a.iconNames.settings)+"px",left:this.props.left+"px",top:this.props.top+"px"};return E.a.createElement(v.Fragment,null,E.a.createElement(G.a,{style:t},E.a.createElement("div",{className:W.a.panelHeader},E.a.createElement(V.a,{size:Z.a.SMEDIUM,label:N.a.settingsInspectorTooltip,skin:S.a.WHITE})),E.a.createElement("div",{className:W.a.group},e)))}}]),t}(v.Component);Ka.propTypes={barPosition:y.a.string,left:y.a.number,top:y.a.number,elementsTabIndex:y.a.number,appMode:y.a.oneOf(Object.values(k.a)),element:y.a.oneOfType([y.a.instanceOf(Mt.a),y.a.instanceOf(xt.a),y.a.instanceOf(jt.a),y.a.instanceOf(Pt.a)]).isRequired,onPropertiesChange:y.a.func.isRequired,onResetSize:y.a.func,setToolPanelBackgroundBlink:y.a.func,onImageAlignChange:y.a.func,onBlurChange:y.a.func,onDropShadowChange:y.a.func,onImageChange:y.a.func,onCropImage:y.a.func},Ka.defaultProps={barPosition:"left",left:80,top:50,elementsTabIndex:3,appMode:k.a.EDITOR,onBlurChange:function(){},onDropShadowChange:function(){},setToolPanelBackgroundBlink:function(){},onResetSize:function(){},onImageAlignChange:function(){},onImageChange:function(){},onCropImage:function(){}};var Ya=Ka,Xa=n(597),Za=n(1377),Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qa=Object(a.c)((function(e){return{element:Object(D.a)(e).first(),elementsTabIndex:Object(Za.a)(e),appMode:Object(l.a)(e)}}),(function(e){return{onPropertiesChange:function(t){e(Object(s.M)(t))},onImageAlignChange:function(t){e(Object(s.M)(Ja({},t)))},onDropShadowChange:function(t){e(Object(s.M)({dropShadow:t}))},onBlurChange:function(t){e(Object(s.M)({blur:t}))},onResetSize:function(t){e(Object(s.M)(Ja({},t)))},onImageChange:function(t){e(Object(xa.u)(t,Xa.a.ELEMENTS))},setToolPanelBackgroundBlink:function(t){e(Object(xa.w)(t,Xa.a.ELEMENTS))},onCropImage:function(t){e(Object(d.n)(t))}}}))(Ya),$a=n(1077),er=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},tr=function(e){var t=Object(v.useState)(!1),n=er(t,2),a=n[0],r=n[1];function o(t){e.onPropertyChange({borderSettings:t})}function i(e){o({weight:e})}function l(e){o({radius:e})}function s(e){o({color:e})}function c(e){o({opacity:e})}function u(e){$a.a.addColor(e),r(!1)}function d(e){e.stopPropagation()}var p,f,h,m,b,g=e.onSyncElementProperties,y=e.isOutOfSync,O=e.enabledSyncAndLock,C=e.onLockClick,w=e.isLocked,T=e.width,k=e.left,I=e.top,L=(p=e.borderSettings,f=e.barPosition,h=e.borderSettingsValue,m=h.borderProps,b=h.maxBorderWeight,p.map((function(e){switch(e){case"borderColor":return E.a.createElement(rn.a,{key:e+"InspectorColor",color:m.color,barPosition:f,dontShowCopy:m.color.size>1,showColorPickerTool:a,onColorChange:s,onColorPickerOk:u,onColorPickerCancel:function(){return r(!0)}});case"weight":return E.a.createElement(dn.a,{key:e+"Weight",onChange:i,value:m.weight,label:N.a.weight,max:b});case"opacity":return E.a.createElement(dn.a,{key:e+"Opacity",onChange:c,value:m.opacity,label:N.a.opacity,usePercent:!0});case"roundedCorners":return E.a.createElement(dn.a,{key:e+"RoundedCorners",onChange:l,value:m.radius,label:N.a.roundedCorners,useFloat:!0,max:100})}return null}))),P={width:T,left:k+"px",top:I+"px"},M=O?E.a.createElement("div",{className:W.a.syncLockGroup},E.a.createElement(z.b,{title:N.a.syncProperties},E.a.createElement(St.a,{icon:Ct.a,skin:S.a.DARK_GREY,onClick:g,onMouseDown:d,disabled:!y})),E.a.createElement(z.b,{title:w?N.a.unlockProperties:N.a.lockProperties},E.a.createElement(wt.a,{icon:Tt.a.LOCK,isChecked:w,onMouseDown:d,onClick:C}))):null;return E.a.createElement(G.a,{locked:O&&w,style:P},E.a.createElement("div",{className:W.a.panelHeader},E.a.createElement(V.a,{size:Z.a.SMEDIUM,label:N.a.borderInspectorTooltip,skin:S.a.WHITE}),M),E.a.createElement("div",{className:Xn.a.group},L))};tr.propTypes={barPosition:y.a.string.isRequired,borderSettingsValue:y.a.instanceOf(Object).isRequired,left:y.a.number,onPropertyChange:y.a.func.isRequired,borderSettings:y.a.arrayOf(y.a.string),top:y.a.number,width:y.a.string,enabledSyncAndLock:y.a.bool,onLockClick:y.a.func,isLocked:y.a.bool,onSyncElementProperties:y.a.func,isOutOfSync:y.a.bool},tr.defaultProps={left:80,borderSettings:[],top:50,width:"197px",enabledSyncAndLock:!1,onLockClick:function(){},isLocked:!1,onSyncElementProperties:function(){},isOutOfSync:!1};var nr=tr,ar=Object(de.createSelector)([D.a],(function(e){if(!e.size)return[];var t=[],n=!1;return e.forEach((function(e){var a=e.layerType,r=e.type;t=Ye(t,Ke.a.border[a]),n||r!==aa.a.CIRCLE||(n=!0)})),n&&(t=t.filter((function(e){return"roundedCorners"!==e}))),t})),rr=n(682),or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var ir={shape:100,button:10},lr={color:"",weight:null,radius:null},sr=Object(de.createSelector)([D.a],(function(e){var t=rr.a.reduce((function(e,t){return or({},e,(r=null,(a=t)in(n={})?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n));var n,a,r}),{}),n=or({},t),a=null,r=null,o=null;e.forEach((function(e){var i=e.border,l=e.width,s=e.height,c=e.layerType;a=a?Math.min(a,l):l,r=r?Math.min(r,s):s,o=o?Math.min(ir[c],o):ir[c],Ca(t,i,lr,n)}));var i=wa(t.color);return t.opacity=i.opacity,t.color=i.color,o=Math.min(Math.floor(Math.min(a,r)/2),o),t.weight>o&&(t.weight=o/2),{borderProps:t,maxBorderWeight:o}})),cr=Object(a.c)((function(e){var t=Object(D.a)(e),n=Object(l.a)(e)===k.a.GENERATOR,a=!1,r=!1,o=!1;return 1===t.size&&n&&(o=!0,a=-1!==t.first().lockedProperties.indexOf(nt.a.BORDER),r=Et(e)),{isLocked:a,isOutOfSync:r,borderSettings:ar(e),enabledSyncAndLock:o,borderSettingsValue:sr(e),width:Object(B.a)(P.a.iconNames.action)+"px"}}),(function(e){return{onPropertyChange:function(t){e(Object(s.M)(t))},onLockClick:function(){e(Object(s.K)(nt.a.BORDER))},onSyncElementProperties:function(){e(Object(at.i)(nt.a.BORDER))}}}))(nr),ur=n(991),dr=n(1159),pr=n(658),fr=n(1023),hr=n(1024),mr=.1,br=.5,gr=5,yr=1,vr=-20,Er=20,Sr=n(883),Or=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Cr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var wr=m.a.bind(Xn.a),Tr=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Cr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={showColorPickerTool:!1},a.onCustomFontsChange=function(){var e=a.props,t=e.firstUploadedFontHash,n=e.customFontsList,r=Object(Sr.a)(t,n);if(r){var o=r.fontFamily,i=r.fontWeight,l=r.fontUrl,s=r.fontFaceUrl,c=r.fontStyle,u=r.fontPrefix;a.onChange({fontFamily:o,fontWeight:i,fontStyle:c,fontUrl:l,fontFaceUrl:s,fontType:dt.a.CUSTOM,fontPrefix:u})}},a.onSliderFontSizeChange=function(e){var t=Math.min(e,hr.a.MAX_SLIDER_FONT_SIZE);a.onChange({fontSize:t},!1)},a.onSelectFontSizeChange=function(e){var t=Number.isNaN(parseFloat(e))?0:e,n={fontSize:a.constructor.parseFontSizeValue(t,hr.a.MIN_FONT_SIZE,hr.a.MAX_FONT_SIZE)};a.onChange(n,!1)},a.onAlignGroupChange=function(e){e.alignment?a.props.onChange(e):a.onChange(e)},a.onChange=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=a.props.textSelection;a.changeProperties({labelStyle:e,textSelection:n,updateConfig:t})},a.onDropShadowChange=function(e){a.changeProperties({labelShadow:e})},a.onColorChange=function(e){a.onChange({color:e})},a.onColorPickerOk=function(){a.toggleColorPickerTool(),a.forceUpdate()},a.onLockSyncMouseDown=function(e){return e.stopPropagation()},a.changeProperties=function(e){a.props.onChange({textSettings:e})},a.toggleColorPickerTool=function(){a.setState((function(e){return{showColorPickerTool:!e.showColorPickerTool}}))},Cr(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Or(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.customFontsList;e.customFontsList!==t&&this.onCustomFontsChange()}},{key:"render",value:function(){var e=this,t=this.props,n=t.left,a=t.top,r=t.barPosition,o=t.customFontsList,i=t.isLimited,l=t.enabledSyncAndLock,s=t.onLockClick,c=t.isLocked,u=t.onChange,d=t.onSyncElementProperties,p=t.isOutOfSync,f=t.textSettings,h=t.textSettingsValues,m=t.googleFontsList,b=t.textSelection,g=h.alignment,y=h.lineHeight,v=h.extraShadow,O=h.textTransform,C=h.textDecoration,w=h.color,T=h.fontStyle,k=h.fontType,I=h.fontWeight,L=h.fontSize,R=h.fontPrefix,x=h.fontFamily,D=h.letterSpacing,j=h.labelShadow,A=b&&null!==b.offset&&null!==b,_=f.map((function(t){switch(t){case"font":return E.a.createElement(dr.a,{key:t,fontFamily:x,fontWeight:I,fontStyle:T,fontType:k,fontPrefix:R,label:N.a.typeface,onChange:e.onChange,customFontsList:o,googleFontsList:m,isLimited:i,preventDefaultOnMouseDown:A});case"size":var n=fr.a.map((function(e){return{value:e}}));return E.a.createElement("div",{key:t,className:Xn.a.fontSize},E.a.createElement("div",null,E.a.createElement(V.a,{size:Z.a.NORMAL,label:N.a.size,skin:S.a.WHITE})),E.a.createElement("div",{className:Xn.a.fontSizeSlider},E.a.createElement(pr.a,{value:null===L?hr.a.MAX_SLIDER_FONT_SIZE/2:L,min:hr.a.MIN_FONT_SIZE,max:hr.a.MAX_SLIDER_FONT_SIZE,onChange:e.onSliderFontSizeChange})),E.a.createElement("div",{className:Xn.a.fontSizeSelect},E.a.createElement(q.a,{items:n,skin:S.a.WHITE,onChange:e.onSelectFontSizeChange,value:L,componentType:"editableSelect",isNumeric:!0,arrowHoverBackground:!0,maxLength:hr.a.MAX_DIGITS,autoHide:!1,noBackgroundHover:!0,dropdownItemHeight:24.5})));case"align":return E.a.createElement("div",{className:Xn.a.group,style:{paddingTop:"15px"},key:t},E.a.createElement(ur.a,{onChange:e.onAlignGroupChange,alignment:g,textTransform:O,textDecoration:C,preventDefaultOnMouseDown:A}));case"lineHeight":return E.a.createElement(Jn.a,{key:t,onChange:function(e){return u({lineHeight:e})},step:mr,min:br,max:gr,value:y,label:N.a.lineHeight});case"letterSpacing":return E.a.createElement("div",{key:t,className:Xn.a.group},E.a.createElement(Jn.a,{onChange:function(t){return e.onChange({letterSpacing:t},!1)},maxLength:5,step:yr,min:vr,max:Er,value:D,label:N.a.letterSpacing}));case"dropShadow":return E.a.createElement(sa,{key:t,dropShadow:j,onChange:e.onDropShadowChange,separatorBefore:!0});case"chooser":return E.a.createElement("div",{className:wr("group","flex"),key:t},E.a.createElement(Qn.a,{key:t,color:w,barPosition:r,showColorPickerTool:e.state.showColorPickerTool,onColorChange:e.onColorChange,onColorPickerOk:e.onColorPickerOk,onColorPickerCancel:e.toggleColorPickerTool}))}return null})),H={extraShadow:v,style:{width:Object(B.a)(P.a.iconNames.text)+"px",left:n+"px",top:a+"px"},onMouseDown:function(e){A&&!Object(M.s)(e,!1)&&e.preventDefault()},locked:l&&c},U=l?E.a.createElement("div",{className:Xn.a.syncLockGroup},E.a.createElement(z.b,{title:N.a.syncProperties},E.a.createElement(St.a,{icon:Ct.a,skin:S.a.DARK_GREY,onMouseDown:this.onLockSyncMouseDown,onClick:d,disabled:!p})),E.a.createElement(z.b,{title:c?N.a.unlockProperties:N.a.lockProperties},E.a.createElement(wt.a,{icon:Tt.a.LOCK,onMouseDown:this.onLockSyncMouseDown,isChecked:c,onClick:s}))):null;return E.a.createElement(Zn.a,H,E.a.createElement("div",{className:Xn.a.panelHeader},E.a.createElement(V.a,{size:Z.a.SMEDIUM,label:N.a.textInspectorTooltip,skin:S.a.WHITE}),U),_)}}],[{key:"parseFontSizeValue",value:function(e,t,n){var a=Math.round(parseFloat(e));return a>n?n:a<t?t:parseInt(a)}}]),t}(v.Component);Tr.propTypes={onChange:y.a.func.isRequired,top:y.a.number,left:y.a.number,barPosition:y.a.string,textSelection:y.a.instanceOf(Nt.a),customFontsList:y.a.arrayOf(y.a.shape({fontName:y.a.string,fontUrls:y.a.object,fontFaceUrls:y.a.object,fontPrefix:y.a.string,fontWeight:y.a.array,fontWeightItalic:y.a.array,svgUrl:y.a.string,hash:y.a.object,fontType:y.a.string})),onComponentDidMount:y.a.func,firstUploadedFontHash:y.a.string,isLimited:y.a.bool,enabledSyncAndLock:y.a.bool,onLockClick:y.a.func,isLocked:y.a.bool,onSyncElementProperties:y.a.func,isOutOfSync:y.a.bool,googleFontsList:y.a.instanceOf(Array),textSettings:y.a.arrayOf(y.a.string),textSettingsValues:y.a.instanceOf(Object).isRequired},Tr.defaultProps={top:null,left:null,barPosition:"right",textSelection:null,customFontsList:[],onComponentDidMount:function(){},firstUploadedFontHash:null,isLimited:!1,enabledSyncAndLock:!1,onLockClick:function(){},isLocked:!1,onSyncElementProperties:function(){},isOutOfSync:!1,googleFontsList:[],textSettings:[]};var kr=Tr,Ir=n(1039),Lr=n(461),Pr=n(1e3),Mr=n(463),Rr=n(993),xr=Object(de.createSelector)([D.a],(function(e){if(!e.size)return[];var t=e.first().layerType,n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var s=i.value.layerType;if(n=Ye(n,Ke.a.text[s]),t!==s)return Ke.a.text.mixt}}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n})),Dr=n(519),jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var Nr=Object(de.createSelector)([D.a,function(e){return e.bannerCreator.editor.stage.textSelection}],(function(e,t){var n={alignment:null,lineHeight:null,extraShadow:null,textTransform:null,textDecoration:null,color:null,fontStyle:null,fontType:null,fontWeight:null,fontFamily:null,fontSize:null,fontPrefix:null,letterSpacing:null,labelShadow:null,textSelection:null},a={alignment:"",lineHeight:null,extraShadow:"",textTransform:"none",textDecoration:"none",color:"",fontStyle:"",fontType:"",fontWeight:null,fontFamily:"",fontSize:null,fontPrefix:null,letterSpacing:null,labelShadow:!1,textSelection:null},r=jr({},n),o=ba.b.reduce((function(e,t){return jr({},e,(r=null,(a=t)in(n={})?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n));var n,a,r}),{}),i=jr({},o);e.forEach((function(e){var l=e.alignment,s=e.lineHeight,c=e.extraShadow,u=e.layerType,d=e.config,p=e.text,f=e.scale,h=void 0===f?Dr.a.DEFAULT:f,m=void 0,g=void 0,y=void 0,v=void 0,E=void 0,S=void 0,O=void 0,C=void 0,w=void 0,T=void 0,k=void 0;if(u===H.b.BUTTON){m=e.textTransform,g=e.textDecoration,k=e.labelShadow;var I=e.labelStyle;y=I.color,v=I.fontStyle,E=I.fontType,S=I.fontWeight,O=I.fontFamily,C=I.fontSize,T=I.letterSpacing,w=I.fontPrefix,y=new b.List([y])}else C=e.fontSize,T=e.letterSpacing,k=e.textShadow,C=Math.round(C*h),T=Math.round(T*h),m=Sa(d,t,"textTransform",p),g=Sa(d,t,"textDecoration",p),E=Sa(d,t,"fontType",p).first(),v=Sa(d,t,"fontStyle",p),S=Sa(d,t,"fontWeight",p),O=Sa(d,t,"fontFamily",p),w=Sa(d,t,"fontPrefix",p),y=Sa(d,t,"color",p),m=1===m.size?m.first():"none",g=1===g.size?g.first():"none",O=1===O.size?O.first():"",w=1===w.size?w.first():null,S=1===S.size?S.first():0,v=1===v.size?v.first():"";var L={alignment:l,lineHeight:s,extraShadow:c,textTransform:m,textDecoration:g,color:y,fontStyle:v,fontType:E,fontWeight:S,fontSize:C,fontPrefix:w,fontFamily:O,letterSpacing:T,labelShadow:k};Object.keys(n).forEach((function(e){if("color"===e)n[e]?n[e]=L[e].concat(n[e]):n[e]=L[e];else if("labelShadow"===e)n[e]=Ca(o,L[e],La,i);else{var t=Oa(n[e],L[e],a[e],r[e]);n[e]=t.finalProp,r[e]=t.helper}}))}));var l=wa(n.labelShadow.color);return n.labelShadow.opacity=l.opacity,n.labelShadow.color=l.color,n.color=n.color.toSet().toList(),n})),Ar=Object(a.c)((function(e){var t=e.bannerCreator,n=t.app.mode,a=t.editor.stage.textSelection,r=t.library.typography.firstUploadedFontHash,o=Object(Mr.a)(e),i=Object(D.a)(e),l=Object(Ir.a)(e),s=Object(Rr.a)(e),c=xr(e),u=Nr(e),d=n===k.a.GENERATOR,p=!1,f=!1,h=!1;return 1===i.size&&d&&(h=!0,p=-1!==i.first().lockedProperties.indexOf(nt.a.TEXT),f=Et(e)),{isLocked:p,isLimited:o===Lr.a.FREE||Object(Pr.a)(e),isOutOfSync:f,textSettings:c,textSelection:a,customFontsList:l,googleFontsList:s,enabledSyncAndLock:h,textSettingsValues:u,firstUploadedFontHash:r}}),(function(e){return{onLockClick:function(){e(Object(s.K)(nt.a.TEXT))},onChange:function(t){e(Object(s.M)(t))},onSyncElementProperties:function(){e(Object(at.i)(nt.a.TEXT))}}}))(kr),_r=n(407),Br=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Hr=m.a.bind(_.a),Ur=32,zr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onResize=function(){n.forceUpdate()},n.onIconMouseDown=function(e){n.props.preventDefaultOnIconMouseDown&&e.preventDefault()},n.onIconClick=function(e){var t=n.state.selectedIcon,a=n.props,r=a.onSelectedElementsDelete,o=a.onSelectedElementsDuplicate,i=a.onGroupUngroupClick,l=a.allowIBShortcuts,s=a.allowShortcuts,c=a.changeSelectedTab,u=a.showTimeline,d=a.selectedElements,p=a.onLockClick,f=t!==e?e:"";switch(e){case P.a.iconNames.transition:return void u();case P.a.iconNames.group:i();break;case P.a.iconNames.delete:r(),f="";break;case P.a.iconNames.duplicate:o(),f="";break;case P.a.iconNames.lock:p(d)}c(f),s||l(!0),n.setState({selectedIcon:f})},n.onDisabledIconClick=function(e){n.isIconEnabled(e)||e===P.a.iconNames.delete||n.props.showUpgradePopin("limit".concat(Object(M.b)(e),Object(M.b)(n.props.serviceType)))},n.setSelectedIcon=function(e){n.setState({selectedIcon:e})},n.clearSelectedIcon=function(){n.setState({selectedIcon:""})},n.calculateBarPosition=function(){var e=n.state.selectedIcon,t=n.props,a=t.stageScroll,r=t.zoom,o=t.layerType,i=t.selectedElementsMetrics,l=t.isGenerator,s=t.getStageElementsRef,c=t.getStageRef,u=a.scrollLeft,d=a.scrollTop,p=a.clientWidth,f=i.x,h=i.width,m=i.height,b=i.scale,g=i.rotation,y=45,v="right",E=370;if(1!==r||o===H.b.TEXT&&0!==g)return{panelOffsetLeft:y,barPosition:"top",left:u+30,top:l?Ur+d+30:d+30};var S=s(),O=c();if(!S||!O)return setTimeout((function(){n.forceUpdate()}),0),!1;var C=S.getBoundingClientRect(),w=O.getBoundingClientRect(),T=C.left-w.left,k=C.top-w.top;o===H.b.YOUTUBE&&(E=270),o===H.b.EMBED&&(v="left");var I=h*b,L=m*b,P=T+f,M=P+I,R=Math.round(Math.sqrt(L*L+I*I)/2),x=R-I/2+20;(g>45&&g<=135||g>225&&g<=315)&&(M=(P-=(L-I)/2)+L,x=R-L/2+20);var D=g*(Math.PI/90),j=Math.abs(Math.sin(D))*x;M+E+j>u+p&&(v="left"),"left"===v&&P-E<u&&(v="top");var N=i.y+k,A=u;if("right"===v)A=M+30+j;else{A=P-40-30-j;var _=kt.c.substring(1);y=-(Object(B.a)(e,{displayType:o,lang:_})+5)}return"top"!==v&&(N+=d,A+=u),"top"===v&&(A=u+30,y=45,N=l?d+30+Ur:d+30),{left:A,top:N,panelOffsetLeft:y,barPosition:v}},n.isIconEnabled=function(e){var t=n.props,a=t.featuresAccess,r=t.oneIsLocked,o="no"===a.bmTransitions&&e===P.a.iconNames.transition,i=r&&e===P.a.iconNames.delete;return!(a&&o||i)},n.state={selectedIcon:e.onlyOneGroupSelected?P.a.iconNames.group:n.props.selectedTab},n.needsNewBarPos=!0,window.addEventListener("resize",n.onResize),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Br(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.stageScroll,a=t.selectedLayers,r=t.visible,o=t.zoom,i=t.onlyOneGroupSelected,l=e.stageScroll,s=e.selectedLayers,c=e.visible,u=e.zoom,d=e.onlyOneGroupSelected,p=a!==s;this.needsNewBarPos=o!==u||!n.equals(l)||p||r!==c,d&&!i||p&&d?this.setState({selectedIcon:P.a.iconNames.group}):(p&&!d||!d&&i)&&this.clearSelectedIcon()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.selectedTab,a=t.zoom;n&&n!==e.selectedTab&&"group"!==n&&this.setSelectedIcon(n),a!==e.zoom&&this.forceUpdate()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"getIcons",value:function(){var e=this,t=this.props,n=t.selectedElements,a=t.featuresAccess,r=t.showTransitionTab,o=t.selectionHasGroup,i=t.oneIsLocked,l=t.iconsForSelectedElements,s=this.state.selectedIcon;if(!n.size)return[];var c=[];return l.forEach((function(t){switch(t){case P.a.iconNames.transition:if("no"===a.bmTransitions||!r||o)return}var n={name:t,selected:t===s,enabled:e.isIconEnabled(t)};i&&t!==P.a.iconNames.delete&&t!==P.a.iconNames.duplicate&&t!==P.a.iconNames.lock||c.push(n)})),c}},{key:"getTooltipValue",value:function(e,t,n){var a=this.props.oneIsLocked;if(n&&e===P.a.iconNames.group)return N.a.ungroupInspectorTooltip;if(e===P.a.iconNames.lock)return a?N.a.unlockLayer:N.a.lockLayer;if("color"!==e)return N.a[e+"InspectorTooltip"];switch(t){case H.b.SHAPE:case H.b.BUTTON:return N.a.fill;case H.b.EMBED:return N.a.backgroundTooltip;default:return N.a[e+"InspectorTooltip"]}}},{key:"render",value:function(){var e=this,t=this.state,n=t.display,a=t.selectedIcon,r=this.props,o=r.visible,i=r.layerType,l=r.oneIsLocked,s=r.shakeLockIcon,c=r.onlyOneGroupSelected,u=r.selectedLayers;if((this.needsNewBarPos||i===H.b.EMBED)&&(this.barPos=this.calculateBarPosition()),!o||!this.barPos)return null;var d=this.barPos,p=d.left,f=d.top,h=d.barPosition,m=d.panelOffsetLeft,b=void 0;switch(a){case P.a.iconNames.color:b=E.a.createElement(Da,{left:p+m,top:f,barPosition:h});break;case P.a.iconNames.layers:b=E.a.createElement(tt,{left:p+m,top:f});break;case P.a.iconNames.action:b=E.a.createElement(he,{left:p+m,top:f});break;case P.a.iconNames.text:b=E.a.createElement(Ar,{barPosition:h,left:p+m,top:f});break;case P.a.iconNames.settings:b=E.a.createElement(Qa,{left:p+m,top:f,barPosition:h});break;case P.a.iconNames.time:b=E.a.createElement("div",null,"Inspector time");break;case P.a.iconNames.border:b=E.a.createElement(cr,{left:p+m,top:f,barPosition:h})}var g=this.getIcons(),y=c&&u.size,v=g.map((function(t,n){var a=e.getTooltipValue(t.name,i,y),r="left";"left"!==h&&"top"!==h||(r="right");var o="0";0===n?o=" 2px 2px 0 0 ":n===g.length-1&&(o=" 0 0 2px 2px ");var c=t.name===P.a.iconNames.settings?Z.a.MEDIUM:Z.a.LARGE,u=t.name===P.a.iconNames.lock?l:t.selected,d=t.name===P.a.iconNames.lock?s:null,p=t.name===P.a.iconNames.duplicate&&n>1?E.a.createElement("div",{className:_.a.separator}):null;return E.a.createElement("div",{key:t.name},p,E.a.createElement(z.b,{title:a,placement:r},E.a.createElement("div",{className:Hr(_.a.toolbarIcons,{selected:u,shakeMe:d})},E.a.createElement(U.a,{iconSize:c,icon:t.name,selected:u,bgHover:!0,borderRadius:o,enabled:t.enabled,onMouseDown:e.onIconMouseDown,onClickHandler:function(){e.onIconClick(t.name)},onDisabledClickHandler:function(){e.onDisabledIconClick(t.name)}}))))}));return E.a.createElement("div",{style:{display:n},"data-qa":_r.N},E.a.createElement(G.a,{style:{width:"40px",padding:"0px",left:p+"px",top:f+"px"}},v),E.a.createElement("div",{style:{zIndex:1}},b))}}]),t}(v.Component);zr.propTypes={visible:y.a.bool,layerType:y.a.oneOf([H.b.TEXT,H.b.BUTTON,H.b.EMBED,H.b.IMAGE,H.b.SHAPE,H.b.SVG,H.b.MENU,H.b.CLIPART,H.b.YOUTUBE,H.b.MIXED,H.b.GROUP]),zoom:y.a.number,stageScroll:y.a.instanceOf(ja.a),featuresAccess:y.a.instanceOf(Na.b),selectedLayers:y.a.instanceOf(b.List),selectedElements:y.a.instanceOf(b.List),selectedElementsMetrics:y.a.shape({x:y.a.number,y:y.a.number,width:y.a.number,height:y.a.number,rotation:y.a.number}),serviceType:y.a.string,isGenerator:y.a.bool,onlyOneGroupSelected:y.a.bool,getStageRef:y.a.func.isRequired,getStageElementsRef:y.a.func.isRequired,showUpgradePopin:y.a.func.isRequired,onSelectedElementsDelete:y.a.func,onSelectedElementsDuplicate:y.a.func,showTransitionTab:y.a.bool,selectionHasGroup:y.a.bool,onGroupUngroupClick:y.a.func,selectedTab:y.a.string,changeSelectedTab:y.a.func,allowIBShortcuts:y.a.func,allowShortcuts:y.a.bool,preventDefaultOnIconMouseDown:y.a.bool,iconsForSelectedElements:y.a.arrayOf(y.a.string),showTimeline:y.a.func,oneIsLocked:y.a.bool,onLockClick:y.a.func,shakeLockIcon:y.a.bool},zr.defaultProps={visible:!1,layerType:null,zoom:1,stageScroll:new ja.a,featuresAccess:new Na.b,selectedLayers:new b.List,selectedElements:new b.List,selectedElementsMetrics:{x:0,y:0,width:0,height:0,rotation:0,scale:Dr.a.DEFAULT},serviceType:Lr.a.FREE,isGenerator:!1,onlyOneGroupSelected:!1,onSelectedElementsDelete:function(){},onSelectedElementsDuplicate:function(){},showTransitionTab:!0,selectionHasGroup:!0,onGroupUngroupClick:function(){},selectedTab:"",changeSelectedTab:function(){},allowIBShortcuts:function(){},onLockClick:function(){},allowShortcuts:!0,preventDefaultOnIconMouseDown:!1,iconsForSelectedElements:[],showTimeline:function(){},oneIsLocked:!1,shakeLockIcon:!1};var Gr=zr,Fr=n(709),Wr=n(454),Vr=Object(de.createSelector)([function(e){return e.bannerCreator.editor.banner.selectedLayers},function(e){return e.bannerCreator.editor.banner.bannerPathMap}],(function(e,t){return e.some((function(e){return 2===t[e].length}))})),qr=Object(de.createSelector)([D.a,Xe,Je,Vr,l.a],(function(e,t,n,a,r){if(!e.size)return[];var o=[],i=new Set,l=P.a.iconNames,s=!1,c=!1,u=!1;if(t||n!==H.b.MIXED){if(o=P.a[n],n===H.b.MIXED){var d=!0,p=!1,f=void 0;try{for(var h,m=e[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var b=h.value.layerType;if(b===H.b.YOUTUBE||b===H.b.EMBED){i.add(l.action);break}}}catch(e){p=!0,f=e}finally{try{!d&&m.return&&m.return()}finally{if(p)throw f}}}n===H.b.CLIPART&&i.add(l.settings),r===k.a.GENERATE&&i.add(l.lock)}else e.forEach((function(e){var t=e.layerType;o=Ye(o,P.a[t]),t!==H.b.YOUTUBE&&t!==H.b.EMBED||i.add(l.action),s||t!==H.b.BUTTON||(s=!0),c||t!==H.b.TEXT||(c=!0),t!==H.b.TEXT&&t!==H.b.BUTTON&&(u=!0)})),e.size>1&&i.add(l.settings),e.size>1&&!a&&o.unshift(l.group),c&&s&&!u&&i.add(l.color);return i.size&&(o=o.filter((function(e){return!i.has(e)}))),o})),Kr=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=t.stage,a=n.selecting,r=n.rotating,i=n.resizing,s=n.dragging,c=n.stageScroll,u=n.textSelection,d=n.zoom,p=n.cropElementId,f=n.shakeLockIcon,h=t.banner,m=h.selectedLayers,b=h.selectedTab,g=h.allowIBShortcuts,y=t.timeline.collapsed,v=Je(e),E=Object(Mr.a)(e),S=Object(o.a)(e),O=Object(D.a)(e),C=Xe(e),w=Object(j.a)(e),T=Object(Ze.a)(e),I=qr(e),P=Object(l.a)(e)===k.a.GENERATOR,M=Object(Fr.a)(S.bmTimeline),R=!!(L.b&&y||!M)||y,x=!p&&!(!O.size||a||r||i||s),N=u&&null!==u.offset,A=1===O.size?O.first().rotation:0,_=O.some((function(e){return e.locked}));return{zoom:d,visible:x,rotation:A,layerType:v,serviceType:E,stageScroll:c,isGenerator:P,selectedTab:b,selectedLayers:m,allowShortcuts:g,featuresAccess:S,selectedElements:O,selectionHasGroup:C,showTransitionTab:R,onlyOneGroupSelected:T,selectedElementsMetrics:w,iconsForSelectedElements:I,preventDefaultOnIconMouseDown:N,oneIsLocked:_,shakeLockIcon:f}}),(function(e){return{onSelectedElementsDelete:function(){e(Object(s.o)())},onSelectedElementsDuplicate:function(){e(Object(s.r)())},onGroupUngroupClick:function(){e(Object(s.u)())},onLockClick:function(t){e(Object(s.x)(t))},changeSelectedTab:function(t){e(Object(s.j)(t))},showUpgradePopin:function(t){e(Object(Wr.h)(t))},allowIBShortcuts:function(t){e(Object(s.c)(t))},showTimeline:function(){e(Object(f.n)())}}}))(Gr),Yr=E.a.createElement("svg",{width:"13px",height:"13px",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("g",{id:"Crop-Image",stroke:"none",fill:"none"},E.a.createElement("g",{id:"Soundcloud",stroke:"none",fill:"none"},E.a.createElement("g",{id:"Soundcloud-header-image-Copy",transform:"translate(-383.000000, -34.000000)",fill:"#000000",stroke:"#FFFFFF"},E.a.createElement("path",{d:"M386.5,37.5 L386.5,45 C386.5,45.8284271 385.828427,46.5 385,46.5 C384.171573,46.5 383.5, 45.8284271 383.5,45 L383.5,36 C383.5,35.1715729 384.171573,34.5 385,34.5 L394,34.5 C394.828427, 34.5 395.5,35.1715729 395.5,36 C395.5,36.8284271 394.828427,37.5 394,37.5 L386.5,37.5 Z",id:"Combined-Shape"}))))),Xr=n(1191),Zr=n(1436),Jr=n.n(Zr),Qr=m.a.bind(Jr.a),$r=function(e){var t={},n=function(n){e.onChangeCropData(t,n)},a=function t(a){document.removeEventListener("contextmenu",a.preventDefault,!1),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",t,!0),a.stopPropagation(),e.onStopCropping()},r=e.element,o=e.element,i=o.layerType,l=o.x,s=o.y,c=o.width,u=o.height,d=o.cropData,p=o.adjustColor,f=o.flip,h=e.zoom,m=e.cropElementId,b=e.cropping,g=e.dragging,y=e.resizing,v=d.width,S=void 0===v?c:v,O=d.height,C=void 0===O?u:O,w=d.x,T=void 0===w?0:w,k=d.y,I=void 0===k?0:k,L=function(r){var o=[];return r.forEach((function(r){o.push(E.a.createElement("div",{key:r,className:Qr(Jr.a[r],Jr.a.cropCorner),onMouseDown:function(o){!function(r,o){if(0===o.button){document.addEventListener("contextmenu",o.preventDefault,!1),window.addEventListener("mousemove",n),window.addEventListener("mouseup",a,!0),e.onStartCropping();var i=e.element,l=i.cropData,s=i.x,c=i.y,u=i.width,d=i.height,p=e.zoom;t={pageX:o.pageX,pageY:o.pageY,cropData:{x:l.x*p,y:l.y*p,width:l.width*p,height:l.height*p},corner:r,x:s*p,y:c*p,width:u*p,height:d*p},o.stopPropagation(),o.preventDefault()}}(r,o)},role:"none"},Yr))})),o}([Xr.a.TL,Xr.a.TR,Xr.a.BR,Xr.a.BL]),P=b||g||y,x=(i===H.b.IMAGE?r:r.backgroundColor).url;Object(M.t)(x)||(x="//cdn.bannersnack.com/files/"+x);var D=l,j=s,N=c,A=u;if(i===H.b.SHAPE&&r.border.weight){var _=r.border.weight;D+=_,T-=_,I-=_,j+=_,N-=2*_,A-=2*_}var B=Object.assign({},Object(R.m)(T,I,S,C,!0,h),Object(R.k)({flip:f}),{backgroundImage:"url("+x+")"}),U=Object.assign({},Object(R.m)(D,j,N,A,!0,h),Object(R.j)({adjustColor:p},h));if(i===H.b.SHAPE){var z=r.border,G=r.type,F=r.color;Object.assign(U,Object(R.f)(z.radius-z.weight,G===aa.a.CIRCLE,h),Object(R.l)(F))}var W=Object.assign({},Object(R.m)(l,s,c,u,!0,h)),V=i===H.b.IMAGE?E.a.createElement("div",{key:"cropCorners",className:Qr(Jr.a.cropCorners,{hidden:P}),style:W},L):null;return E.a.createElement("div",{className:Jr.a.cropContainer},E.a.createElement("div",{key:m,className:Jr.a.crop,style:U},E.a.createElement("div",{key:"fullImage",className:Jr.a.fullImage,style:B})),V)};$r.propTypes={element:y.a.oneOfType([y.a.instanceOf(Rt.a),y.a.instanceOf(Mt.a)]).isRequired,cropElementId:y.a.number,zoom:y.a.number,onChangeCropData:y.a.func.isRequired,onStartCropping:y.a.func.isRequired,onStopCropping:y.a.func.isRequired,cropping:y.a.bool,dragging:y.a.bool,resizing:y.a.bool},$r.defaultProps={cropElementId:null,zoom:1,cropping:!1,dragging:!1,resizing:!1};var eo=$r,to=n(706),no=Object(a.c)((function(e){var t=e.bannerCreator.editor.stage,n=t.cropElementId,a=t.zoom,r=t.cropping,o=t.dragging,i=t.resizing;return{cropElementId:n,zoom:a,element:Object(to.a)()(e,n).element,cropping:r,dragging:o,resizing:i}}),(function(e){return{onChangeCropData:function(t,n){e(Object(d.b)(t,n))},onStartCropping:function(){e(Object(d.o)())},onStopCropping:function(){e(Object(d.v)())}}}))(eo),ao=n(1437),ro=n.n(ao),oo=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var io=m.a.bind(ro.a),lo=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={lastRefresh:0,visible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),oo(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,a=n.x,r=n.y,o=e.x,i=e.y,l=e.isDragging,s=e.isResizing,c=e.isRotating;if(!(l||c||s||0===a&&0===r||a===o&&r===i||0===o&&0===i)){var u=(new Date).getTime();u-this.state.lastRefresh<500&&clearTimeout(this.clearTooltip),this.setState({lastRefresh:u,visible:!0}),this.clearTooltip=setTimeout((function(){t.setState({visible:!1})}),500)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.clearTooltip)}},{key:"render",value:function(){var e=this.props,t=e.zoom,n=e.x,a=e.y,r=e.width,o=e.height,i=e.rotation,l=e.isDragging,s=e.isResizing,c=e.isRotating,u=e.isCropping,d=e.cropMode,p=e.measureUnit;if(!(this.state.visible||l||c||s||u))return null;var f=void 0;switch(p){case be.a.MM:f=1;break;case be.a.CM:f=2;break;case be.a.IN:f=3;break;default:f=0}var h=Object(Se.b)(Object(Se.a)(be.a.PX,p,r),f),m=Object(Se.b)(Object(Se.a)(be.a.PX,p,o),f),b=Object(Se.b)(Object(Se.a)(be.a.PX,p,n),f),g=Object(Se.b)(Object(Se.a)(be.a.PX,p,a),f),y=null;if(d){if(u&&(y=h+"x"+m+" "+p),l||s||c)return null}else y=s?h+"x"+m+" "+p:c?Math.round(i)+"":b+", "+g+" "+p;return E.a.createElement("div",{className:ro.a.infoContainer,style:{left:n*t+"px",top:a*t+"px",width:r*t+"px",height:o*t+"px",transform:"translateZ(0) rotate("+i+"deg)"}},E.a.createElement("div",{className:io("info",{rotating:c}),style:{transform:(c?"translateX(50%) ":"")+"translateZ(0) rotate("+-i+"deg)"}},y))}}]),t}(v.Component);lo.propTypes={height:y.a.number,isDragging:y.a.bool,isResizing:y.a.bool,isRotating:y.a.bool,isCropping:y.a.bool,rotation:y.a.number,width:y.a.number,x:y.a.number,y:y.a.number,zoom:y.a.number,cropMode:y.a.bool,measureUnit:y.a.oneOf([be.a.PX,be.a.IN,be.a.CM,be.a.MM])},lo.defaultProps={height:0,isDragging:!1,isResizing:!1,isRotating:!1,isCropping:!1,rotation:0,width:0,zoom:1,x:0,y:0,cropMode:!1,measureUnit:be.a.PX};var so=lo,co=n(1485),uo=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=t.stage,a=t.banner.banner.measureUnit,r=n.zoom,o=n.dragging,i=n.resizing,l=n.rotating,s=n.cropElementId,c=n.cropping,u=o?Object(co.a)(e):Object(j.a)(e),d=u.x,p=u.y,f=u.width,h=u.height,m=u.scale,b=u.rotation,g=!!s;return{isDragging:o,isResizing:i,isRotating:l,isCropping:c,rotation:g?0:b,x:d,y:p,height:h*m,width:f*m,measureUnit:a,zoom:r,cropMode:g}}))(so),po=n(1438),fo=n.n(po),ho=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var mo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ho(t,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.groupsMetrics,a=e.zoom;return t?n.map((function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i={left:t*a+"px",top:n*a+"px",width:r*a+"px",height:o*a+"px"};return E.a.createElement("div",{key:"g"+t+n+r+o,style:i,className:fo.a.groupHelperContainer})})):null}}]),t}(v.Component);mo.propTypes={visible:y.a.bool,groupsMetrics:y.a.instanceOf(b.List),zoom:y.a.number},mo.defaultProps={visible:!1,groupsMetrics:new b.List,zoom:1};var bo=mo,go=n(831),yo=Object(de.createSelector)([D.a],(function(e){return 1===e.size&&!!e.first().group})),vo=Object(de.createSelector)([function(e){return e.bannerCreator.editor.banner},yo,D.a],(function(e,t,n){var a=e.selectedLayers,r=e.hoveredElementId,o=new b.List;if(t){var i=n.first().group,l=Object(go.a)(e,i);o=o.push({group:i,metrics:Object(qe.a)(l)})}if(r&&(a.size<=1||!a.contains(r))){var s=Object(go.b)(e,r);if(s){var c=Object(go.a)(e,s);-1===o.findIndex((function(e){return e.group===s}))&&(o=o.push({group:s,metrics:Object(qe.a)(c)}))}}return o.map((function(e){return e.metrics}))})),Eo=Object(a.c)((function(e){var t=e.bannerCreator.editor.stage.zoom;return{visible:!0,groupsMetrics:vo(e),zoom:t}}))(bo),So=n(1439),Oo=n.n(So),Co={HORIZONTAL:"h",VERTICAL:"v"},wo=n(763),To=n(645),ko=n(906),Io={WIDTH_HEIGHT:20,UNIT_WIDTH:10,UNIT_LINE_WIDTH:1,UNITS_PER_CHUNK:10,CHUNK_WIDTH:100,NUMBERING:100},Lo=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Po=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Mo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ro=m.a.bind(Oo.a),xo="vertical",Do="horizontal",jo=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Mo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.getGuide=function(e,t,n,r,o){var i=a.props,l=i.zoom,s=i.stageMetrics,c=i.rulerHover,u=i.appMode,d=i.measureUnit,p=u!==k.a.EDITOR,f=void 0,h=void 0;return e===Co.HORIZONTAL?(f=Do,h={top:t*l+s.y-I.a.MENU_HEIGHT-To.a.MENU_HEIGHT+"px"}):(f=xo,h={left:t*l+s.x-(p?0:n)+"px"}),E.a.createElement("div",{key:r+"-"+e+"-"+t,id:r+"-"+e,style:h,className:Ro(""+f,"line",o?"temporary":"guide",{rulerHover:c}),"data-unit":Object(Se.b)(Object(Se.a)(be.a.PX,d,t),we.a[d])})},a.getGuides=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.props,r=n.zoom,o=n.stageMetrics,i=n.guidelines,l=n.toolsCollapsed,s=n.appMode,c=i.tempGuidelines,u=i.rulerGuideLines,d=t?c:u,p=d.v,f=d.h,h=[],m=void 0,b=void 0,g=s!==k.a.EDITOR,y=wo.a.ICON_BAR_WIDTH+(l?0:wo.a.WIDTH);if(e===Co.HORIZONTAL?(m=f,b=-1*(o.y-I.a.MENU_HEIGHT-Io.WIDTH_HEIGHT-To.a.MENU_HEIGHT)):(m=p,b=o.x-Io.WIDTH_HEIGHT,g?b*=-1:b=-1*(b-y)),!t&&m.size>0){var v=!0,E=!1,S=void 0;try{for(var O,C=m.entries()[Symbol.iterator]();!(v=(O=C.next()).done);v=!0){var w=O.value,T=Lo(w,2),L=T[0],P=T[1];if(!(b/r>P)){var M=a.getGuide(e,P,y,L,t);h.push(M)}}}catch(e){E=!0,S=e}finally{try{!v&&C.return&&C.return()}finally{if(E)throw S}}}else if(t&&null!==m&&!(b/r>m)){var R=a.getGuide(e,m,y,"temporary",t);h.push(R)}return h},Mo(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Po(t,[{key:"render",value:function(){var e=this.props,t=e.showGuidelines,n=e.rulerVisibility,a=null,r=null;t&&n&&(a=this.getGuides(Co.VERTICAL),r=this.getGuides(Co.HORIZONTAL));var o=this.getGuides(Co.VERTICAL,!0),i=this.getGuides(Co.HORIZONTAL,!0);return E.a.createElement("div",{className:Oo.a.guidelines},i,o,r,a)}}]),t}(v.Component);jo.propTypes={stageMetrics:y.a.instanceOf(ko.a).isRequired,zoom:y.a.number,guidelines:y.a.shape({v:y.a.instanceOf(b.List),h:y.a.instanceOf(b.List)}),showGuidelines:y.a.bool,toolsCollapsed:y.a.bool,rulerHover:y.a.bool,rulerVisibility:y.a.bool,appMode:y.a.oneOf([k.a.CHOOSE_EDITOR,k.a.GENERATOR,k.a.EDITOR,k.a.GENERATE]),measureUnit:y.a.oneOf(Object.values(be.a))},jo.defaultProps={zoom:1,guidelines:{},showGuidelines:!1,toolsCollapsed:!1,rulerHover:!1,rulerVisibility:!1,appMode:k.a.EDITOR,measureUnit:be.a.PX};var No=jo,Ao=n(774),_o=Object(a.c)((function(e){var t=e.bannerCreator,n=t.editor,a=n.stage,r=n.banner.banner,o=r.showGuidelines,i=r.measureUnit,l=n.tools.panelCollapsed,s=t.app.mode,c=a.zoom,u=a.guidelines,d=a.rulerHover,p=a.stageMetrics;return{rulerVisibility:a.rulerVisibility,toolsCollapsed:l,showGuidelines:o,stageMetrics:p,measureUnit:i,guidelines:{tempGuidelines:u,rulerGuideLines:Object(Ao.a)(e)},rulerHover:d,zoom:c,appMode:s}}))(No),Bo=n(1440),Ho=n.n(Bo),Uo=n(1441),zo=n.n(Uo),Go=function(e){var t=e.shadowMetrics,n={top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"};return E.a.createElement("div",{className:zo.a.shadow,style:n})},Fo=Go;Go.propTypes={shadowMetrics:y.a.shape({top:y.a.number,left:y.a.number,width:y.a.number,height:y.a.number})},Go.defaultProps={shadowMetrics:{top:0,left:0,width:0,height:0}};var Wo=n(1248),Vo=function(e,t){return t},qo=it()([function(e){return e.bannerCreator.editor.stage.stageMetrics},function(e){return e.bannerCreator.editor.tools.panelCollapsed},Vo,function(e){return e.bannerCreator.editor.banner.selectedLayers},j.a,function(e){return e.bannerCreator.editor.stage.zoom},function(e){return e.bannerCreator.app.mode}],(function(e,t,n,a,r,o,i){var l=Object.assign({},r);if(l.scale&&l.scale!==Dr.a.DEFAULT){var s=l.scale,c=l.width,u=l.height;Object.assign(l,{width:c*s,height:u*s})}var d=0,p=0,f=0,h=0,m=Io.WIDTH_HEIGHT;if(n===Co.HORIZONTAL){var b=wo.a.ICON_BAR_WIDTH+(t?0:wo.a.WIDTH)+m;i!==k.a.GENERATOR&&i!==k.a.GENERATE||(b=m);var g=e.left-b;if(p=m,a.size){var y=0,v=0;if(l.rotation>0){var E=Object(Wo.a)(l);y=E.width,v=E.x}else y=l.width,v=l.x;d=y*o,h=g+v*o}else d=e.width,h=g}else{var S=To.a.MENU_HEIGHT+I.a.MENU_HEIGHT+m,O=e.top-S;if(d=m,h=0,a.size){var C=0,w=0;if(l.rotation>0){var T=Object(Wo.a)(l);C=T.height,w=T.y}else C=l.height,w=l.y;p=C*o,f=O+w*o}else p=e.height,f=O}return{width:Math.round(d),height:Math.round(p),top:Math.round(f),left:Math.round(h)}}))(Vo),Ko=Object(a.c)((function(e,t){return{shadowMetrics:qo(e,t.rulerType)}}))(Fo),Yo=n(1247),Xo=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Zo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Jo=m.a.bind(Ho.a),Qo=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Zo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onMouseEnter=function(e){if(a.mouseDown||(a.mouseLeave=!1),-1===a.foundGuide){var t=a.props.setTempGuideline;a.guideType=e,a.addMoveEvent=setTimeout((function(){return window.addEventListener("mousemove",a.onMouseMove)}),100),a.guideType===Co.VERTICAL?(t(Co.HORIZONTAL,null),a.refHorizontalRuler.addEventListener("mouseleave",a.onMouseLeave)):(t(Co.VERTICAL,null),a.refVerticalRuler.addEventListener("mouseleave",a.onMouseLeave))}},a.onMouseMove=function(e){e.stopPropagation();var t=a.props,n=t.stageMetrics,r=t.setTempGuideline,o=t.zoom,i=t.onGuideMove;a.position=Math.round((a.guideType===Co.VERTICAL?e.clientX-n.x:e.clientY-n.y)/o);var l={isShiftPressed:e.shiftKey};-1===a.foundGuide?r(a.guideType,a.position,l):i(a.foundGuide,a.guideType,a.position,l)},a.onMouseLeave=function(){(clearTimeout(a.addMoveEvent),a.mouseLeave=!0,-1===a.foundGuide)&&((0,a.props.setTempGuideline)(a.guideType,null),window.removeEventListener("mouseup",a.onMouseUp),window.removeEventListener("mousemove",a.onMouseMove),a.guideType===Co.VERTICAL?a.refHorizontalRuler.removeEventListener("mouseleave",a.onMouseLeave):a.refVerticalRuler.removeEventListener("mouseleave",a.onMouseLeave))},a.onMouseDown=function(e){if(0===e.button&&a.guideType){e.stopPropagation(),a.mouseDown=!0;var t=a.props,n=t.rulerGuideLines,r=t.setTempGuideline,o=t.snapDistance;a.foundGuide=n[a.guideType].findIndex((function(e){return e<=a.position+o&&e>=a.position-o})),-1!==a.foundGuide&&r(a.guideType,null),window.addEventListener("mouseup",a.onMouseUp)}},a.onMouseUp=function(e){if(0===e.button){var t=a.props,n=t.setGuideline,r=t.onRemoveGuide,o=!1,i=!1;a.guideType===Co.VERTICAL?(o=e.clientX<a.leftPositionToRemoveGuide,i=e.clientX>a.rightPositionToRemoveGuide):a.guideType===Co.HORIZONTAL&&(o=e.clientY<a.topPositionToRemoveGuide,i=e.clientY>a.bottomPositionToRemoveGuide),-1===a.foundGuide?n(a.guideType):-1!==a.foundGuide&&(o||i)&&r(a.foundGuide,a.guideType),(a.mouseLeave||-1!==a.foundGuide&&(o||i))&&window.removeEventListener("mousemove",a.onMouseMove),a.foundGuide=-1,a.mouseDown=!1,window.removeEventListener("mouseup",a.onMouseUp)}},Zo(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xo(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.toolsCollapsed,n=e.slidesLayersCollapsed,a=e.timelineCollapsed,r=e.timelineHeight,o=e.mode;this.foundGuide=-1,this.guideType=null,this.mouseDown=!1,o===k.a.GENERATOR||o===k.a.GENERATE?(this.leftPositionToRemoveGuide=Io.WIDTH_HEIGHT,this.rightPositionToRemoveGuide=6e3):(this.leftPositionToRemoveGuide=wo.a.ICON_BAR_WIDTH+(t?0:wo.a.WIDTH),this.rightPositionToRemoveGuide=window.innerWidth-(n?0:200)),this.topPositionToRemoveGuide=To.a.MENU_HEIGHT+I.a.MENU_HEIGHT,this.bottomPositionToRemoveGuide=window.innerHeight-(a?0:r)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.toolsCollapsed,a=t.slidesLayersCollapsed,r=t.timelineCollapsed,o=t.timelineHeight,i=t.stageScroll,l=t.mode,s=t.visible,c=t.setTempGuideline,u=t.measureUnit,d=e.toolsCollapsed,p=e.slidesLayersCollapsed,f=e.timelineCollapsed,h=e.timelineHeight,m=e.stageScroll,b=e.mode,g=e.visible,y=e.measureUnit;n===d&&a===p&&r===f&&o===h&&i===m&&l===b&&u===y||(l===k.a.GENERATOR||l===k.a.GENERATE?(this.leftPositionToRemoveGuide=Io.WIDTH_HEIGHT,this.rightPositionToRemoveGuide=6e3):(this.leftPositionToRemoveGuide=Io.WIDTH_HEIGHT+wo.a.ICON_BAR_WIDTH+(n?0:wo.a.WIDTH),this.rightPositionToRemoveGuide=window.innerWidth-(a?0:200)),this.topPositionToRemoveGuide=To.a.MENU_HEIGHT+I.a.MENU_HEIGHT+Io.WIDTH_HEIGHT,this.bottomPositionToRemoveGuide=window.innerHeight-(r?0:o)),s!==g&&(this.mouseDown=!1,this.foundGuide=-1,this.guideType&&(c(this.guideType,null),this.refHorizontalRuler&&this.refVerticalRuler&&(this.guideType===Co.VERTICAL?this.refHorizontalRuler.removeEventListener("mouseleave",this.onMouseLeave):this.refVerticalRuler.removeEventListener("mouseleave",this.onMouseLeave))),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.guideType=null)}},{key:"componentWillUnmount",value:function(){this.guideType&&this.props.setTempGuideline(this.guideType,null),this.guideType=null,window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.refHorizontalRuler&&this.refVerticalRuler&&(this.guideType===Co.VERTICAL?this.refHorizontalRuler.removeEventListener("mouseleave",this.onMouseLeave):this.refVerticalRuler.removeEventListener("mouseleave",this.onMouseLeave))}},{key:"getHorizontalRuler",value:function(){var e=this.props,n=e.zoom,a=e.toolsCollapsed,r=e.stageScroll,o=e.stageMetrics,i=e.mode,l=e.measureUnit,s=Io.WIDTH_HEIGHT+wo.a.ICON_BAR_WIDTH+(a?0:wo.a.WIDTH),c=o.left-(i===k.a.EDITOR?s:Io.WIDTH_HEIGHT);return t.getRuler(Co.HORIZONTAL,c,o.width,n,r.clientWidth,l)}},{key:"getVerticalRuler",value:function(){var e=this.props,n=e.zoom,a=e.stageScroll,r=e.stageMetrics,o=e.measureUnit,i=r.top-(To.a.MENU_HEIGHT+I.a.MENU_HEIGHT+Io.WIDTH_HEIGHT);return t.getRuler(Co.VERTICAL,i,r.height,n,a.clientHeight,o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.measureUnit;return t.visible?E.a.createElement("div",{className:Ho.a.rulerContainer},E.a.createElement("div",{className:Ho.a.rulerUnit},E.a.createElement("span",null,n)),E.a.createElement("div",{ref:function(t){e.refHorizontalRuler=t},className:Jo("horizontalRuler"),onMouseDown:this.onMouseDown,onMouseEnter:function(){return e.onMouseEnter(Co.VERTICAL)}},E.a.createElement(Ko,{rulerType:Co.HORIZONTAL,key:Co.HORIZONTAL}),this.getHorizontalRuler()),E.a.createElement("div",{ref:function(t){e.refVerticalRuler=t},className:Jo("verticalRuler"),onMouseDown:this.onMouseDown,onMouseEnter:function(){return e.onMouseEnter(Co.HORIZONTAL)}},E.a.createElement(Ko,{rulerType:Co.VERTICAL,key:Co.VERTICAL}),this.getVerticalRuler())):null}}],[{key:"getChunckUnits",value:function(e,t,n){for(var a=[],r=0;r<Io.UNITS_PER_CHUNK;r++){var o=void 0;o=0===r?Ho.a.unitLine:r%5!=0?Ho.a.divisionLine:Ho.a.halfUnitLine,a.push(E.a.createElement("span",{key:e+"-"+r,className:o,style:t,"data-unit":n&&0===r?e:""}))}return a}},{key:"getChunksOfUnits",value:function(e,n,a){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],i=e-1;i>-1;){var l=i*a;o.push(E.a.createElement(v.Fragment,{key:i+"-"+l},t.getChunckUnits(l,n,r))),i-=1}return o}},{key:"getRuler",value:function(e,n,a,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:be.a.MM,l=Io.NUMBERING,s=void 0;switch(i){case be.a.MM:case be.a.CM:l/=i===be.a.MM?5:50,s=10*Object(Se.a)(be.a.MM,be.a.PX,1)/100*10;break;case be.a.IN:l/=100,s=10*Object(Se.a)(be.a.IN,be.a.PX,1)/100;break;default:s=Io.UNIT_WIDTH}var c=s*r,u=c-Io.UNIT_LINE_WIDTH;i!==be.a.CM&&i!==be.a.MM||(u=2*u+Io.UNIT_LINE_WIDTH,c*=2),r<=.5?(l*=2,u=2*u+Io.UNIT_LINE_WIDTH,c*=2):r>=1.5&&(l/=2,u=(u-Io.UNIT_LINE_WIDTH)/2,c/=2);var d=e===Co.HORIZONTAL?{marginRight:u+"px"}:{marginBottom:u+"px"},p=[],f=0,h=null,m=0;n>0&&(f=Math.ceil(n/c/Io.UNITS_PER_CHUNK),h=t.getChunksOfUnits(f,d,-1*l,!1),m=f*(u*Io.UNITS_PER_CHUNK+Io.UNITS_PER_CHUNK));var b=Math.ceil((o-n)/c/Io.UNITS_PER_CHUNK),g=t.getChunksOfUnits(b,d,l,!0);p.push(h),p.push(g.reverse());var y=n-m,v=e===Co.HORIZONTAL?{left:y+"px"}:{top:y+"px"};return E.a.createElement("div",{className:Ho.a.rulerUnits,style:v},p)}}]),t}(v.Component);Qo.propTypes={zoom:y.a.number,stageScroll:y.a.instanceOf(ja.a).isRequired,stageMetrics:y.a.instanceOf(ko.a).isRequired,toolsCollapsed:y.a.bool,mode:y.a.oneOf([k.a.CHOOSE_EDITOR,k.a.GENERATOR,k.a.EDITOR,k.a.GENERATE]),visible:y.a.bool,setTempGuideline:y.a.func,setGuideline:y.a.func,rulerGuideLines:y.a.shape({v:y.a.instanceOf(b.List),h:y.a.instanceOf(b.List)}),onGuideMove:y.a.func,onRemoveGuide:y.a.func,slidesLayersCollapsed:y.a.bool,timelineHeight:y.a.number,snapDistance:y.a.number,timelineCollapsed:y.a.bool,measureUnit:y.a.oneOf(Object.values(be.a))},Qo.defaultProps={zoom:1,toolsCollapsed:!1,mode:k.a.EDITOR,visible:!1,setTempGuideline:function(){},setGuideline:function(){},rulerGuideLines:{},onGuideMove:function(){},onRemoveGuide:function(){},slidesLayersCollapsed:!1,timelineHeight:null,timelineCollapsed:!1,snapDistance:Yo.a.DEFAULT_SNAP,measureUnit:be.a.PX};var $o=Qo,ei=n(1088),ti=Object(a.c)((function(e){var t=Object(l.a)(e),n=e.bannerCreator.editor,a=n.banner.banner.measureUnit,r=n.stage,o=r.zoom,i=r.stageScroll,s=r.stageMetrics,c=r.rulerVisibility,u=n.tools.panelCollapsed,d=n.slidesAndLayers.panelCollapsed,p=n.timeline,f=p.collapsed,h=p.height,m=Object(Ao.a)(e);return{mode:t,zoom:o,visible:c,measureUnit:a,stageScroll:i,snapDistance:Object(ei.a)(e),stageMetrics:s,timelineHeight:h,toolsCollapsed:u,rulerGuideLines:m,timelineCollapsed:f,slidesLayersCollapsed:d}}),(function(e){return{setTempGuideline:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(Object(d.d)(t,n,a))},setGuideline:function(t){e(Object(s.L)(t))},onGuideMove:function(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e(Object(s.y)(t,n,a,r))},onRemoveGuide:function(t,n){e(Object(s.B)(t,n))}}}))($o),ni=n(1442),ai=n.n(ni),ri=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var oi=m.a.bind(ai.a),ii=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={x:0,y:0,width:0,height:0,dragging:!1},e.onMouseDown=e.onMouseDown.bind(e),e.onMouseMove=e.onMouseMove.bind(e),e.onMouseUp=e.onMouseUp.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ri(t,[{key:"onMouseDown",value:function(e){if(0===e.button){var t=this.props.getRefStageElements();if(t&&!this.props.playingSlide){this.boxClientRect=this.box.getBoundingClientRect(),this.boxInsideClientRect=t.getBoundingClientRect();var n=this.props.stageScroll;this.initialX=e.pageX-this.boxClientRect.left,this.initialY=e.pageY-this.boxClientRect.top,this.setState({x:this.initialX,y:this.initialY,dragging:!0});var a=e.ctrlKey||e.metaKey||e.shiftKey;this.startScroll={left:n.scrollLeft,top:n.scrollTop},window.addEventListener("mousemove",this.onMouseMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.box!==document.activeElement&&document.activeElement.blur(),e.preventDefault(),this.props.startSelecting(a)}}}},{key:"onMouseMove",value:function(e){var t=this,n=e.ctrlKey||e.metaKey||e.shiftKey,a=this.props.stageScroll,r=a.scrollLeft-this.startScroll.left,o=a.scrollTop-this.startScroll.top,i=e.pageX-this.boxClientRect.left+r-this.initialX,l=e.pageY-this.boxClientRect.top+o-this.initialY;this.initialX+i>a.scrollWidth&&(i=a.scrollWidth-this.initialX),this.initialY+l>a.scrollHeight&&(l=a.scrollHeight-this.initialY);var s=0,c=0,u=0,d=0;i<0&&l<0?(s=this.initialX+i,c=this.initialY+l,u=-1*i,d=-1*l):i>0&&l<0?(s=this.initialX,c=this.initialY+l,u=i,d=-1*l):i>0&&l>0?(s=this.initialX,c=this.initialY,u=i,d=l):i<0&&l>0&&(s=this.initialX+i,c=this.initialY,u=-1*i,d=l),this.setState({x:s,y:c,width:u,height:d}),this.state.dragging&&Math.abs(i)>1&&Math.abs(l)>1&&(this.setSelectedTimeout||(this.setSelectedTimeout=setTimeout((function(){t.setSelectedTimeout=null,t.setSelectedElements(n,!0)}),50)))}},{key:"onMouseUp",value:function(e){clearTimeout(this.setSelectedTimeout),this.setSelectedTimeout=null;var t=e.ctrlKey||e.metaKey||e.shiftKey,n=e.pageX-this.boxClientRect.left-this.initialX,a=e.pageY-this.boxClientRect.top-this.initialY;this.state.dragging&&(Math.abs(n)>1||Math.abs(a)>1)&&(this.setSelectedElements(t),e.stopPropagation()),this.setState({x:0,y:0,width:0,height:0,dragging:!1}),this.props.stopSelecting(),window.removeEventListener("mousemove",this.onMouseMove,!0),window.removeEventListener("mouseup",this.onMouseUp,!0)}},{key:"setSelectedElements",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,a=n.elements,r=n.zoom,o=this.state.x-(this.boxInsideClientRect.left-this.boxClientRect.left),i=this.state.y-(this.boxInsideClientRect.top-this.boxClientRect.top),l=this.state,s=l.width,c=l.height,u={x:o,y:i,width:s,height:c,rotation:0},d=[],p=!0,f=!1,h=void 0;try{for(var m,b=a[Symbol.iterator]();!(p=(m=b.next()).done);p=!0){var g=m.value;g.visible&&Object(R.a)(g,u,r)&&d.push(g.id)}}catch(e){f=!0,h=e}finally{try{!p&&b.return&&b.return()}finally{if(f)throw h}}t?this.props.onHoverElements(d):this.props.onSelectElements(d,e)}},{key:"render",value:function(){var e=this,t={left:this.state.x+"px",top:this.state.y+"px",width:this.state.width+"px",height:this.state.height+"px",opacity:this.state.dragging?1:0};return E.a.createElement("div",{className:oi(ai.a.selection,{dragging:this.state.dragging}),onMouseDown:this.onMouseDown,ref:function(t){e.box=t}},this.props.children,E.a.createElement("div",{className:ai.a.selectionRectangle,style:t}))}}]),t}(v.Component);ii.propTypes={children:y.a.element.isRequired,elements:y.a.instanceOf(b.List).isRequired,zoom:y.a.number,getRefStageElements:y.a.func.isRequired,stageScroll:y.a.instanceOf(ja.a).isRequired,onSelectElements:y.a.func.isRequired,onHoverElements:y.a.func.isRequired,startSelecting:y.a.func.isRequired,stopSelecting:y.a.func.isRequired,playingSlide:y.a.bool.isRequired},ii.defaultProps={zoom:1};var li=ii,si=n(730),ci=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=t.stage,a=t.timeline,r=n.stageScroll,o=n.zoom,i=a.playingSlide;return{stageScroll:r,zoom:o,elements:Object(si.a)(e),playingSlide:i}}),(function(e){return{startSelecting:function(t){e(Object(d.s)(!t))},stopSelecting:function(){e(Object(d.z)())},onSelectElements:function(t,n){e(Object(s.N)(t,{multipleSelect:n}))},onHoverElements:function(t){e(Object(d.c)(t))}}}))(li),ui=n(403),di=n(481),pi=n(811),fi=n(666),hi=n(816),mi=n(762),bi=n(655),gi=n(1032),yi=n(501),vi=n(434),Ei=n(448),Si=n(807),Oi=n(459),Ci=n(756),wi=n(442),Ti=Object(de.createSelector)([function(e){return e.bannerCreator.editor.banner},function(e){return e.bannerCreator.editor.timeline.layersDragged},function(e){return e.bannerCreator.editor.timeline.changingLayerDragPosition},Si.a,Ei.a,yi.b,vi.a,Oi.b],(function(e,t,n,a,r,o,i,l){var s=Object(b.List)(),c=a.filter((function(e){return!t.some((function(t){return t.id===e.id}))})),u=!0,d=!1,p=void 0;try{for(var f,h=t[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value,g=m.id,y=m.lockedProperties;g&&!y.includes(lt.a.TRANSITION)&&function(){var t=e.bannerPathMap[g],a=e.banner.getIn(t),u=Object(wi.b)(a,2!==t.length&&i.size?o:0,2!==t.length&&0===i.size?r:l),d=u.start,p=u.end,f=u.buildInStart,h=u.buildInEnd,m=u.buildOutStart,y=u.buildOutEnd,v=u.buildMidStart,E=u.buildMidEnd;switch(n){case Ci.a.BUILD_IN_LEFT:s.some((function(e){return e.time===f}))||(s=c.filter((function(e){return f===e.buildInStart})).size?s.push({time:f,match:!0}):s.push({time:f,match:!1}));break;case Ci.a.BUILD_IN_RIGHT:s.some((function(e){return e.time===h}))||(s=c.filter((function(e){return h===e.buildInEnd})).size?s.push({time:h,match:!0}):s.push({time:h,match:!1}));break;case Ci.a.BUILD_OUT_LEFT:s.some((function(e){return e.time===m}))||(s=c.filter((function(e){return m===e.buildOutStart})).size?s.push({time:m,match:!0}):s.push({time:m,match:!1}));break;case Ci.a.BUILD_MIDDLE_RIGHT:s.some((function(e){return e.time===E}))||(s=c.filter((function(e){return E===e.buildMidEnd})).size?s.push({time:E,match:!0}):s.push({time:E,match:!1}));break;case Ci.a.BUILD_MIDDLE_LEFT:s.some((function(e){return e.time===v}))||(s=c.filter((function(e){return v===e.buildMidStart})).size?s.push({time:v,match:!0}):s.push({time:v,match:!1}));break;case Ci.a.BUILD_OUT_RIGHT:s.some((function(e){return e.time===y}))||(s=c.filter((function(e){return y===e.buildOutEnd})).size?s.push({time:y,match:!0}):s.push({time:y,match:!1}));break;case Ci.a.DRAG:s.some((function(e){return e.time===d}))||(s=c.filter((function(e){return d===e.start})).size?s.push({time:d,match:!0}):s.push({time:d,match:!1})),s.some((function(e){return e.time===p}))||(s=c.filter((function(e){return p===e.end})).size?s.push({time:p,match:!0}):s.push({time:p,match:!1}));break;case Ci.a.DRAG_MIDDLE:s.some((function(e){return e.time===v}))||(s=c.filter((function(e){return v===e.buildMidStart})).size?s.push({time:v,match:!0}):s.push({time:v,match:!1})),s.some((function(e){return e.time===E}))||(s=c.filter((function(e){return E===e.buildMidEnd})).size?s.push({time:E,match:!0}):s.push({time:E,match:!1}));break;default:s=Object(b.List)()}}()}}catch(e){d=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw p}}return s})),ki=n(1443),Ii=n.n(ki),Li=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Pi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Mi=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Pi(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.getLines=function(){var e=a.props,t=e.height,n=e.timelineScroll,r=e.times,o=e.zoom;return r.map((function(e){return E.a.createElement("div",{className:Ii.a.line,key:e.time,style:{left:Object(wi.c)(e.time,o)-n.scrollLeft-1,height:e.match?t-bi.a.SCROLLBAR_HEIGHT:bi.a.RULLER_HEIGHT}})}))},Pi(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Li(t,[{key:"render",value:function(){var e=this.props,t=e.height;return e.times.size?E.a.createElement("div",{className:Ii.a.indicatorLine,style:{height:t}},this.getLines()):null}}]),t}(v.Component);Mi.propTypes={height:y.a.number,times:y.a.instanceOf(b.List),timelineScroll:y.a.instanceOf(ja.a),zoom:y.a.number},Mi.defaultProps={height:0,times:Object(b.List)(),timelineScroll:new ja.a,zoom:1};var Ri=Mi,xi=Object(a.c)((function(e){var t=e.bannerCreator.editor.timeline,n=t.height,a=t.timelineScroll,r=t.zoom;return{height:n,times:Ti(e),timelineScroll:a,zoom:r}}))(Ri),Di=n(1444),ji=n.n(Di),Ni=n(808),Ai=E.a.createElement("svg",{viewBox:"0 0 24 24",height:"12px"},E.a.createElement("path",{d:"M0 0h24v24H0z"})),_i=E.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},E.a.createElement("path",{d:"M11,12.5,18,7V18ZM8,5V19H6V5Z"})),Bi=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Hi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ui=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Hi(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handlePlaySlideButtonClick=function(){var e=a.props,t=e.disabled,n=e.playingSlide,r=e.onPlaySlide;t||(n?a.stopSlide():r())},Hi(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Bi(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props,a=n.playingSlide,r=n.slideDuration,o=n.playPosition;a&&!e.playingSlide?clearTimeout(this.stopTimeout):!a&&e.playingSlide&&(this.stopTimeout=setTimeout((function(){t.stopSlide()}),1e3*r-o))}},{key:"componentWillUnmount",value:function(){this.stopSlide()}},{key:"stopSlide",value:function(){clearTimeout(this.stopTimeout),this.props.onStopSlide()}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.playingSlide,a=e.rewindPlayPosition,r=e.playPosition<50||n,o=N.a.playSlide;t?o=N.a.playSlideDisabled:n&&(o=N.a.stopSlide);var i=E.a.createElement(St.a,{icon:n?Ai:Ni.a,size:Z.a.XLARGE,iconSize:Z.a.XSMALL,skin:S.a.WHITE_BLUE,onClick:this.handlePlaySlideButtonClick,disabled:t}),l=E.a.createElement(St.a,{icon:_i,onClick:a,size:Z.a.XLARGE,skin:S.a.DARK_GREY,disabled:r});return E.a.createElement("div",{className:ji.a.buttonsContainer},E.a.createElement(z.b,{placement:_t.a.BOTTOM,title:N.a.rewindScrubButton},E.a.createElement("span",null,l)),E.a.createElement("div",{className:ji.a.playButton},E.a.createElement(z.b,{placement:_t.a.BOTTOM,title:o},E.a.createElement("span",null,i))))}}]),t}(v.Component);Ui.propTypes={playingSlide:y.a.bool.isRequired,slideDuration:y.a.number.isRequired,playPosition:y.a.number.isRequired,disabled:y.a.bool.isRequired,onPlaySlide:y.a.func.isRequired,onStopSlide:y.a.func.isRequired,rewindPlayPosition:y.a.func.isRequired};var zi=Ui,Gi=Object(de.createSelector)([si.a],(function(e){return e.some((function(e){var t=e.buildIn,n=e.buildOut,a=e.buildMid;return"none"!==t.type||"none"!==n.type||"none"!==a.type}))})),Fi=n(429),Wi=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=Object(Ei.a)(e),a=t.timeline,r=a.playingSlide,o=a.playPosition;return{slideDuration:n,playingSlide:r,disabled:!Gi(e)||Object(Fi.a)(o)>1e3*n-50,playPosition:o}}),(function(e){return{onPlaySlide:function(){e(Object(f.f)())},onStopSlide:function(){e(Object(f.m)())},rewindPlayPosition:function(){e(Object(f.i)(0))}}}))(zi),Vi=n(1445),qi=n.n(Vi),Ki=n(480),Yi=n(833),Xi=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Zi=m.a.bind(qi.a),Ji=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onDurationChange=function(t){var n=e.props,a=n.slideId,r=n.slideDuration,o=n.onDurationChange,i=Object(Ki.a)(Object(Fi.a)(t),Yi.a.MIN_SLIDE_DURATION,Yi.a.MAX_SLIDE_DURATION);r!==i&&o(a,i)},e.onMouseDown=function(t){e.setState({resizing:!0}),e.initialPos=t.clientX,e.startDuration=e.props.slideDuration,window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),t.stopPropagation()},e.onRulerMouseDown=function(t){var n=e.props,a=n.zoom,r=n.onRulerMouseDown;if(!n.playingSlide){var o=t.target.getBoundingClientRect(),i=t.clientX-o.left;r(1e3*Object(wi.a)(i,a))}},e.onMouseUp=function(){var t=e.props,n=t.slideId,a=t.onMouseUp;e.setState({resizing:!1}),window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),a(n)},e.onMouseMove=function(t){var n=e.props,a=n.slideDuration,r=n.zoom,o=parseFloat(e.startDuration)+Object(wi.a)(t.clientX-e.initialPos,r);o!==a&&e.onDurationChange(o)},e.state={resizing:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xi(t,null,[{key:"getUnits",value:function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(e+t).keys()))}}]),Xi(t,[{key:"getDivisions",value:function(){var e=this.props,n=e.maxDuration,a=e.extraTime,r={marginRight:bi.a.UNIT_MARGIN*this.props.zoom+"px"};return t.getUnits(n,a).map((function(e){return E.a.createElement(v.Fragment,{key:e},E.a.createElement("span",{key:e+"1",className:qi.a.unitLine,style:r,"data-unit":0===e?"sec.":e}),E.a.createElement("span",{key:e+"2",className:qi.a.divisionLine,style:r}),E.a.createElement("span",{key:e+"3",className:qi.a.divisionLine,style:r}),E.a.createElement("span",{key:e+"4",className:qi.a.divisionLine,style:r}),E.a.createElement("span",{key:e+"5",className:qi.a.divisionLine,style:r}))}))}},{key:"render",value:function(){var e=this.props,t=e.slideDuration,n=e.zoom,a=e.startOffset,r=e.timelineScroll.scrollLeft,o=this.state.resizing,i={left:a+"px",width:Object(wi.c)(t,n)+1+"px"};return E.a.createElement("div",{className:Zi("rulerContainer",{resizing:o})},E.a.createElement("div",{className:qi.a.inner,style:{left:"-"+r+"px"}},E.a.createElement("div",{className:qi.a.bannerDuration,style:i,onMouseDown:this.onRulerMouseDown,role:"presentation"},E.a.createElement("span",{className:qi.a.separator,onMouseDown:this.onMouseDown,role:"presentation"})),E.a.createElement("div",{className:qi.a.unitsContainer},this.getDivisions())))}}]),t}(v.Component);Ji.propTypes={slideId:y.a.number.isRequired,slideDuration:y.a.number.isRequired,maxDuration:y.a.number.isRequired,extraTime:y.a.number.isRequired,startOffset:y.a.number.isRequired,timelineScroll:y.a.instanceOf(ja.a).isRequired,zoom:y.a.number.isRequired,onDurationChange:y.a.func,onRulerMouseDown:y.a.func,onMouseUp:y.a.func,playingSlide:y.a.bool},Ji.defaultProps={onDurationChange:function(){},onRulerMouseDown:function(){},onMouseUp:function(){},playingSlide:!1};var Qi=Ji,$i=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=t.banner.selectedSlideId,a=Object(Ei.a)(e),r=Object(yi.b)(e),o=Object(vi.a)(e),i=t.timeline,l=i.zoom,s=i.timelineScroll,c=i.playingSlide;return{slideId:n,slideDuration:a,zoom:l,timelineScroll:s,startOffset:o.size?Object(wi.c)(r,l):0,playingSlide:c}}),(function(e){return{onDurationChange:function(t,n){e(Object(s.G)([{id:t,props:{duration:n}}]))},onRulerMouseDown:function(t){e(Object(f.i)(t))},onMouseUp:function(t){e(Object(s.z)(t))}}}))(Qi),el=n(567),tl=n(1446),nl=n.n(tl),al=n(450),rl=n(1447),ol=n.n(rl),il=n(447),ll=n(677),sl=n(675),cl=Object(a.c)((function(e,t){var n=e.bannerCreator,a=n.editor,i=n.transitions,l=i.copiedBuildType,s=i.copiedTransition,c=i.copiedMidTransition,u=Object(o.a)(e).bmTransitions,d=a.timeline.buildPanelType,p=t.layerId,f=a.banner,h=f.bannerPathMap,m=f.banner,b=m.getIn(h[p]),g=b.buildIn,y=b.buildMid,v=b.buildOut,E=!!a.stage.animatingElements.find((function(e){return e.layerId===p})),S=m.getIn(h[p]).layerType===H.b.TEXT;return{layerId:t.layerId,copiedTransition:s,copiedMidTransition:c,pasteTransitionEnabled:!!l,transitionsAreLimited:u===r.a.LIMITED,buildIn:g,buildMid:y,buildOut:v,animating:E,buildType:d,timelineMode:!0,isTextLayer:S}}),(function(e){return{onCopyTransition:function(t,n){e(Object(sl.a)(t,n))},onTransitionChange:function(t,n,a){e(Object(s.P)(n,t,a,!1,!0))},onAnimateChange:function(t,n){e(t?Object(d.m)(n):Object(d.u)())}}}))(ll.a),ul=n(413),dl={PRESETS:"presets",CUSTOMIZE:"customize"},pl=n(543),fl={CUSTOM:"Custom",MIDDLE:"Middle"},hl=n(708),ml=n(707),bl=E.a.createElement("svg",{width:"24",height:"24"},E.a.createElement("mask",{id:"A4ff9xTaBc",fill:"#fff"},E.a.createElement("path",{d:"M17 17H7V7l5 5 5-5v10z"})),E.a.createElement("g",{mask:"url(#A4ff9xTaBc)"},E.a.createElement("path",{d:"M0 0h24v24H0z"}))),gl=E.a.createElement("svg",null,E.a.createElement("path",{d:"M3,17 L3,19 L9,19 L9,17 L3,17 Z M3,5 L3,7 L13,7 L13,5 L3,5 Z M13,21 L13,19 L21,19 L21,17 L13,17 L13,15 L11,15 L11,21 L13,21 Z M7,9 L7,11 L3,11 L3,13 L7,13 L7,15 L9,15 L9,9 L7,9 Z M21,13 L21,11 L11,11 L11,13 L21,13 Z M15,9 L17,9 L17,7 L21,7 L21,5 L17,5 L17,3 L15,3 L15,9 Z",transform:"rotate(90 12 12)"})),yl=n(1448),vl=n.n(yl),El=m.a.bind(vl.a),Sl=function(e){var t=e.customizeMode,n=e.buildType,a=e.transitionType,r=e.onCustomizeClick,o={disabled:a===pl.a.NONE,active:t},i=t?N.a.presetMode:N.a.advancedMode,l=n===il.a.BUILD_MID?fl.MIDDLE.toUpperCase():n.replace(/([A-Z])/g," $1"),s=n===il.a.BUILD_MID,c=void 0;switch(n){case il.a.BUILD_IN:c=ml.a;break;case il.a.BUILD_MID:c=bl;break;case il.a.BUILD_OUT:c=hl.a}return E.a.createElement("div",{className:vl.a.header},E.a.createElement("div",null,E.a.createElement("span",{className:El("buildIcon",{buildIconMid:s})},c),E.a.createElement(V.a,{label:l,skin:S.a.PURE_WHITE,size:Z.a.SMEDIUM})),E.a.createElement(z.b,{title:i},E.a.createElement("div",{className:El(vl.a.settingsIcon,o),onClick:r},gl)))},Ol=Sl;Sl.propTypes={customizeMode:y.a.bool,onCustomizeClick:y.a.func.isRequired,buildType:y.a.oneOf([il.a.BUILD_IN,il.a.BUILD_MID,il.a.BUILD_OUT]).isRequired,transitionType:y.a.string.isRequired},Sl.defaultProps={customizeMode:!1};var Cl=n(1449),wl=n.n(Cl),Tl=n(794),kl=n(494),Il=n(82),Ll=[{value:kl.a.TIMELINE,text:Il.b.timeline},{value:kl.a.HOVER,text:Il.b.onHover},{value:kl.a.INFINITE,text:Il.b.infiniteLoop}],Pl=m.a.bind(wl.a),Ml=9;function Rl(e){var t=e.type,n=e.buildType,a=e.page,r=e.buildMidStartEndType,o=e.onBuildMidStartEndChange,i=e.setPage,l=e.numberOfPresets,s=Math.ceil(l/Ml);return n!==il.a.BUILD_MID?E.a.createElement("div",{className:wl.a.footer},E.a.createElement("div",{className:Pl("arrow","left")},E.a.createElement(St.a,{icon:Tl.a,size:Z.a.MEDIUM,skin:S.a.DARK_GREY,disabled:1===a,onClick:function(){i(a-1)}})),E.a.createElement("div",{className:wl.a.pagesBullets},function(){for(var e=[],t=function(t){e.push(E.a.createElement("div",{className:Pl("bullet",{selected:t===a}),key:"bullet$"+t,onClick:function(){i(t)}}))},n=1;n<=s;n++)t(n);return e}()),E.a.createElement("div",{className:Pl("arrow","right")},E.a.createElement(St.a,{icon:Tl.a,size:Z.a.MEDIUM,skin:S.a.DARK_GREY,disabled:a===s,onClick:function(){i(a+1)}}))):E.a.createElement("div",{className:wl.a.buildMidSelect},E.a.createElement("span",null,Il.b.timelineStart," / ",Il.b.timelineEnd),E.a.createElement(q.a,{items:Ll,disabled:t===ul.a.NONE,value:r,onChange:o,minVisibleItems:5,width:"130px",autoHide:!1}))}var xl=Rl;Rl.propTypes={buildType:y.a.oneOf([il.a.BUILD_IN,il.a.BUILD_MID,il.a.BUILD_OUT]).isRequired,page:y.a.number.isRequired,buildMidStartEndType:y.a.oneOf([kl.a.TIMELINE,kl.a.HOVER,kl.a.INFINITE]).isRequired,onBuildMidStartEndChange:y.a.func.isRequired,setPage:y.a.func.isRequired,numberOfPresets:y.a.number.isRequired};var Dl={PANEL_WIDTH:220,PANEL_HEIGHT:361,PRESETS_PER_PAGE:9},jl=n(1450),Nl=n.n(jl),Al={custom:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("path",{fill:"#2E3246",fillOpacity:".8",fillRule:"evenodd",d:"M28,26 L37,26 L37,29 L28,29 L28,38 L25,38 L25,29 L16,29 L16,26 L25,26 L25,17 L28,17 L28,26 Z"})),none:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("path",{fill:"#2E3246",fillOpacity:".8",d:"M25.9096788,34.7483868 C31.8957329,34.7483868 36.7483885,29.8957311 36.7483885,23.9096771 C36.7483885,21.6386841 36.0484345,19.4753459 34.7703122,17.6656388 L19.6705411,32.7737683 C21.4792924,34.0497195 23.6407655,34.7483868 25.9096788,34.7483868 Z M32.3665104,15.2031675 C30.5165981,13.8284496 28.2717652,13.0709674 25.9096788,13.0709674 C19.9236247,13.0709674 15.0709691,17.923623 15.0709691,23.9096771 C15.0709691,26.2738456 15.8297934,28.5205347 17.2067471,30.3713223 L32.3665104,15.2031675 Z M26,38 C18.2680135,38 12,31.7319865 12,24 C12,16.2680135 18.2680135,10 26,10 C33.7319865,10 40,16.2680135 40,24 C40,31.7319865 33.7319865,38 26,38 Z"})),basic:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("circle",{cx:"26",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".8",fillRule:"evenodd"})),fade:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("rect",{id:"fade-a",width:"52",height:"40"}),E.a.createElement("filter",{id:"fade-b",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("rect",{id:"fade-a",width:"52",height:"40"}),E.a.createElement("circle",{cx:"19",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".2",filter:"url(#fade-b)",mask:"url(#fade-c)"}),E.a.createElement("circle",{cx:"33",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".8",mask:"url(#fade-c)"}))),softBlur:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"soft-blur-a",width:"121.4%",height:"121.4%",x:"-10.7%",y:"-10.7%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1"})),E.a.createElement("filter",{id:"soft-blur-b",width:"121.4%",height:"121.4%",x:"-10.7%",y:"-10.7%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1"}))),E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("circle",{cx:"19",cy:"24",r:"14",fillOpacity:".2",filter:"url(#soft-blur-a)"}),E.a.createElement("circle",{cx:"33",cy:"24",r:"14",fillOpacity:".8",filter:"url(#soft-blur-b)"}))),hardBlur:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"blur-a",width:"142.9%",height:"142.9%",x:"-21.4%",y:"-21.4%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"2"})),E.a.createElement("filter",{id:"blur-b",width:"142.9%",height:"142.9%",x:"-21.4%",y:"-21.4%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"2"}))),E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("circle",{cx:"19",cy:"24",r:"14",fillOpacity:".2",filter:"url(#blur-a)"}),E.a.createElement("circle",{cx:"33",cy:"24",r:"14",fillOpacity:".6",filter:"url(#blur-b)"}))),wordsFade:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"words-fade-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"19",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".2",filter:"url(#words-fade-a)"}),E.a.createElement("circle",{cx:"33",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".8"}),E.a.createElement("polygon",{fill:"#FFF",points:"27 18 27 20 32 20 32 28.336 32 30 34 30 34 20 39 20 39 18",transform:"matrix(-1 0 0 1 66 0)"}))),wordsBlur:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"words-blur-a",width:"121.4%",height:"121.4%",x:"-10.7%",y:"-10.7%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1"})),E.a.createElement("filter",{id:"words-blur-b",width:"121.4%",height:"121.4%",x:"-10.7%",y:"-10.7%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"19",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".2",filter:"url(#words-blur-a)"}),E.a.createElement("circle",{cx:"33",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".8",filter:"url(#words-blur-b)"}),E.a.createElement("polygon",{fill:"#FFF",points:"27 18 27 20 32 20 32 28.336 32 30 34 30 34 20 39 20 39 18",transform:"matrix(-1 0 0 1 66 0)"}))),scaleUp:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("path",{fillOpacity:".2",d:"M46,40 L6,40 C6,28.954305 14.954305,20 26,20 C37.045695,20 46,28.954305 46,40 Z"}),E.a.createElement("path",{fillOpacity:".16",d:"M40.1152914,40 L11.8799973,40 C11.8799973,32.2030388 18.2006831,25.8823529 25.9976443,25.8823529 C33.7946055,25.8823529 40.1152914,32.2030388 40.1152914,40 Z"}),E.a.createElement("path",{d:"M34.2352941,40 L17.7647059,40 C17.7647059,35.4517726 21.4517726,31.7647059 26,31.7647059 C30.5482274,31.7647059 34.2352941,35.4517726 34.2352941,40 Z"}))),scaleDown:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("path",{fillOpacity:".2",d:"M46,20 L6,20 C6,8.954305 14.954305,-4.97379915e-14 26,-4.97379915e-14 C37.045695,-4.97379915e-14 46,8.954305 46,20 Z",transform:"matrix(1 0 0 -1 0 20)"}),E.a.createElement("path",{fillOpacity:".16",d:"M40.1152914,14.1176471 L11.8799973,14.1176471 C11.8799973,6.32068589 18.2006831,8.8817842e-16 25.9976443,8.8817842e-16 C33.7946055,8.8817842e-16 40.1152914,6.32068589 40.1152914,14.1176471 Z",transform:"matrix(1 0 0 -1 0 14.118)"}),E.a.createElement("path",{d:"M34.2352941,8.23529412 L17.7647059,8.23529412 C17.7647059,3.68706677 21.4517726,-2.34479103e-13 26,-2.34479103e-13 C30.5482274,-2.34479103e-13 34.2352941,3.68706677 34.2352941,8.23529412 Z",transform:"matrix(1 0 0 -1 0 8.235)"}))),slideRight:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"slide-right-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"20",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".2",filter:"url(#slide-right-a)"}),E.a.createElement("circle",{cx:"32",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".8"}),E.a.createElement("path",{fill:"#FFF",d:"M32,26 L26,26 L26,22 L32,22 L32,18 L39.0673828,24 L32,30 L32,26 Z"}))),slideLeft:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"slide-left-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"32",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".2",filter:"url(#slide-left-a)",transform:"matrix(-1 0 0 1 64 0)"}),E.a.createElement("circle",{cx:"20",cy:"24",r:"14",fill:"#2E3246",fillOpacity:".8",transform:"matrix(-1 0 0 1 40 0)"}),E.a.createElement("path",{fill:"#FFF",d:"M20,22 L26,22 L26,26 L20,26 L20,30 L12.9326172,24 L20,18 L20,22 Z"}))),slideDown:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"slide-up-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"25",cy:"17",r:"14",fill:"#2E3246",fillOpacity:".2",filter:"url(#slide-up-a)",transform:"matrix(-1 0 0 1 50 0)"}),E.a.createElement("circle",{cx:"25",cy:"26",r:"14",fill:"#2E3246",fillOpacity:".8",transform:"matrix(-1 0 0 1 50 0)"}),E.a.createElement("path",{fill:"#FFF",d:"M23,26 L23,20 L27,20 L27,26 L31,26 L25,33.0673828 L19,26 L23,26 Z"}))),slideUp:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"slide-down-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"25",cy:"26",r:"14",fill:"#2E3246",fillOpacity:".2",filter:"url(#slide-down-a)",transform:"matrix(-1 0 0 1 50 0)"}),E.a.createElement("circle",{cx:"25",cy:"17",r:"14",fill:"#2E3246",fillOpacity:".8",transform:"matrix(-1 0 0 1 50 0)"}),E.a.createElement("path",{fill:"#FFF",d:"M27,17 L27,23 L23,23 L23,17 L19,17 L25,9.93261719 L31,17 L27,17 Z"}))),star:E.a.createElement("svg",{width:"52",height:"40"},E.a.createElement("path",{fill:"rgba(46, 50, 70, 0.8)",d:"M26 32l-7.611 4.001a1 1 0 0 1-1.451-1.054l1.454-8.475-6.158-6.002a1 1 0 0 1 .554-1.706l8.51-1.236 3.805-7.711a1 1 0 0 1 1.794 0l3.805 7.71 8.51 1.237a1 1 0 0 1 .554 1.706l-6.158 6.002 1.454 8.475a1 1 0 0 1-1.45 1.054L26 32z"})),blow:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("circle",{cx:"26",cy:"22",r:"18",fillOpacity:".2",transform:"matrix(1 0 0 -1 0 44)"}),E.a.createElement("circle",{cx:"26",cy:"22",r:"13",fillOpacity:".4",transform:"matrix(1 0 0 -1 0 44)"}),E.a.createElement("circle",{cx:"26",cy:"22",r:"8",transform:"matrix(1 0 0 -1 0 44)"}))),glide:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"glide-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"})),E.a.createElement("filter",{id:"glide-b",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"17",cy:"25",r:"11",fill:"#2E3246",fillOpacity:".2",filter:"url(#glide-a)"}),E.a.createElement("circle",{cx:"26",cy:"25",r:"11",fill:"#2E3246",fillOpacity:".4",filter:"url(#glide-b)"}),E.a.createElement("circle",{cx:"35",cy:"25",r:"11",fill:"#2E3246",fillOpacity:".8"}),E.a.createElement("path",{fill:"#FFF",d:"M42,25 L36,30 L36,20 L42,25 Z M36,25 L30,30 L30,20 L36,25 Z"}))),elastic:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"elastic-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"})),E.a.createElement("filter",{id:"elastic-b",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"25",cy:"29",r:"11",fill:"#2E3246",fillOpacity:".2",filter:"url(#elastic-a)",transform:"matrix(-1 0 0 1 50 0)"}),E.a.createElement("circle",{cx:"25",cy:"22",r:"11",fill:"#2E3246",fillOpacity:".4",filter:"url(#elastic-b)",transform:"matrix(-1 0 0 1 50 0)"}),E.a.createElement("circle",{cx:"25",cy:"15",r:"11",fill:"#2E3246",fillOpacity:".8",transform:"matrix(-1 0 0 1 50 0)"}),E.a.createElement("path",{fill:"#FFF",d:"M25.0280996,14.188623 L20.99278,8.98028963 L28.99278,8.98028963 L25.0280996,14.188623 Z M25.0280996,14.811377 L28.99278,20.0197104 L20.99278,20.0197104 L25.0280996,14.811377 Z"}))),bounce:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"bounce-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"})),E.a.createElement("filter",{id:"bounce-b",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"25",cy:"15",r:"11",fill:"#2E3246",fillOpacity:".2",filter:"url(#bounce-a)",transform:"matrix(1 0 0 -1 0 30)"}),E.a.createElement("circle",{cx:"25",cy:"22",r:"11",fill:"#2E3246",fillOpacity:".4",filter:"url(#bounce-b)",transform:"matrix(1 0 0 -1 0 44)"}),E.a.createElement("circle",{cx:"25",cy:"29",r:"11",fill:"#2E3246",fillOpacity:".8",transform:"matrix(1 0 0 -1 0 58)"}),E.a.createElement("path",{fill:"#FFF",d:"M24.9719004,36.188623 L21.00722,30.9802896 L29.00722,30.9802896 L24.9719004,36.188623 Z M24.9719004,22.811377 L29.00722,28.0197104 L21.00722,28.0197104 L24.9719004,22.811377 Z"}))),grow:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("path",{fillOpacity:".2",d:"M26,4 C35.9411255,4 44,12.0588745 44,22 C44,31.9411255 35.9411255,40 26,40 C16.0588745,40 8,31.9411255 8,22 C8,12.0588745 16.0588745,4 26,4 Z M26,9 C18.8202983,9 13,14.8202983 13,22 C13,29.1797017 18.8202983,35 26,35 C33.1797017,35 39,29.1797017 39,22 C39,14.8202983 33.1797017,9 26,9 Z"}),E.a.createElement("circle",{cx:"26",cy:"22",r:"8",transform:"matrix(1 0 0 -1 0 44)"}))),remove:E.a.createElement("svg",{width:"52",height:"40"},E.a.createElement("path",{fill:"#2E3246",fillOpacity:".8",d:"M25.91 34.748c5.986 0 10.838-4.852 10.838-10.838 0-2.271-.7-4.435-1.978-6.244l-15.1 15.108a10.786 10.786 0 0 0 6.24 1.974zm6.457-19.545a10.788 10.788 0 0 0-6.457-2.132c-5.986 0-10.839 4.853-10.839 10.839 0 2.364.759 4.61 2.136 6.461l15.16-15.168zM26 38c-7.732 0-14-6.268-14-14s6.268-14 14-14 14 6.268 14 14-6.268 14-14 14z"})),runRight:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("rect",{width:"22",height:"22",x:"24",y:"13",fill:"#585B6B",rx:"2"}),E.a.createElement("rect",{width:"22",height:"22",x:"15",y:"13",fill:"#2E3246",fillOpacity:".4",rx:"2",transform:"rotate(-15 26 24)"}),E.a.createElement("rect",{width:"22",height:"22",x:"7",y:"13",fill:"#2E3246",fillOpacity:".2",rx:"2",transform:"rotate(-30 18 24)"}),E.a.createElement("path",{fill:"#FFF",d:"M35,26 L29,26 L29,22 L35,22 L35,18 L42.0673828,24 L35,30 L35,26 Z"}))),runLeft:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("rect",{width:"22",height:"22",x:"15",y:"13",fill:"#2E3246",fillOpacity:".4",rx:"2",transform:"scale(-1 1) rotate(-15 0 221.49)"}),E.a.createElement("rect",{width:"22",height:"22",x:"23",y:"13",fill:"#2E3246",fillOpacity:".2",rx:"2",transform:"scale(-1 1) rotate(-30 0 150.89)"}),E.a.createElement("rect",{width:"22",height:"22",x:"6",y:"13",fill:"#2E3246",fillOpacity:".8",rx:"2",transform:"matrix(-1 0 0 1 34 0)"}),E.a.createElement("path",{fill:"#FFF",d:"M17,22 L23,22 L23,26 L17,26 L17,30 L9.93261719,24 L17,18 L17,22 Z"}))),rollDown:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("rect",{width:"20",height:"20",x:"16",y:"12",fill:"#2E3246",fillOpacity:".4",rx:"2",transform:"scale(-1 1) rotate(60 0 -23.033)"}),E.a.createElement("rect",{width:"20",height:"20",x:"15",y:"8",fill:"#2E3246",fillOpacity:".2",rx:"2",transform:"scale(-1 1) rotate(75 0 -14.58)"}),E.a.createElement("rect",{width:"20",height:"20",x:"16",y:"16",fill:"#2E3246",fillOpacity:".8",rx:"2",transform:"scale(1 -1) rotate(-45 -36.77 0)"}),E.a.createElement("path",{fill:"#FFF",d:"M24,26 L24,20 L28,20 L28,26 L32,26 L26,33.0673828 L20,26 L24,26 Z"}))),rollUp:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("rect",{id:"roll-up-a",width:"52",height:"40"})),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("mask",{id:"roll-up-b",fill:"#fff"},E.a.createElement("rect",{id:"roll-up-a",width:"52",height:"40"})),E.a.createElement("rect",{width:"20",height:"20",x:"16",y:"14",fill:"#2E3246",fillOpacity:".4",mask:"url(#roll-up-b)",rx:"2",transform:"rotate(-120 26 24)"}),E.a.createElement("rect",{width:"20",height:"20",x:"15",y:"18",fill:"#2E3246",fillOpacity:".2",mask:"url(#roll-up-b)",rx:"2",transform:"rotate(-105 25 28)"}),E.a.createElement("rect",{width:"20",height:"20",x:"16",y:"10",fill:"#2E3246",fillOpacity:".8",mask:"url(#roll-up-b)",rx:"2",transform:"rotate(-45 26 20)"}),E.a.createElement("path",{fill:"#FFF",d:"M28,20 L28,26 L24,26 L24,20 L20,20 L26,12.9326172 L32,20 L28,20 Z",mask:"url(#roll-up-b)"}))),zoom:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"zoom-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"})),E.a.createElement("filter",{id:"zoom-b",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("path",{fill:"#2E3246",fillOpacity:".8",d:"M26,38 C16.6111593,38 9,30.3888407 9,21 C9,11.6111593 16.6111593,4 26,4 C35.3888407,4 43,11.6111593 43,21 C43,30.3888407 35.3888407,38 26,38 Z M26,29 C30.418278,29 34,25.418278 34,21 C34,16.581722 30.418278,13 26,13 C21.581722,13 18,16.581722 18,21 C18,25.418278 21.581722,29 26,29 Z"}),E.a.createElement("path",{fill:"#FFF",fillOpacity:".4",d:"M26,36 C17.7157288,36 11,29.2842712 11,21 C11,12.7157288 17.7157288,6 26,6 C34.2842712,6 41,12.7157288 41,21 C41,29.2842712 34.2842712,36 26,36 Z M26,29 C30.418278,29 34,25.418278 34,21 C34,16.581722 30.418278,13 26,13 C21.581722,13 18,16.581722 18,21 C18,25.418278 21.581722,29 26,29 Z",filter:"url(#zoom-a)"}),E.a.createElement("path",{fill:"#FFF",fillOpacity:".4",d:"M26,33 C19.372583,33 14,27.627417 14,21 C14,14.372583 19.372583,9 26,9 C32.627417,9 38,14.372583 38,21 C38,27.627417 32.627417,33 26,33 Z M26,29 C30.418278,29 34,25.418278 34,21 C34,16.581722 30.418278,13 26,13 C21.581722,13 18,16.581722 18,21 C18,25.418278 21.581722,29 26,29 Z",filter:"url(#zoom-b)"}))),focus:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("defs",null,E.a.createElement("filter",{id:"focus-a",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"})),E.a.createElement("filter",{id:"focus-b",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"})),E.a.createElement("filter",{id:"focus-c",width:"100%",height:"100%",x:"0%",y:"0%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic"})),E.a.createElement("filter",{id:"focus-d",width:"175%",height:"175%",x:"-37.5%",y:"-37.5%",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},E.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"2"}))),E.a.createElement("g",{fill:"none",fillRule:"evenodd"},E.a.createElement("circle",{cx:"26",cy:"21",r:"17",fill:"#2E3246",fillOpacity:".1",filter:"url(#focus-a)"}),E.a.createElement("circle",{cx:"26",cy:"21",r:"15",fill:"#2E3246",fillOpacity:".2",filter:"url(#focus-b)"}),E.a.createElement("circle",{cx:"26",cy:"21",r:"12",fill:"#2E3246",fillOpacity:".8",filter:"url(#focus-c)"}),E.a.createElement("circle",{cx:"26",cy:"21",r:"8",fill:"#FFF",filter:"url(#focus-d)"}))),flipUp:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("path",{fillOpacity:".2",d:"M18,31 L34,31 C35.6568542,31 37,32.3431458 37,34 L37,40 L15,40 L15,34 C15,32.3431458 16.3431458,31 18,31 Z"}),E.a.createElement("path",{fillOpacity:".8",d:"M18,28 C16.3431458,28 15,26.6568542 15,25 L15,9 C15,7.34314575 16.3431458,6 18,6 L34,6 C35.6568542,6 37,7.34314575 37,9 L37,25 C37,26.6568542 35.6568542,28 34,28 L18,28 Z M26,15 L31,9 L21,9 L26,15 Z",transform:"matrix(1 0 0 -1 0 34)"}))),flipDown:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("path",{fillOpacity:".2",d:"M18,0 L34,4.4408921e-16 C35.6568542,1.39730022e-16 37,1.34314575 37,3 L37,9 L15,9 L15,3 C15,1.34314575 16.3431458,-1.39730022e-16 18,-4.4408921e-16 Z",transform:"rotate(-180 26 4.5)"}),E.a.createElement("path",{fillOpacity:".8",d:"M18,34 C16.3431458,34 15,32.6568542 15,31 L15,15 C15,13.3431458 16.3431458,12 18,12 L34,12 C35.6568542,12 37,13.3431458 37,15 L37,31 C37,32.6568542 35.6568542,34 34,34 L18,34 Z M26,21 L31,15 L21,15 L26,21 Z",transform:"matrix(-1 0 0 1 52 0)"}))),flipRight:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("path",{fillOpacity:".8",d:"M30,37 C28.3431458,37 27,35.6568542 27,34 L27,18 C27,16.3431458 28.3431458,15 30,15 L46,15 C47.6568542,15 49,16.3431458 49,18 L49,34 C49,35.6568542 47.6568542,37 46,37 L30,37 Z M38,24 L43,18 L33,18 L38,24 Z",transform:"matrix(0 1 1 0 12 -12)"}),E.a.createElement("rect",{width:"22",height:"22",x:"3",y:"15",fillOpacity:".2",rx:"3",transform:"rotate(90 14 26)"}))),flipLeft:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("path",{fillOpacity:".8",d:"M3,34 L3,18 C3,16.3431458 4.34314575,15 6,15 L22,15 C23.6568542,15 25,16.3431458 25,18 L25,34 C25,35.6568542 23.6568542,37 22,37 L6,37 C4.34314575,37 3,35.6568542 3,34 Z M16,26 L22,31 L22,21 L16,26 Z"}),E.a.createElement("rect",{width:"22",height:"22",x:"27",y:"15",fillOpacity:".2",rx:"3",transform:"rotate(-90 38 26)"}))),reveal:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillRule:"evenodd"},E.a.createElement("path",{fillOpacity:".8",d:"M18,16 L34,16 C35.6568542,16 37,17.3431458 37,19 L37,35 C37,36.6568542 35.6568542,38 34,38 L18,38 C16.3431458,38 15,36.6568542 15,35 L15,19 C15,17.3431458 16.3431458,16 18,16 Z M24.363961,25.0710678 L24.363961,18 L17.2928932,25.0710678 L24.363961,25.0710678 Z"}),E.a.createElement("rect",{width:"12",height:"12",x:"3",y:"4",fillOpacity:".2",rx:"2"}))),rotateIn:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillOpacity:".8",fillRule:"evenodd"},E.a.createElement("circle",{cx:"26",cy:"23",r:"7"}),E.a.createElement("path",{d:"M40.6330883,21.2534177 L40.6330883,13.3903303 L38.0773377,16.1766268 C35.7959534,11.8019686 31.2506835,9 25.9945317,9 C18.2973205,9 12,15.2973205 12,22.9945317 C12,30.7026795 18.2973205,37 25.9945317,37 C30.1985782,37 34.0439028,35.0773377 36.4958988,32.0960081 L33.8732911,29.8233732 C31.9506289,32.0960081 29.1486603,33.4958988 25.9945317,33.4958988 C20.2287321,33.4958988 15.5041012,28.7712679 15.5041012,22.9945317 C15.5041012,17.2287321 20.2287321,12.5041012 25.9945317,12.5041012 C30.1985782,12.5041012 33.8732911,15.1267089 35.6253418,18.6198734 L33.0027342,21.2534177 L40.6330883,21.2534177 Z"}))),rotateOut:E.a.createElement("svg",{width:"52",height:"40",viewBox:"0 0 52 40"},E.a.createElement("g",{fill:"#2E3246",fillOpacity:".8",fillRule:"evenodd"},E.a.createElement("circle",{cx:"27",cy:"23",r:"7",transform:"matrix(-1 0 0 1 54 0)"}),E.a.createElement("path",{d:"M41,21.2534177 L41,13.3903303 L38.4442494,16.1766268 C36.1628651,11.8019686 31.6175952,9 26.3614434,9 C18.6642322,9 12.3669117,15.2973205 12.3669117,22.9945317 C12.3669117,30.7026795 18.6642322,37 26.3614434,37 C30.5654899,37 34.4108145,35.0773377 36.8628104,32.0960081 L34.2402028,29.8233732 C32.3175405,32.0960081 29.5155719,33.4958988 26.3614434,33.4958988 C20.5956438,33.4958988 15.8710129,28.7712679 15.8710129,22.9945317 C15.8710129,17.2287321 20.5956438,12.5041012 26.3614434,12.5041012 C30.5654899,12.5041012 34.2402028,15.1267089 35.9922535,18.6198734 L33.3696458,21.2534177 L41,21.2534177 Z",transform:"matrix(-1 0 0 1 53.367 0)"})))},_l=n(601),Bl=n(674),Hl=n(716),Ul={stickyPresets:[{icon:Al.custom,label:"Custom",customize:!0},{icon:Al.none,label:"None",premium:!1,build:{type:"none",preset:"none"}},{icon:Al.basic,label:"Basic",premium:!1,build:{type:"alpha",tween:"Strong",ease:"easeOut",blurAmount:0,alphaOffset:0,preset:"basic"},buildOut:{ease:"easeIn"}},{icon:Al.remove,label:"None",premium:!1,build:{type:"none",preset:"none"},buildMid:{ease:"easeIn"}},{icon:Al.star,label:"Heartbeat",premium:!1,build:{type:"pulsate",ease:Bl.a.EaseIn,motionTime:1.5,preset:"heartbeat",variation:"heartbeat"},buildMid:{ease:Bl.a.EaseInOut}}],presets:[{icon:Al.fade,label:"Fade",premium:!1,build:{type:"alpha",tween:"Quad",ease:"easeOut",blurAmount:0,preset:"fade"},buildOut:{ease:"easeIn"}},{icon:Al.softBlur,label:"Soft blur",premium:!0,build:{type:"blur",tween:"Sine",ease:"easeOut",blurAmount:6,preset:"softBlur"},buildOut:{ease:"easeIn"}},{icon:Al.hardBlur,label:"Hard blur",premium:!0,build:{type:"blur",tween:"Cubic",ease:"easeOut",blurAmount:20,preset:"hardBlur"},buildOut:{ease:"easeIn"}},{icon:Al.wordsFade,label:"Words fade",isForText:!0,premium:!0,build:{type:"alpha-words",preset:"wordsFade",wordsDuration:.5,wordsAppearOrder:"l2r",blurAmount:0},buildOut:{ease:"easeIn"}},{icon:Al.wordsBlur,label:"Words Blur",isForText:!0,premium:!0,build:{type:"blur-words",preset:"wordsBlur",wordsDuration:.5,wordsAppearOrder:"l2r",blurAmount:5},buildOut:{ease:"easeIn"}},{icon:Al.scaleUp,label:"Scale up",premium:!0,build:{type:"scale",direction:"b2t",tween:"Strong",ease:"easeOut",blurAmount:0,preset:"scaleUp"},buildOut:{ease:"easeIn"}},{icon:Al.scaleDown,label:"Scale down",premium:!0,build:{type:"scale",direction:"t2b",tween:"Strong",ease:"easeOut",blurAmount:0,preset:"scaleDown"},buildOut:{ease:"easeIn"}},{icon:Al.slideRight,label:"Slide right",premium:!1,build:{type:"slide",direction:"l2r",tween:"Quart",ease:"easeOut",preset:"slideRight",blurAmount:0,alphaOffset:0,slideOffset:50},buildOut:{ease:"easeIn"}},{icon:Al.slideLeft,label:"Slide left",premium:!1,build:{type:"slide",direction:"r2l",tween:"Quart",ease:"easeOut",preset:"slideLeft",blurAmount:0,alphaOffset:0,slideOffset:50},buildOut:{ease:"easeIn"}},{icon:Al.slideDown,label:"Slide down",premium:!1,build:{type:"slide",direction:"t2b",tween:"Quart",ease:"easeOut",preset:"slideDown",blurAmount:0,alphaOffset:0,slideOffset:50},buildOut:{ease:"easeIn"}},{icon:Al.slideUp,label:"Slide up",premium:!1,build:{type:"slide",direction:"b2t",tween:"Quart",ease:"easeOut",preset:"slideUp",blurAmount:0,alphaOffset:0,slideOffset:50},buildOut:{ease:"easeIn"}},{icon:Al.blow,label:"Blow",premium:!0,build:{type:"scaleElastic",direction:"center",tween:"Sine",ease:"easeOut",blurAmount:0,preset:"blow"},buildOut:{tween:"None"}},{icon:Al.glide,label:"Glide",premium:!1,build:{type:"slide",direction:"l2r",tween:"Back",ease:"easeOut",preset:"glide",blurAmount:0,alphaOffset:0,slideOffset:100},buildOut:{ease:"easeIn"}},{icon:Al.elastic,label:"Elastic",premium:!1,build:{type:"slideElastic",direction:"b2t",tween:"Sine",ease:"easeOut",preset:"elastic",blurAmount:0,alphaOffset:0,slideOffset:100},buildOut:{tween:"None"}},{icon:Al.bounce,label:"Bounce",premium:!1,build:{type:"slideBounce",direction:"t2b",ease:"easeOut",preset:"bounce",blurAmount:0,alphaOffset:0,slideOffset:200},buildOut:{tween:"None"}},{icon:Al.grow,label:"Grow",premium:!0,build:{type:"scale",direction:"center",tween:"Strong",ease:"easeOut",blurAmount:0,preset:"grow"},buildOut:{ease:"easeIn"}},{icon:Al.runRight,label:"Run right",premium:!0,build:{type:"roll",direction:"l2r",tween:"Back",ease:"easeOut",blurAmount:0,slideOffset:300,alphaOffset:0,preset:"runRight"},buildOut:{ease:"easeIn"}},{icon:Al.runLeft,label:"Run left",premium:!0,build:{type:"roll",direction:"r2l",tween:"Back",ease:"easeOut",blurAmount:0,slideOffset:300,alphaOffset:0,preset:"runLeft"},buildOut:{ease:"easeIn"}},{icon:Al.rollDown,label:"Roll down",premium:!0,build:{type:"roll",direction:"t2b",tween:"Back",ease:"easeOut",blurAmount:0,slideOffset:300,alphaOffset:0,preset:"rollDown"},buildOut:{ease:"easeIn"}},{icon:Al.rollUp,label:"Roll up",premium:!0,build:{type:"roll",direction:"b2t",tween:"Back",ease:"easeOut",blurAmount:0,slideOffset:300,alphaOffset:0,preset:"rollUp"},buildOut:{ease:"easeIn"}},{icon:Al.zoom,label:"Zoom",premium:!0,build:{type:"zoom",direction:"center",tween:"Circ",ease:"easeOut",zoom:8,blurAmount:0,alphaOffset:0,preset:"zoom"},buildOut:{ease:"easeIn"}},{icon:Al.focus,label:"Focus",premium:!0,build:{type:"zoom",direction:"center",tween:"Circ",ease:"easeOut",zoom:2,blurAmount:0,alphaOffset:0,preset:"focus"},buildOut:{ease:"easeIn"}},{icon:Al.flipUp,label:"Flip up",premium:!0,build:{type:"flip",direction:"top",tween:"Circ",ease:"easeOut",blurAmount:0,alphaOffset:0,preset:"flipUp"},buildOut:{ease:"easeIn"}},{icon:Al.flipDown,label:"Flip down",premium:!0,build:{type:"flip",direction:"bottom",tween:"Circ",ease:"easeOut",blurAmount:0,alphaOffset:0,preset:"flipDown"},buildOut:{ease:"easeIn"}},{icon:Al.flipRight,label:"Flip right",premium:!0,build:{type:"flip",direction:"right",tween:"Circ",ease:"easeOut",blurAmount:0,alphaOffset:0,preset:"flipRight"},buildOut:{ease:"easeIn"}},{icon:Al.flipLeft,label:"Flip left",premium:!0,build:{type:"flip",direction:"left",tween:"Circ",ease:"easeOut",blurAmount:0,alphaOffset:0,preset:"flipLeft"},buildOut:{ease:"easeIn"}},{icon:Al.reveal,label:"Reveal",premium:!0,build:{type:"flip",direction:"topLeft",tween:"Circ",ease:"easeOut",blurAmount:0,alphaOffset:0,preset:"reveal"},buildOut:{ease:"easeIn"}},{icon:Al.rotateIn,label:"Rotate in",premium:!1,build:{type:"rotate",direction:"forward",tween:"Circ",ease:"easeOut",blurAmount:0,alphaOffset:0,preset:"rotateIn"},buildOut:{ease:"easeIn"}},{icon:Al.rotateOut,label:"Rotate out",premium:!1,build:{type:"rotate",direction:"backward",tween:"Circ",ease:"easeOut",blurAmount:0,alphaOffset:0,preset:"rotateOut"},buildOut:{ease:"easeIn"}},{icon:Al.star,label:"Vibrate",premium:!0,build:{ease:"linear",preset:"vibrate",motionTime:.6,type:"vibrate"},buildMid:{ease:"linear"}},{icon:Al.star,label:"Flicker",premium:!0,build:{ease:"linear",preset:"flicker",motionTime:.8,tween:"Strong",type:"flicker"},buildMid:{ease:"linear"}},{icon:Al.star,label:"Move",premium:!0,build:{variation:_l.a.HORIZONTAL,ease:Bl.a.EaseInOut,tween:Hl.a.QUAD,preset:"move",motionTime:1,type:"shake"},buildMid:{ease:Bl.a.EaseInOut}},{icon:Al.star,label:"Shake",premium:!0,build:{direction:_l.a.LEFT_RIGHT,ease:Bl.a.EaseInOut,tween:Hl.a.QUAD,preset:"shake",motionTime:.9,type:"shake",variation:_l.a.LEFT_RIGHT},buildMid:{ease:Bl.a.EaseInOut}},{icon:Al.star,label:"Jello",premium:!1,build:{direction:"vertical",ease:"ease",preset:"jello",motionTime:1.5,type:"jello"},buildMid:{ease:"ease"}},{icon:Al.star,label:"Bounce",premium:!0,build:{direction:"top",ease:"ease",preset:"bounce",motionTime:1.2,type:"bounce"},buildMid:{ease:"ease"}},{icon:Al.star,label:"Pulsate",premium:!1,build:{variation:"forward",ease:"easeInOut",preset:"pulsate",motionTime:.5,type:"pulsate"},buildMid:{ease:"easeInOut"}},{icon:Al.star,label:"Ping",premium:!1,build:{ease:"easeInOut",preset:"ping",motionTime:.6,type:"pulsate",variation:"ping"},buildMid:{ease:"easeInOut"}},{icon:Al.star,label:"Blink",premium:!0,build:{type:"blink",ease:"ease",preset:"blink",motionTime:.7},buildMid:{ease:"ease"}}]},zl=n(38),Gl=n(119),Fl=n(22);var Wl=m.a.bind(Nl.a),Vl={},ql=100;function Kl(e){var t,n,a,r,o,i=e.buildType,l=e.layer,s=e.premiumAccess,c=e.elementId,u=e.applyPreset,d=e.page,p=e.onCustomizeClick,f=e.presets,h={},m=Object(v.useRef)();function b(e){if(e.customize)p();else if(e.build){var t,n,a,r=l[i],o={delay:r.delay,duration:r.duration},s=e.build,d=Object.assign({},s,o,e[i]),f=(a=d,(n=i)in(t={})?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t);u(c,f,i,d.type!==pl.a.INSTANT&&d.type!==pl.a.NONE)}}function g(e){var t=e.label,n=e.build;if(i===il.a.BUILD_MID&&!0!==e.customize){var a=Object.assign({},n);a.delay=0,a.duration=100*a.motionTime*ql,a.onAnimationEnd=function(){return function(e){if(h[e]){var t=h[e].firstChild.style;t.animation="",t["-webkit-animation"]=""}}(t)},m.current=setTimeout((function(){window.eff.PLAYING_STATE="playing",window.eff.animate(h[t],a,il.a.BUILD_MID),Vl[t]=!0}),200)}}function y(e){var t=e.build,n=e.customize,a=e.icon,r=e.label,o=e.premium,c=l[i],u=c.type,d=c.preset,p=t&&t.preset===d||n&&"none"===d&&u!==pl.a.NONE&&"none"===d&&u!==pl.a.INSTANT;t&&"none"===t.preset&&(p=u===pl.a.NONE||u===pl.a.INSTANT);var f=o&&!s?E.a.createElement(Gl.a,{type:zl.a.PREMIUM,container:Fl.a.TRANSITION_PRESET}):null;return E.a.createElement("div",{className:Wl("preset",{selected:p}),key:r,onClick:function(){b(e)},ref:function(t){h[e.label]=t},onMouseEnter:function(){return g(e)},onMouseLeave:function(){return function(e){clearTimeout(m.current),m.current=null;var t=e.label;Vl[t]=!1}(e)}},E.a.createElement("div",{className:Nl.a.icon},a),E.a.createElement("div",{className:Nl.a.label},E.a.createElement(V.a,{label:r,skin:S.a.DARK_GREY,size:Z.a.XSMALL})),f)}return Object(v.useEffect)((function(){return function(){clearTimeout(m.current)}}),[]),document.addEventListener("animationiteration",(function(){return function(){for(var e in Vl)!Vl[e]&&h[e]&&(window.eff.clearAll(h[e]),delete Vl[e])}()})),E.a.createElement("div",null,(r=i===il.a.BUILD_MID?function(e){return e.buildMid||e.label===fl.CUSTOM}:function(e){return!e.buildMid},o=Ul.stickyPresets.filter(r).map(y),E.a.createElement("div",{className:Nl.a.stickyPresets},o)),E.a.createElement("div",{className:Nl.a.separator}),E.a.createElement("div",{className:Nl.a.presetListContainer},(t=(d-1)*Dl.PRESETS_PER_PAGE,n=d*Dl.PRESETS_PER_PAGE,a=i!==il.a.BUILD_MID?f.slice(t,n).map(y):f.map(y),E.a.createElement("div",{className:Nl.a.presets},a))))}var Yl=Kl;Kl.propTypes={buildType:y.a.oneOf([il.a.BUILD_IN,il.a.BUILD_MID,il.a.BUILD_OUT]).isRequired,layer:y.a.oneOfType([y.a.instanceOf(Dt.b),y.a.instanceOf(It.a),y.a.instanceOf(Pt.a),y.a.instanceOf(Mt.a),y.a.instanceOf(Rt.a),y.a.instanceOf(xt.a),y.a.instanceOf(Lt.a)]).isRequired,premiumAccess:y.a.bool.isRequired,elementId:y.a.number.isRequired,applyPreset:y.a.func.isRequired,page:y.a.number.isRequired,onCustomizeClick:y.a.func.isRequired,presets:y.a.arrayOf(y.a.any).isRequired};var Xl=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jl=m.a.bind(ol.a),Ql=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onWindowClick=function(t){var n=e.state.refBuild;if(e.refBuildPanel){var a=e.refBuildPanel.parentNode;a.contains(t.target)||n.contains(t.target)||t.target===a||t.target===n||t.target.closest(".Overlay__content")||e.props.hideBuildPanel()}},e.onCustomizeClick=function(){var t=e.props,n=t.buildType,a=t.selectedLayers;e.setState((function(e){var t=e.elementsPanelMode,r=function(e){var a=t.find((function(t){return t.id===e}));if(a){var r=a[n]&&a[n]!==dl.PRESETS?dl.PRESETS:dl.CUSTOMIZE,o=t.indexOf(a);t=t.update(o,(function(e){var t=e;return t[n]=r,t}))}else{var i=Zl({id:e},n,dl.CUSTOMIZE);t=t.push(i)}},o=!0,i=!1,l=void 0;try{for(var s,c=a[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){r(s.value)}}catch(e){i=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw l}}return{elementsPanelMode:t}}))},e.onBuildMidStartEndChange=function(t){var n=e.props,a=n.buildType,r=n.elementId;(0,n.applyPreset)(r,Zl({},a,{startEnd:t}),a)},e.getPanelMode=function(){var t=e.props,n=t.elementId,a=t.buildType,r=e.state.elementsPanelMode;if(n&&a){var o=r.find((function(e){return e.id===n}));return o&&o[a]?o[a]:dl.PRESETS}return dl.PRESETS},e.getBodyContent=function(){var t=e.props,n=t.layer,a=t.layer.id,r=t.buildType,o=t.premiumAccess,i=t.applyPreset;switch(e.getPanelMode()){case dl.PRESETS:return E.a.createElement(Yl,{buildType:r,layer:n,premiumAccess:o,elementId:a,applyPreset:i,page:e.state.page,onCustomizeClick:e.onCustomizeClick,presets:e.getPresets()});case dl.CUSTOMIZE:return E.a.createElement("div",{key:"settings"},E.a.createElement(cl,{layerId:a}));default:return null}},e.getFooterContent=function(){var t=e.state.page,n=e.props,a=n.buildType,r=n.layer.buildMid,o=r.startEnd,i=r.type;return e.getPanelMode()!==dl.CUSTOMIZE?E.a.createElement(xl,{buildType:a,page:t,type:i,buildMidStartEndType:o,onBuildMidStartEndChange:e.onBuildMidStartEndChange,setPage:e.setPage,numberOfPresets:e.getPresets().length}):null},e.setPage=function(t){e.setState({page:t})},e.getPresets=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=t.layer,a=t.buildType,r=a===il.a.BUILD_MID?function(e){return e.buildMid}:function(e){return e.buildOut},o=Ul.presets;return n.layerType!==H.b.TEXT&&(o=o.filter((function(e){return!e.isForText}))),o=o.filter(r)},e.getPresetsPage=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props,a=e.getPresets(n),r=a.findIndex((function(e){return e.build?e.build.preset===t:-1}));return r>0?Math.ceil((r+1)/Dl.PRESETS_PER_PAGE):1},e.getRefBuild=function(){var t=e.props,n=t.getRefsTransitions,a=t.buildType,r=t.elementId,o=n(),i=null;if(r&&a&&0!==Object.keys(o).length){var l=void 0;switch(a){case il.a.BUILD_IN:l="refBuildIn";break;case il.a.BUILD_MID:l="refBuildMid";break;case il.a.BUILD_OUT:l="refBuildOut";break;default:l=null}i=o[r]?o[r][l]:null}return i},e.changeBuildRef=function(){e.setState({refBuild:e.getRefBuild()})},e.state={elementsPanelMode:Object(b.List)(),page:1,refBuild:null},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xl(t,[{key:"componentDidMount",value:function(){document.body.addEventListener("click",this.onWindowClick)}},{key:"componentWillUpdate",value:function(e,t){var n=e.layer,a=e.buildType,r=this.props.layer;if((n&&!r||n&&r&&n.id!==r.id)&&a!==il.a.BUILD_MID){var o=n[a].preset||ul.a.NONE,i=this.getPresetsPage(o,e);i!==t.page&&this.setPage(i)}}},{key:"componentDidUpdate",value:function(e){this.props.layer!==e.layer&&this.changeBuildRef()}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.onWindowClick)}},{key:"getBuildPanelLeftAppend",value:function(e){var t=Object(Fi.a)(window.getComputedStyle(e).getPropertyValue("width").slice(0,-2));return(Dl.PANEL_WIDTH-t)/2}},{key:"render",value:function(){var e=this,t=this.props,n=t.buildType,a=t.elementId,r=t.isBottom,o=t.layer,i=this.getPanelMode(),l=this.state.refBuild;if(!l||!a||!n)return null;var s={width:Dl.PANEL_WIDTH+"px"},c=this.getBuildPanelLeftAppend(l);return E.a.createElement(gn.a,{refElement:l,topAppend:Dl.PANEL_HEIGHT,leftAppend:c,isBottom:r},E.a.createElement("div",{style:s,className:ol.a.buildPanelContainer,ref:function(t){e.refBuildPanel=t}},E.a.createElement(Ol,{customizeMode:this.getPanelMode()===dl.CUSTOMIZE,buildType:n,transitionType:o[n].type,onCustomizeClick:this.onCustomizeClick}),E.a.createElement("div",{className:Jl(ol.a.body,{settingsMode:i===dl.CUSTOMIZE})},E.a.createElement(al.CSSTransitionGroup,{transitionName:{enter:ol.a.enter,enterActive:ol.a.enterActive},transitionEnterTimeout:200,transitionLeave:!1},this.getBodyContent())),this.getFooterContent()))}}]),t}(v.Component);Ql.propTypes={layer:y.a.oneOfType([y.a.instanceOf(Dt.b),y.a.instanceOf(It.a),y.a.instanceOf(Pt.a),y.a.instanceOf(Mt.a),y.a.instanceOf(Rt.a),y.a.instanceOf(xt.a),y.a.instanceOf(Lt.a)]),buildType:y.a.oneOf([il.a.BUILD_IN,il.a.BUILD_MID,il.a.BUILD_OUT]),getRefsTransitions:y.a.func.isRequired,elementId:y.a.number,applyPreset:y.a.func,hideBuildPanel:y.a.func,isBottom:y.a.bool,premiumAccess:y.a.bool,selectedLayers:y.a.instanceOf(b.List)},Ql.defaultProps={layer:null,buildType:null,elementId:null,applyPreset:function(){},hideBuildPanel:function(){},isBottom:!0,premiumAccess:!1,selectedLayers:new b.List};var $l,es=Ql,ts=n(740),ns=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=t.banner,a=n.bannerPathMap,r=n.banner,i=n.selectedLayers,l=t.timeline,s=l.buildPanelType,c=l.buildPanelElementId,u=c?r.getIn(a[c]):null;return{slideDuration:Object(Ei.a)(e),layer:u,selectedLayers:i,buildType:s,elementId:c,zoom:t.timeline.zoom,premiumAccess:Object(o.a)(e).bmTimeline===ts.a.YES}}),(function(e){return{applyPreset:function(t,n,a,r){e(Object(s.P)(t,n,a,r))},hideBuildPanel:function(){e(Object(f.h)(null,null))}}}))(es),as=n(1029),rs=n.n(as);function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var is,ls=(os($l={},H.b.BUTTON,"#77d998"),os($l,H.b.IMAGE,"#f2ad6d"),os($l,H.b.SVG,"#f2c091"),os($l,H.b.TEXT,"#6ebdf5"),os($l,H.b.SHAPE,"#749df1"),os($l,H.b.CLIPART,"#8d8de6"),os($l,H.b.YOUTUBE,"#ec816d"),os($l,H.b.EMBED,"#b1d46d"),$l),ss=E.a.createElement("svg",{width:"24",height:"24",viewBox:"6 6 12 12"},E.a.createElement("path",{d:"M17,17 L7,17 L7,7 L12,12 L17,7 L17,17 Z"})),cs=E.a.createElement("svg",{width:"24",height:"24",viewBox:"6 6 12 12"},E.a.createElement("path",{d:"M7,6 L11,6 L11,18 L7,18 L7,6 Z M13,6 L17,6 L17,18 L13,18 L13,6 Z"})),us=E.a.createElement("svg",{width:"24",height:"24",viewBox:"6 6 12 12"},E.a.createElement("path",{d:"M5,18 L5,6 L12,12 L5,18 Z M19,18 L12,12 L19,6 L19,18 Z"}));function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ps=(ds(is={},ul.a.SLIDE_BOUNCE,"Slide Bounce"),ds(is,ul.a.SLIDE_ELASTIC,"Slide Elastic"),ds(is,ul.a.SCALE_BOUNCE,"Scale Bounce"),ds(is,ul.a.SCALE_ELASTIC,"Scale Elastic"),is),fs=function(e,t,n){if(t){var a=/(^.)(.*)([A-Z])/g;return a.test(n)?n.replace(a,(function(e,t,n,a){return""+t.toUpperCase()+n+" "+a.toLowerCase()})):""+n[0].toUpperCase()+n.substring(1)}return ps[e]||""+e[0].toUpperCase()+e.substring(1)},hs=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ms=m.a.bind(rs.a),bs=3,gs=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onResizeMouseMove=function(t){var n=e.props,a=n.onDragMove,r=n.onDragStart,o=n.layer,i=n.zoom,l=t.clientX-e.initialPos,s=Object(Fi.a)(Object(wi.a)(l,i));e.state.isDragging&&e.dragDuration!==s&&(e.dragDuration=s,a(s)),Math.abs(l)>=bs&&!e.state.isDragging&&(e.setState({isDragging:!0}),r(o,e.elementType))},e.onResizeMouseUp=function(){var t=e.props.onDragStop;e.state.isDragging&&(e.setState({isDragging:!1}),e.dragDuration=0,t()),window.removeEventListener("mousemove",e.onResizeMouseMove),window.removeEventListener("mouseup",e.onResizeMouseUp)},e.onMouseDown=function(t,n){2!==t.button&&(e.initialPos=t.clientX,e.elementType=n,e.props.onMouseDown(),window.addEventListener("mousemove",e.onResizeMouseMove),window.addEventListener("mouseup",e.onResizeMouseUp),t.stopPropagation())},e.buildDragHandle=function(t,n,a){return E.a.createElement("div",{onMouseDown:function(t){return e.onMouseDown(t,a)},onMouseOver:function(){return e.props.onMouseOver(a)},onMouseLeave:e.props.onMouseLeave,className:ms(n,{isGroupHover:e.props.hoverHandleType===a}),style:t,role:"presentation"})},e.state={isDragging:!1},e.dragDuration=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),hs(t,[{key:"getLeftBuildInRightBuildOutHandle",value:function(e,t,n){var a=this.props.layer,r=ul.a.NONE,o=a[e],i={display:n&&o.duration<.4||e===il.a.BUILD_MID&&o.type===r?r:""};return e===il.a.BUILD_OUT?i.right="-5px":i.left=!n&&o.delay>.2&&o.type!==r?"-5px":"0px",n||(i.width="6px"),this.buildDragHandle(i,rs.a.dragMargin,t)}},{key:"getLeftBuildOutAndRightBuildInHandle",value:function(e,t,n){var a=this.props,r=a.layer,o=a.hoverHandleType,i=r[e],l={display:n&&i.duration<.4?ul.a.NONE:""};n||o!==t||(l.opacity=1),e===il.a.BUILD_OUT||t===Ci.a.BUILD_MIDDLE_LEFT?l.left="1px":l.right="1px";var s=n?rs.a.dragMargin:rs.a.dragSeparator;return E.a.createElement(z.b,{placement:Pe.a.TOP,title:i.duration+" s",visible:this.state.isDragging&&i.duration<.6,controlled:!0},this.buildDragHandle(l,s,t))}},{key:"render",value:function(){var e=this.props.buildType,t=Ci.a.BUILD_IN_LEFT,n=Ci.a.BUILD_MIDDLE_RIGHT,a=Ci.a.BUILD_OUT_RIGHT,r=Ci.a.BUILD_OUT_LEFT,o=Ci.a.BUILD_MIDDLE_LEFT,i=Ci.a.BUILD_IN_RIGHT,l=il.a.BUILD_IN,s=il.a.BUILD_MID,c=il.a.BUILD_OUT,u=void 0;switch(e){case t:u=E.a.createElement(v.Fragment,null,this.getLeftBuildInRightBuildOutHandle(l,t,!0),this.getLeftBuildInRightBuildOutHandle(l,t,!1));break;case r:u=E.a.createElement(v.Fragment,null,this.getLeftBuildOutAndRightBuildInHandle(c,r,!0),this.getLeftBuildOutAndRightBuildInHandle(c,r,!1));break;case i:u=E.a.createElement(v.Fragment,null,this.getLeftBuildOutAndRightBuildInHandle(l,i,!0),this.getLeftBuildOutAndRightBuildInHandle(l,i,!1));break;case a:u=E.a.createElement(v.Fragment,null,this.getLeftBuildInRightBuildOutHandle(c,a,!0),this.getLeftBuildInRightBuildOutHandle(c,a,!1));break;case o:u=E.a.createElement(v.Fragment,null,this.getLeftBuildOutAndRightBuildInHandle(s,o,!0),this.getLeftBuildOutAndRightBuildInHandle(s,o,!1));break;case n:u=E.a.createElement(v.Fragment,null,this.getLeftBuildOutAndRightBuildInHandle(s,n,!0),this.getLeftBuildOutAndRightBuildInHandle(s,n,!1));break;default:u=E.a.createElement(v.Fragment,null,this.getLeftBuildInRightBuildOutHandle(s,n,!0),this.getLeftBuildInRightBuildOutHandle(s,n,!1))}return u}}]),t}(v.Component);gs.propTypes={layer:y.a.instanceOf(b.Record).isRequired,buildType:y.a.string.isRequired,onDragStart:y.a.func,onDragStop:y.a.func,onDragMove:y.a.func,zoom:y.a.number,onMouseOver:y.a.func,onMouseLeave:y.a.func,onMouseDown:y.a.func,hoverHandleType:y.a.string},gs.defaultProps={onDragStart:function(){},onDragStop:function(){},onDragMove:function(){},onMouseOver:function(){},onMouseLeave:function(){},onMouseDown:function(){},hoverHandleType:null,zoom:1};var ys=gs,vs=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Es(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ss=m.a.bind(rs.a),Os=3,Cs=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Es(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={isDragging:!1,hasUpdated:!1,elementIsActive:!1},a.onResizeMouseMove=function(e){var t=a.props,n=t.onDragMove,r=t.onDragStart,o=t.layer,i=t.zoom,l=Ci.a.DRAG_MIDDLE,s=Ci.a.DRAG,c=e.clientX-a.initialPos,u=Object(Fi.a)(Object(wi.a)(c,i));a.state.isDragging&&a.dragDuration!==u&&(a.dragDuration=u,n(u)),Math.abs(c)>=Os&&!a.state.isDragging&&(a.setState({isDragging:!0}),r(o,a.dragBuildMid?l:s))},a.onResizeMouseUp=function(){var e=a.props.onDragStop;a.state.isDragging&&(a.setState({isDragging:!1}),a.dragDuration=0,e()),window.removeEventListener("mousemove",a.onResizeMouseMove),window.removeEventListener("mouseup",a.onResizeMouseUp)},a.onDragTransitionMouseDown=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];2!==e.button&&(a.initialPos=e.clientX,a.dragBuildMid=t,window.addEventListener("mousemove",a.onResizeMouseMove),window.addEventListener("mouseup",a.onResizeMouseUp),e.stopPropagation())},a.onClick=function(){var e=a.props,t=e.onLayerClickHandler,n=e.selectedLayersIds;a.state.hasUpdated&&n.size||t(),a.setState({hasUpdated:!1})},a.onMouseDown=function(){a.setState({elementIsActive:!0})},a.onDragStop=function(){a.setState({elementIsActive:!1}),a.props.onDragStop()},a.dragDuration=0,a.refBuildIn=E.a.createRef(),a.refBuildMid=E.a.createRef(),a.refBuildOut=E.a.createRef(),Es(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vs(t,[{key:"componentDidMount",value:function(){this.props.setRef({refBuildIn:this.refBuildIn,refBuildMid:this.refBuildMid,refBuildOut:this.refBuildOut})}},{key:"getBuildIcon",value:function(e){var t=this.props,n=t.zoom,a=t.layer,r=t.slideDuration,o=t.isOverlayLayer,i=t.bannerDuration,l=t.isDragging,s=t.changingLayerDragPosition,c=t.locked,u=Ci.a.BUILD_OUT_LEFT,d=Ci.a.BUILD_IN_RIGHT,p=Ci.a.BUILD_MIDDLE_LEFT,f=Ci.a.BUILD_MIDDLE_RIGHT,h=a[e],m=h.duration,b=h.type,g=a.buildIn,y=g.type,v=g.duration,S=g.delay,O=a.buildMid,C=O.type,w=O.duration,T=O.delay,k=O.startEnd,I=a.buildOut,L=I.type,P=I.delay,M=o?i:r,R="";if(c||b!==ul.a.NONE&&Object(wi.c)(m,n)<bi.a.ICON_WIDTH||e===il.a.BUILD_OUT&&S+v+Object(wi.a)(bi.a.ICON_WIDTH,n)>M&&y!==ul.a.NONE&&L===ul.a.NONE||e===il.a.BUILD_IN&&P<Object(wi.a)(bi.a.ICON_WIDTH+bi.a.DRAG_HANDLE_WIDTH,n)&&C===ul.a.NONE&&L!==ul.a.NONE&&y===ul.a.NONE||e===il.a.BUILD_IN&&T<Object(wi.a)(bi.a.ICON_WIDTH+bi.a.DRAG_HANDLE_WIDTH,n)&&C!==ul.a.NONE&&y===ul.a.NONE||b===ul.a.NONE&&Object(wi.c)(M,n)/2<bi.a.ICON_WIDTH&&L===ul.a.NONE||e===il.a.BUILD_OUT&&C!==ul.a.NONE&&L===ul.a.NONE&&(y!==ul.a.NONE&&S+v+T+w+Object(wi.a)(bi.a.ICON_WIDTH,n)>M||y===ul.a.NONE&&T+w+Object(wi.a)(bi.a.ICON_WIDTH,n)>M))return null;if(a.buildIn.duration>=.3&&e===il.a.BUILD_IN)R=E.a.createElement("span",{className:rs.a.buildIcon},ml.a);else if(a.buildOut.duration>=.3&&e===il.a.BUILD_OUT)R=E.a.createElement("span",{className:rs.a.buildIcon},hl.a);else if(a.buildMid.type===ul.a.NONE&&e===il.a.BUILD_MID)R=E.a.createElement("span",{className:rs.a.buildIcon},ss);else if(a.buildMid.duration>=.3&&e===il.a.BUILD_MID)switch(k){case kl.a.HOVER:R=E.a.createElement("span",{className:rs.a.buildIcon},cs);break;case kl.a.INFINITE:R=E.a.createElement("span",{className:rs.a.buildIcon},us);break;default:R=E.a.createElement("span",{className:rs.a.buildIcon},ss)}return l&&e===il.a.BUILD_OUT&&s===u||l&&e===il.a.BUILD_IN&&s===d||l&&e===il.a.BUILD_MID&&(s===p||s===f)?null:R}},{key:"getBuildText",value:function(e){var t=this.props,n=t.zoom,a=t.layer,r=t.isDragging,o=t.changingLayerDragPosition,i=t.buildsDuration;if(t.locked)return null;var l=i.currentBInDuration,s=i.currentBOutDuration,c=a[e],u=c.duration,d=c.type,p=d!==ul.a.NONE&&d!==ul.a.INSTANT,f=void 0,h=a[e].preset!==ul.a.NONE,m=h?"":il.a.CUSTOM_TAG_TEXT,b=fs(d,h,a[e].preset),g=Math.max((b.length+m.length)*bi.a.CHAR_WIDTH_ESTIMATIVE+bi.a.BUILD_MARGINS,50);return r&&e===il.a.BUILD_OUT&&o===Ci.a.BUILD_OUT_LEFT&&s>.5?f=E.a.createElement("span",{className:rs.a.buildText},s.toFixed(1)," s"):r&&e===il.a.BUILD_IN&&o===Ci.a.BUILD_IN_RIGHT&&l>.5?f=E.a.createElement("span",{className:rs.a.buildText},l.toFixed(1)," s"):r&&e===il.a.BUILD_MID&&(o===Ci.a.BUILD_MIDDLE_RIGHT||o===Ci.a.BUILD_MIDDLE_LEFT)&&u>.5?f=E.a.createElement("span",{className:rs.a.buildText},u.toFixed(1)," s"):p&&Object(wi.c)(u,n)>g&&(f=E.a.createElement("span",{className:rs.a.buildText},b," "+m)),f}},{key:"getBuildTitle",value:function(e){var t=this.props.layer,n=t[e].type,a=n!==ul.a.NONE&&n!==ul.a.INSTANT,r=t[e].preset!==ul.a.NONE,o=r?"":il.a.CUSTOM_TAG_TEXT,i=fs(n,r,t[e].preset);return a?i+" "+o:""}},{key:"getBuildSeparator",value:function(e){var t=this.props,n=t.layer,a=t.bannerDuration,r=t.slideDuration,o=t.isOverlayLayer,i=t.buildsDuration,l=n.buildIn,s=n.buildMid,c=n.buildOut,u=i.bInDuration,d=i.bInDelay,p=i.bOutDelay,f=o?a:r;if(e===il.a.BUILD_OUT&&l.type===ul.a.NONE&&c.type!==ul.a.NONE&&s.type===ul.a.NONE&&0===p||e===il.a.BUILD_IN&&c.type===ul.a.NONE&&u+d+p>f)return null;var h={backgroundColor:ls[n.layerType]};return e===il.a.BUILD_IN||e===il.a.BUILD_MID_OUT?h.right=0:h.left=0,E.a.createElement("div",{className:rs.a.separator,style:h})}},{key:"render",value:function(){var e=this,t=this.props,n=t.zoom,a=t.layer,r=t.selected,o=t.isOverlayLayer,i=t.maxDuration,l=t.extraTime,s=t.startOffset,c=t.onBuildClick,u=t.locked,d=t.onDragStart,p=t.onDragStop,f=t.onDragMove,h=t.isDragging,m=t.changingLayerDragPosition,b=t.buildTransitionStyles,g=t.slideDurationInPx,y=t.bannerDurationInPx,v=t.isBuildPanelOpened,S=t.buildPanelType,O=t.changeHandleHoverState,C=t.changeBuildHoverState,w=t.hoverBuildType,T=t.hoverHandleType,k=t.onUnlockTransitionClick,I=this.state.elementIsActive,L=Ci.a.BUILD_IN_LEFT,P=Ci.a.BUILD_IN_RIGHT,M=Ci.a.BUILD_OUT_LEFT,R=Ci.a.BUILD_MIDDLE_LEFT,x=Ci.a.BUILD_MIDDLE_RIGHT,D=Ci.a.BUILD_OUT_RIGHT,j=Ci.a.DRAG,A=Ci.a.DRAG_MIDDLE,_=il.a.BUILD_IN,B=il.a.BUILD_OUT,U=il.a.BUILD_MID,z=il.a.BUILD_MID_OUT,G=ul.a.NONE,F=ul.a.INSTANT,W=b.transitionStyles,V=b.buildInStyles,q=b.buildOutStyles,K=b.delayStyles,Y=b.buildMidStyles,X=a.buildIn.type!==G&&a.buildIn.type!==F,Z=a.buildMid.type!==ul.a.NONE&&a.buildMid.type!==ul.a.INSTANT,J=a.buildOut.type!==G&&a.buildOut.type!==F,Q={width:o?y+"px":g+"px",left:o?0:s+"px"},$=!h||m!==L&&m!==P&&m!==M&&m!==R&&m!==x&&m!==D?"":rs.a.resizingMargin,ee=!h||m!==j&&m!==A?"":rs.a.dragTransition,te=this.getBuildText(_)?"":this.getBuildTitle(_),ne=a.layerType!==H.b.YOUTUBE?E.a.createElement("div",{className:Ss("build",{hasTransition:X,noTransition:!X,isGroupHover:r&&!u&&w===_}),style:V,ref:function(t){e.refBuildIn=t},onClick:function(e){h||(r&&e.stopPropagation(),c(_,a.id))},onMouseDown:this.onDragTransitionMouseDown,onMouseOver:function(){C(r&&!u?_:null)},onMouseLeave:function(){C(null)},title:te},E.a.createElement(ys,{layer:a,buildType:Ci.a.BUILD_IN_LEFT,onDragStart:d,onDragMove:f,onDragStop:p,zoom:n}),this.getBuildSeparator(_),this.getBuildIcon(_),this.getBuildText(_),E.a.createElement(ys,{layer:a,buildType:Ci.a.BUILD_IN_RIGHT,onDragStart:d,onDragMove:f,onDragStop:this.onDragStop,onMouseDown:this.onMouseDown,onMouseOver:function(e){O(r&&!u?e:null)},onMouseLeave:function(){I||O(null)},hoverHandleType:r&&!u?T:null,zoom:n})):null,ae=this.getBuildText(B)?"":this.getBuildTitle(B),re=a.layerType!==H.b.YOUTUBE?E.a.createElement("div",{className:Ss("build",{hasTransition:J,noTransition:!J,isGroupHover:r&&!u&&w===B}),style:q,ref:function(t){e.refBuildOut=t},onClick:function(e){h||(r&&e.stopPropagation(),c(B,a.id))},onMouseDown:this.onDragTransitionMouseDown,onMouseOver:function(){C(r&&!u?B:null)},onMouseLeave:function(){C(null)},title:ae},E.a.createElement(ys,{layer:a,buildType:Ci.a.BUILD_OUT_LEFT,onDragStart:d,onDragMove:f,onDragStop:this.onDragStop,onMouseDown:this.onMouseDown,onMouseOver:function(e){O(r&&!u?e:null)},onMouseLeave:function(){I||O(null)},hoverHandleType:r&&!u?T:null,zoom:n}),this.getBuildSeparator(B),this.getBuildIcon(B),this.getBuildText(B),E.a.createElement(ys,{layer:a,buildType:Ci.a.BUILD_OUT_RIGHT,onDragStart:d,onDragMove:f,onDragStop:p,zoom:n})):null,oe=this.getBuildText(U)?"":this.getBuildTitle(U),ie="";a.layerType!==H.b.YOUTUBE&&(ie=a.buildMid.type===ul.a.NONE?E.a.createElement("div",{className:Ss("midPlaceholder",{openedBuildPanel:v&&S===U&&r,isGroupHover:r&&!u&&w===U}),ref:function(t){e.refBuildMid=t},style:Y,onClick:function(e){h||0!==e.button||(r&&e.stopPropagation(),c(U,a.id))},onMouseOver:function(){C(r&&!u?U:null)},onMouseLeave:function(){C(null)}},this.getBuildIcon(U)):a.buildMid.startEnd===kl.a.HOVER||a.buildMid.startEnd===kl.a.INFINITE?E.a.createElement("div",{className:Ss("build",{hasTransition:Z,noTransition:!Z,isGroupHover:r&&!u&&w===U}),ref:function(t){e.refBuildMid=t},style:Y,onClick:function(e){h||0!==e.button||(r&&e.stopPropagation(),c(U,a.id))},onMouseOver:function(){C(r&&!u?U:null)},onMouseLeave:function(){C(null)},title:oe},this.getBuildIcon(U),this.getBuildText(U)):E.a.createElement("div",{className:Ss("build",{hasTransition:Z,noTransition:!Z,isGroupHover:r&&!u&&w===U}),ref:function(t){e.refBuildMid=t},style:Y,onClick:function(e){h||0!==e.button||(r&&e.stopPropagation(),c(U,a.id))},title:oe,onMouseDown:function(t){return e.onDragTransitionMouseDown(t,!0)},onMouseOver:function(){C(r&&!u?U:null)},onMouseLeave:function(){C(null)}},E.a.createElement(ys,{layer:a,buildType:Ci.a.BUILD_MIDDLE_LEFT,onDragStart:d,onDragMove:f,onDragStop:this.onDragStop,onMouseDown:this.onMouseDown,onMouseOver:function(e){O(r&&!u?e:null)},onMouseLeave:function(){I||O(null)},hoverHandleType:r&&!u?T:null,zoom:n}),this.getBuildSeparator(U),this.getBuildIcon(U),this.getBuildText(U),this.getBuildSeparator(z),E.a.createElement(ys,{layer:a,buildType:Ci.a.BUILD_MIDDLE_RIGHT,onDragStart:d,onDragMove:f,onDragStop:this.onDragStop,onMouseDown:this.onMouseDown,onMouseOver:function(e){O(r&&!u?e:null)},onMouseLeave:function(){I||O(null)},hoverHandleType:r&&!u?T:null,zoom:n})));var le=u&&!a.locked?E.a.createElement("span",{className:rs.a.unlockTransitionContent,onClick:k},N.a.unlockTransition):null;return E.a.createElement("div",{className:Ss("wrapper",{selected:r}),style:{width:Object(wi.c)(i+l,n)+"px"},onClick:this.onClick},E.a.createElement("div",{className:Ss("transitionContainer",$,ee,{selected:r}),style:Q}),E.a.createElement("div",{className:Ss("transition",{locked:u||a.locked}),style:W},E.a.createElement("div",{className:Ss("builds",{faded:!a.visible||u||a.locked,locked:u||a.locked})},ne,E.a.createElement("div",{onMouseDown:this.onDragTransitionMouseDown,style:K,className:rs.a.build},ie),re),le))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.isDragging,a=e.changingLayerDragPosition;return!t.hasUpdated&&n&&a?{hasUpdated:!0}:null}}]),t}(v.Component);Cs.propTypes={isOverlayLayer:y.a.bool,slideDuration:y.a.number.isRequired,layer:y.a.instanceOf(b.Record).isRequired,selected:y.a.bool,zoom:y.a.number.isRequired,locked:y.a.bool,bannerDuration:y.a.number.isRequired,startOffset:y.a.number.isRequired,maxDuration:y.a.number,extraTime:y.a.number,onBuildClick:y.a.func,onDragStart:y.a.func,onDragStop:y.a.func,onDragMove:y.a.func,isDragging:y.a.bool,isBuildPanelOpened:y.a.bool,buildPanelType:y.a.string,changingLayerDragPosition:y.a.string,onLayerClickHandler:y.a.func,setRef:y.a.func,buildTransitionStyles:y.a.object,slideDurationInPx:y.a.number,bannerDurationInPx:y.a.number,buildsDuration:y.a.object,selectedLayersIds:y.a.object,changeBuildHoverState:y.a.func,changeHandleHoverState:y.a.func,onUnlockTransitionClick:y.a.func,hoverBuildType:y.a.string,hoverHandleType:y.a.string},Cs.defaultProps={isOverlayLayer:!1,isBuildPanelOpened:!1,selected:!1,onBuildClick:function(){},onDragStart:function(){},onDragStop:function(){},onDragMove:function(){},onLayerClickHandler:function(){},isDragging:!1,changingLayerDragPosition:null,buildPanelType:null,setRef:function(){},buildTransitionStyles:{},buildsDuration:{},slideDurationInPx:0,bannerDurationInPx:0,locked:!1,maxDuration:0,extraTime:0,selectedLayersIds:new b.List,changeBuildHoverState:function(){},changeHandleHoverState:function(){},onUnlockTransitionClick:function(){},hoverBuildType:null,hoverHandleType:null};var ws,Ts=Cs,ks=function(e,t){return t},Is=it()([vi.a,el.a,ks],(function(e,t,n){var a=t.find((function(e){return e.id===n}));return a||e.find((function(e){return e.id===n}))}))(ks),Ls=it()([Is],(function(e){var t=e.buildIn,n=t.duration,a=t.delay,r=t.type,o=e.buildOut,i=o.duration,l=o.delay,s=o.type,c=ul.a.NONE;return{bInDuration:r===c?0:n,bInDelay:r===c?0:a,currentBOutDuration:i,bOutDelay:s===c?0:l,currentBInDuration:n}}))((function(e,t){return t})),Ps=n(483),Ms=function(e,t){return t},Rs=it()([Is,Ms,Ls,function(e){return e.bannerCreator.editor.timeline.zoom},Ei.a,Oi.b,vi.a],(function(e,t,n,a,r,o,i){var l=i.some((function(e){return e.id===t})),s=n.currentBOutDuration,c=n.bOutDelay,u=e.buildIn,d=e.buildOut,p=e.buildMid,f=ul.a.NONE,h=u.type===f,m=p.type===f,b=d.type===f,g=h&&b&&m,y=l?o:r,v=u.duration+s;if(g)return y<v?(v-s)/v*100+"%":!m&&p.delay<u.duration?Object(wi.c)(p.delay,a)+"px":Object(wi.c)(u.duration||Ps.a.MIN,a)+"px";var E=m?c:e.buildMid.delay,S=Object(wi.c)(u.duration,a),O=Object(wi.c)(E,a);return Math.min(S,O)+"px"}))(Ms),xs=function(e,t){return t},Ds=it()([el.a,Ls,Is,Ei.a,Oi.b,xs,vi.a],(function(e,t,n,a,r,o,i){var l=i.some((function(e){return e.id===o}))?r:a,s=n.buildIn,c=n.buildOut,u=n.buildMid,d=ul.a.NONE,p=t.bInDuration,f=t.bInDelay,h=t.currentBOutDuration,m=t.bOutDelay;return f||m||c.type!==d?f&&!m&&c.type===d?u.type!==d&&f+p+u.delay+u.duration>l?p+u.delay+u.duration:f+p>l?p:l-f:u.type!==d?p+u.delay+u.duration+h+m:p+h+m:u.type!==d&&f+p+u.delay+u.duration>l?p+u.delay+u.duration:s.type!==d&&l<s.duration?p:l}))(xs),js=function(e,t){return t},Ns=it()([Is,js,Ls,function(e){return e.bannerCreator.editor.timeline.zoom},Ei.a,Oi.b,Ds,vi.a],(function(e,t,n,a,r,o,i,l){var s=l.some((function(e){return e.id===t})),c=n.bInDuration,u=n.bInDelay,d=n.currentBOutDuration,p=n.bOutDelay,f=e.buildIn,h=e.buildOut,m=e.buildMid,b=ul.a.NONE,g=f.type===b,y=m.type===b,v=h.type===b,E=g&&v&&y,S=s?o:r,O=f.duration+d;if(E&&S<O)return(O-f.duration)/O*100+"%";if(d+u+p+c>=Yi.a.MAX_SLIDE_DURATION&&v)return"0px";var C=g?0:f.duration+f.delay,w=Object(Fi.a)(C+m.duration+m.delay);if(!y&&S<=w+h.duration)return Object(wi.c)(S-w,a)+"px";var T=Object(wi.c)(d||Ps.a.MIN,a),k=Object(wi.c)(i-c,a);return Math.min(T,k)+"px"}))(js);function As(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _s=(As(ws={},H.b.BUTTON,"#93E0AD"),As(ws,H.b.IMAGE,"#F4BD8B"),As(ws,H.b.SVG,"#F4CDA7"),As(ws,H.b.TEXT,"#8CCAF7"),As(ws,H.b.SHAPE,"#90B0F3"),As(ws,H.b.CLIPART,"#A5A4EB"),As(ws,H.b.YOUTUBE,"#F09A8B"),As(ws,H.b.EMBED,"#C0DC8B"),ws),Bs=function(e,t){return"repeating-linear-gradient(\n        135deg,\n        "+e+",\n        "+e+" 10px,\n        "+t+" 10px,\n        "+t+" 20px\n    )"},Hs=it()([Is,Ls,Ds,Ei.a,yi.b,Rs,Ns,function(e){return e.bannerCreator.editor.timeline.zoom},vi.a],(function(e,t,n,a,r,o,i,l,s){var c=e.buildIn,u=e.buildOut,d=e.buildMid,p=e.layerType,f=ul.a.NONE,h=kl.a.TIMELINE,m=kl.a.INFINITE,b=kl.a.HOVER,g=t.currentBInDuration,y=t.bInDuration,v=t.bInDelay,E=t.currentBOutDuration,S=t.bOutDelay,O=s.size>0,C=O?Object(wi.c)(v+r,l)+"px":Object(wi.c)(v,l)+"px";c.type!==f||O||(C=0);var w=y+S,T=c.type===f,k=d.type===f,I=u.type===f,L=T?0:c.delay,P=a-(u.duration+L+c.duration),M=I&&T?P:S-g;M=!T&&I?P:M,M=T||I?M:S,k||(w+=d.duration,d.startEnd!==kl.a.TIMELINE&&I||(w+=d.delay),I?M<d.delay+d.duration&&(M=P):M+=d.delay+d.duration);var R=M<d.duration&&k?M:d.duration,x=T?d.delay-c.duration:d.delay;T&&d.delay<c.duration&&(x=0);var D=d.startEnd!==b&&d.startEnd!==m||d.type===ul.a.NONE?"":Bs(_s[p],ls[p]),j=D?"":x,N=void 0;N=T?g>d.delay?d.delay:g:c.duration+c.delay;var A=k||d.startEnd===h?"100%":Object(wi.c)(d.duration,l)+"px";return{transitionStyles:{background:ls[p],width:Object(wi.c)(n,l)+"px",left:C},buildInStyles:{width:T?o:Object(wi.c)(y,l)+"px",left:0,display:T&&!I&&(0===S&&k||!k&&0===d.delay)?"none":""},buildOutStyles:{width:I?i:Object(wi.c)(E,l)+"px",left:I?null:Object(wi.c)(w,l)+"px",right:I?0:null,display:I&&(k&&y+v+S>=a||!k&&d.startEnd===kl.a.TIMELINE&&y+v+d.delay+d.duration+S>=a||!k&&d.startEnd!==kl.a.TIMELINE&&N+d.duration>=a)?"none":""},buildMidStyles:{display:k&&n-c.duration-E<Ps.a.MID_MIN?"none":"",background:D,width:!k&&d.startEnd!==h||k&&n-c.duration-E<d.duration?A:Object(wi.c)(R,l)+"px",left:k?"":Object(wi.c)(j,l)+"px"},delayStyles:{width:p!==H.b.YOUTUBE?Object(wi.c)(M,l)+"px":"0px",left:y?Object(wi.c)(y,l)+"px":o,background:"none",display:M||!k?"":"none"}}}))((function(e,t){return t})),Us=it()([Ei.a,function(e){return e.bannerCreator.editor.timeline.zoom}],(function(e,t){return Object(wi.c)(e,t)}))((function(e,t){return t})),zs=Object(de.createSelector)([Oi.b,function(e){return e.bannerCreator.editor.timeline.zoom}],(function(e,t){return Object(wi.c)(e,t)})),Gs=Object(de.createSelector)([Ei.a,function(e){return e.bannerCreator.editor.timeline.zoom}],(function(e,t){return Object(wi.c)(e,t)})),Fs=it()([Is,Oi.b,Ls],(function(e,t,n){var a=e.buildIn,r=e.buildOut.type,o=e.buildMid,i=n.bInDuration,l=n.bInDelay,s=n.currentBOutDuration,c=n.bOutDelay,u=ul.a.NONE;return l||c||r!==u?l&&!c&&r===u?o.type!==u&&l+i+o.delay+o.duration>t?i+o.delay+o.duration:l+i>t?i:t-l:o.type!==u?i+o.delay+o.duration+s+c:i+s+c:o.type!==u&&l+i+o.delay+o.duration>t?i+o.delay+o.duration:a.type!==u&&t<a.duration?i:t}))((function(e,t){return t})),Ws=it()([Is,Ls,Fs,Ei.a,yi.b,Rs,Ns,function(e){return e.bannerCreator.editor.timeline.zoom},vi.a,Oi.b,Ds],(function(e,t,n,a,r,o,i,l,s,c,u){var d=e.buildIn,p=e.buildOut,f=e.buildMid,h=t.bInDuration,m=t.bInDelay,b=t.currentBOutDuration,g=t.bOutDelay,y=t.currentBInDuration,v=ul.a.NONE,E=kl.a.INFINITE,S=kl.a.HOVER,O=kl.a.TIMELINE,C=d.type===v,w=f.type===v,T=p.type===v,k=h+g,I=C?0:d.delay,L=C?d.duration:h,P=c-(p.duration+I+L),M=T&&C?P:g-y;M=!C&&T?P:M;var R=(M=C||T?M:g)<f.duration&&w?M:f.duration,x=C?f.delay-d.duration:f.delay;C&&f.delay<d.duration&&(x=0);var D=f.startEnd!==kl.a.HOVER&&f.startEnd!==kl.a.INFINITE||f.type===ul.a.NONE?"":Bs(ls[e.layerType],_s[e.layerType]),j=D?"":x,N=void 0;N=C?y>f.delay?f.delay:y:d.duration+d.delay,w||(k+=f.delay+f.duration,f.startEnd===S||f.startEnd===E?M=n-d.duration-b:T||(M+=f.delay+f.duration));var A=w||f.startEnd===O?"100%":Object(wi.c)(f.duration,l)+"px";return{transitionStyles:{background:ls[e.layerType],width:Object(wi.c)(n,l)+"px",left:Object(wi.c)(m,l)+"px"},buildInStyles:{width:C?o:Object(wi.c)(h,l)+"px",left:0,display:C&&!T&&g===Ps.a.MIN&&w?"none":""},buildMidStyles:{display:w&&u-d.duration-b<Ps.a.MID_MIN?"none":"",background:D,width:!w&&f.startEnd!==O||w&&u-d.duration-b<f.duration?A:Object(wi.c)(R,l)+"px",left:w?"":Object(wi.c)(j,l)+"px"},buildOutStyles:{width:T?i:Object(wi.c)(b,l)+"px",left:T?null:Object(wi.c)(k,l)+"px",right:T?0:null,display:T&&(w&&h+m+g>=c||!w&&f.startEnd===kl.a.TIMELINE&&h+m+f.delay+f.duration+g>=c||(f.startEnd===kl.a.HOVER||f.startEnd===kl.a.INFINITE)&&N+Ps.a.MID_MIN>=c)?"none":""},delayStyles:{width:e.layerType!==H.b.YOUTUBE?Object(wi.c)(M,l)+"px":"0px",left:h?Object(wi.c)(h,l)+"px":o,background:"none",display:M||!w?"":"none"}}}))((function(e,t){return t})),Vs=function(e,t){return t},qs=it()([function(e){return e.bannerCreator.editor.banner.selectedLayers},Vs],(function(e,t){return e.includes(t)}))(Vs),Ks=Object(de.createSelector)([function(e){return e.bannerCreator.editor.timeline.layersDragged}],(function(e){return e&&e.size?e.map((function(e){return e.id})):new b.List})),Ys=function(e,t){return t},Xs=it()([Ks,Ys,function(e){return e.bannerCreator.editor.timeline.changingLayerDragPosition}],(function(e,t,n){return e.some((function(e){return t===e}))?n:null}))(Ys),Zs=n(487),Js=Object(a.c)((function(e,t){var n=t.layerId,a=t.isOverlayLayer,r=e.bannerCreator,o=r.editor,i=r.app.mode,l=Object(vi.a)(e),s=Object(Ei.a)(e),c=Object(Oi.b)(e),u=Object(yi.b)(e),d=o.timeline,p=d.zoom,f=d.isDragging,h=d.buildPanelType,m=l.size>0?Object(wi.c)(u,p):0,b=!!h,g=a?Ws(e,n):Hs(e,n),y=Is(e,n),v=i===k.a.GENERATOR&&y.lockedProperties.includes(lt.a.TRANSITION);return{bannerDuration:c,slideDuration:s,zoom:p,startOffset:m,isDragging:f,changingLayerDragPosition:Xs(e,n),buildTransitionStyles:g,durationToSelectedSlide:Object(yi.b)(e),buildsDuration:Ls(e,n),slideDurationInPx:Us(e,n),bannerDurationInPx:zs(e),layerDurationInPx:Gs(e),selected:qs(e,n),layer:y,isBuildPanelOpened:b,buildPanelType:h,selectedLayersIds:o.banner.selectedLayers,locked:v}}),(function(e,t){var n=t.layerId;return{onBuildClick:function(t,n){e(Object(f.h)(t,n))},onDragStart:function(t,n){e(Object(f.c)(t,n))},onDragStop:function(){e(Object(f.d)())},onDragMove:function(t){e(Object(f.b)(t))},onLayerClickHandler:function(){e(Object(s.N)([n]))},onUnlockTransitionClick:function(){e(Object(Zs.l)({unlockTransition:!0}))}}}))(Ts),Qs=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},$s=m.a.bind(nl.a),ec={};function tc(e){var t=e.layers,n=e.overlayLayers,a=e.maxDuration,r=e.disabled,o=e.extraTime,i=e.zoom,l=Object(wi.c)(a+o,i)+"px",s=Object(v.useState)(null),c=Qs(s,2),u=c[0],d=c[1],p=Object(v.useState)(null),f=Qs(p,2),h=f[0],m=f[1];function b(){return n.map((function(e){return E.a.createElement(Js,{layerId:e.id,key:e.id,isOverlayLayer:!0,maxDuration:a,extraTime:o,setRef:function(t){ec[e.id]=t},hoverBuildType:h,hoverHandleType:u,changeBuildHoverState:function(e){return m(e)},changeHandleHoverState:function(e){return d(e)}})})).reverse()}return E.a.createElement("div",{className:$s("container",{disabled:r}),style:{width:l}},b(),b().size>0&&E.a.createElement("div",{className:nl.a.separator,style:{width:l}}),t.map((function(e){return E.a.createElement(Js,{layerId:e.id,key:e.id,maxDuration:a,extraTime:o,setRef:function(t){ec[e.id]=t},hoverBuildType:h,hoverHandleType:u,changeBuildHoverState:function(e){return m(e)},changeHandleHoverState:function(e){return d(e)}})})).reverse(),E.a.createElement(ns,{getRefsTransitions:function(){return ec}}))}tc.propTypes={layers:y.a.instanceOf(b.List).isRequired,overlayLayers:y.a.instanceOf(b.List).isRequired,zoom:y.a.number.isRequired,disabled:y.a.bool.isRequired,maxDuration:y.a.number.isRequired,extraTime:y.a.number.isRequired};var nc=tc,ac=Object(a.c)((function(e,t){var n=t.maxDuration,a=t.extraTime,r=e.bannerCreator.editor,o=r.banner,i=r.timeline,l=Object(vi.a)(e);return{layers:Object(el.a)(e),overlayLayers:l,selectedLayers:o.selectedLayers,zoom:i.zoom,disabled:i.playingSlide,maxDuration:n,extraTime:a}}),null)(nc),rc=n(1451),oc=n.n(rc),ic=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var lc=m.a.bind(oc.a),sc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ic(t,[{key:"render",value:function(){return E.a.createElement("div",{className:oc.a.timelineZoom},E.a.createElement(z.b,{placement:Pe.a.TOP,skin:S.a.GREY,title:N.a.zoomOut},E.a.createElement("div",{className:lc("button",{disabled:this.props.zoom<2}),onClick:this.props.onZoomOutClick},E.a.createElement(ui.a,{size:Z.a.SMEDIUM,skin:S.a.GREY},Gn.a.zoomMinus))),E.a.createElement(z.b,{placement:Pe.a.TOP,skin:S.a.GREY,title:N.a.zoomIn},E.a.createElement("div",{className:lc("button",{disabled:this.props.zoom>1}),onClick:this.props.onZoomInClick},E.a.createElement(ui.a,{size:Z.a.SMEDIUM,skin:S.a.GREY},Gn.a.zoomPlus))))}}]),t}(v.Component);sc.propTypes={zoom:y.a.number.isRequired,onZoomInClick:y.a.func.isRequired,onZoomOutClick:y.a.func.isRequired};var cc=sc,uc=Object(a.c)((function(e){return{zoom:e.bannerCreator.editor.timeline.zoom}}),(function(e){return{onZoomInClick:function(){e(Object(f.e)())},onZoomOutClick:function(){e(Object(f.a)())}}}))(cc),dc=n(1452),pc=n.n(dc),fc=E.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},E.a.createElement("g",null,E.a.createElement("path",{d:"M9,4 L16,4 C17.1045695,4 18,4.8954305 18,6 L18,13.0070582 C18,14.3526183 17.4576726,15.6413868 16.4955882,16.5820916 L13,20 L12,20 L8.50441184,16.5820916 C7.5423274,15.6413868 7,14.3526183 7,13.0070582 L7,6 C7,4.8954305 7.8954305,4 9,4 Z"}),E.a.createElement("g",{transform:"translate(12.000000, 7.000000)",fill:"#FFFFFF",fillOpacity:"0.2"},E.a.createElement("rect",{id:"Rectangle",x:"0",y:"0",width:"1",height:"1"}),E.a.createElement("rect",{id:"Rectangle",x:"0",y:"3",width:"1",height:"1"}),E.a.createElement("rect",{id:"Rectangle",x:"0",y:"6",width:"1",height:"1"})))),hc=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function mc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var bc=m.a.bind(pc.a),gc=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=mc(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onMouseDown=function(e){a.initialPos=e.clientX,a.startDuration=a.props.playPosition,window.addEventListener("mousemove",a.onMouseMove),window.addEventListener("mouseup",a.onMouseUp),a.props.onPlayPositionStartDragging()},a.onMouseUp=function(){window.removeEventListener("mousemove",a.onMouseMove),window.removeEventListener("mouseup",a.onMouseUp),a.props.onPlayPositionStopDragging()},a.onMouseMove=function(e){var t=a.props,n=t.timelineZoom,r=t.onPlayPositionChange,o=1e3*t.slideDuration,i=a.startDuration+1e3*Object(wi.a)(e.clientX-a.initialPos,n);r(Object(Ki.a)(0,i,o))},mc(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),hc(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.slideDuration,n=e.playPosition;(0,e.onPlayPositionChange)(n>1e3*t?0:n)}},{key:"render",value:function(){var e=this.props,t=e.slideDuration,n=e.playingSlide,a=e.startOffset,r=e.timelineZoom,o=e.timelineScroll.scrollLeft,i=e.playPosition,l=e.playPositionDragging,s=Object(Fi.a)(i/1e3),c=Object(wi.c)(s,r),u={left:Math.round(a+c-o)+"px"};return n&&Object.assign(u,{transitionDuration:t-s+"s",transform:"translateX("+(Object(wi.c)(t,r)-c)+"px)",pointerEvents:"none"}),E.a.createElement("div",{className:pc.a.wrapper},E.a.createElement("div",{className:pc.a.barContainer,style:u,role:"presentation"},E.a.createElement("div",{className:pc.a.playHeadContainer,role:"presentation",onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},E.a.createElement(z.b,{placement:Pe.a.TOP,title:s+" s",controlled:!0,visible:l&&!n},fc)),E.a.createElement("div",{className:bc("bar",{playingSlide:n}),role:"presentation"})))}}]),t}(v.Component);gc.propTypes={playingSlide:y.a.bool.isRequired,slideDuration:y.a.number.isRequired,startOffset:y.a.number.isRequired,playPosition:y.a.number.isRequired,playPositionDragging:y.a.bool.isRequired,timelineZoom:y.a.number.isRequired,timelineScroll:y.a.instanceOf(ja.a).isRequired,onPlayPositionChange:y.a.func.isRequired,onPlayPositionStartDragging:y.a.func.isRequired,onPlayPositionStopDragging:y.a.func.isRequired};var yc=gc,vc=n(1453),Ec=n.n(vc),Sc=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Oc=m.a.bind(Ec.a),Cc=bi.a.RESIZE_BAR_HEIGHT+bi.a.RULLER_HEIGHT+bi.a.TIMELINE_LAYER_HEIGHT+bi.a.SCROLLBAR_BOTTOM_HEIGHT,wc=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onTransitionsUpdate=function(e){var t=e.clientWidth,a=e.clientHeight,r=e.scrollHeight;n.props.width!==t&&n.refTransitions.forceUpdate();var o=r>a;o!==n.state.hasVerticalScroll&&n.setState({hasVerticalScroll:o})},n.onTransitionsScroll=function(e){n.onScrollHandler(e,"transitions")},n.onLayersScroll=function(e){n.onScrollHandler(e,"layers")},n.onScrollHandler=function(e,t){var a=e.clientWidth,r=e.clientHeight,o=e.scrollWidth,i=e.scrollHeight,l=e.scrollLeft,s=e.scrollTop;n.scrollTop!==s?(n.scrollTop=s,n.props.setScroll({scrollTop:s,clientHeight:r,scrollHeight:i})):n.scrollLeft!==l&&"transitions"===t&&(n.scrollLeft=l,n.props.setScroll({scrollLeft:l,clientWidth:a,scrollWidth:o}))},n.getLayersHeader=function(){return E.a.createElement("div",{className:Ec.a.layersHeader},E.a.createElement("div",{className:Ec.a.title},E.a.createElement("div",{className:Ec.a.layersIcon},E.a.createElement(ui.a,{size:Z.a.LARGE},pi.a)),E.a.createElement("span",null,N.a.layers)),E.a.createElement(Wi,null))},n.handleWindowResize=function(){var e=n.props,t=e.height,a=e.setHeight,r=e.setWidth,o=e.mode,i=(window.innerHeight-mi.a.HEADER_HEIGHT)*bi.a.MAX_PERCENT_FROM_HEIGHT;t>i&&a(i),r(window.innerWidth,o)},n.handlerResizeMouseDown=function(e){e.stopPropagation(e),n.startHeight=n.props.height,n.startY=e.clientY,document.addEventListener("mouseup",n.handlerResizeMouseUp),document.addEventListener("mousemove",n.handlerResizeMouseMove)},n.handlerResizeMouseUp=function(e){e.stopPropagation(e);var t=n.props,a=t.toggleCollapsedTimeline,r=t.collapsed;n.state.isResizing?(n.startHeight<=Cc&&!r&&a(),n.setState({isResizing:!1})):a(),document.removeEventListener("mouseup",n.handlerResizeMouseUp),document.removeEventListener("mousemove",n.handlerResizeMouseMove)},n.handlerResizeMouseMove=function(e){e.stopPropagation(e);var t=n.props,a=t.collapsed,r=t.setHeight,o=t.toggleCollapsedTimeline,i=e.clientY,l=n.startY-i,s=n.startHeight+l;s<=Cc&&l<0&&!a?o(!0):(n.collapsed=!1,n.startY=i,n.startHeight=s,(s<(window.innerHeight-mi.a.HEADER_HEIGHT)*bi.a.MAX_PERCENT_FROM_HEIGHT&&s>Cc||s<Cc&&l>0)&&r(Math.max(s,bi.a.RESIZE_BAR_HEIGHT)));Math.abs(l)>1&&n.setState({isResizing:!0})},n.state={isResizing:!1,hasVerticalScroll:!1,maxDuration:e.timelineDuration,extraTime:t.getExtraTime(e.timelineDuration,e.slideDuration,e.width,e.zoom,e.bannerHasOverlayLayers)},n.collapsed=!1,n.showHeightTransition=!1,n.startY=0,n.scrollTop=0,n.scrollLeft=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Sc(t,null,[{key:"getExtraTime",value:function(e,t,n,a,r){var o=Math.ceil(Object(wi.a)(n,a));return r?Math.ceil(o-t+1+bi.a.EXTRA_TIME):e<o?Math.round(o-e+bi.a.EXTRA_TIME):bi.a.EXTRA_TIME}}]),Sc(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillReceiveProps",value:function(e){var n=this.props,a=n.collapsed,r=n.width,o=n.zoom,i=n.slideId,l=n.slideDuration,s=!0;if(this.refTransitions&&this.refLayers&&(this.showHeightTransition=e.collapsed!==a,this.refTransitions.scrollTop(e.timelineScroll.scrollTop),this.refTransitions.scrollLeft(e.timelineScroll.scrollLeft),this.refLayers.scrollTop(e.timelineScroll.scrollTop)),(e.slideId!==i||e.timelineDuration>this.state.maxDuration)&&(s=!1,this.setState({maxDuration:e.timelineDuration})),e.slideId!==i||e.width!==r||e.slideDuration!==l||e.zoom!==o){var c=t.getExtraTime(s?this.state.maxDuration:e.timelineDuration,e.slideDuration,e.width,e.zoom,e.bannerHasOverlayLayers);this.setState({extraTime:c})}}},{key:"componentDidUpdate",value:function(e){if(this.refTransitions){var t=this.props.startOffset;e.startOffset!==t&&this.refTransitions.scrollLeft(t)}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"getResizeBar",value:function(){var e=this.state.isResizing;return E.a.createElement("div",{className:Oc("resizeBar",{resizing:e}),onMouseDown:this.handlerResizeMouseDown,style:{height:bi.a.RESIZE_BAR_HEIGHT+"px"},role:"presentation"},E.a.createElement(ui.a,{skin:S.a.LIGHT_GREY},fi.a))}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,a=t.width,r=t.zoom,o=t.slideDuration,i=t.timelineScroll,l=t.startOffset,s=t.playingSlide,c=t.playPosition,u=t.playPositionDragging,d=t.onPlayPositionChange,p=t.onPlayPositionStartDragging,f=t.onPlayPositionStopDragging,h=t.cropMode,m=this.state,b=m.hasVerticalScroll,g=m.maxDuration,y=m.extraTime,v=this.showHeightTransition,O=n-bi.a.HEADER_HEIGHT-bi.a.RESIZE_BAR_HEIGHT;return E.a.createElement("div",{className:Oc("timelineContainer",{heightTransition:v,disabled:h}),draggable:!1,style:{height:n+"px"},"data-qa":_r.ab},this.getResizeBar(),E.a.createElement("div",{className:Ec.a.columnLeft},this.getLayersHeader(),E.a.createElement("div",{className:Ec.a.layersContainer,"data-deselect-layers":!0},E.a.createElement(T.a,{autoHide:!1,scrollType:di.a.NONE,autoHeight:!0,autoHeightMin:O,onScrollFrame:this.onLayersScroll,ref:function(t){e.refLayers=t}},E.a.createElement("div",{className:Oc({layerListDisabled:s}),style:{top:i.scrollTop}}),E.a.createElement(gi.a,{position:hi.a.TIMELINE})))),E.a.createElement("div",{className:Ec.a.columnRight},E.a.createElement(yc,{playingSlide:s,slideDuration:o,startOffset:l,timelineZoom:r,timelineScroll:i,playPosition:c,playPositionDragging:u,onPlayPositionChange:d,onPlayPositionStartDragging:p,onPlayPositionStopDragging:f,scrollLeft:i.scrollLeft}),E.a.createElement($i,{maxDuration:g,extraTime:y}),E.a.createElement("div",{"data-deselect-layers":!0},E.a.createElement(T.a,{style:{width:a,transition:"width 0.35s "+mi.a.EASE},skin:S.a.GREY_WHITE,hideTracksWhenNotNeeded:!0,autoHide:!1,autoHeight:!0,autoHeightMin:O,withPadding:!0,trackZindex:2,onScrollFrame:this.onTransitionsScroll,onUpdate:this.onTransitionsUpdate,ref:function(t){e.refTransitions=t}},E.a.createElement(ac,{maxDuration:g,extraTime:y}))),E.a.createElement(xi,null),E.a.createElement("div",{className:Oc("timelineZoomContainer",{hideZoom:n<bi.a.HEADER_HEIGHT}),style:{right:b?"16px":"0"}},E.a.createElement(uc,null))))}}]),t}(v.Component);wc.propTypes={slideId:y.a.number.isRequired,collapsed:y.a.bool.isRequired,height:y.a.number.isRequired,width:y.a.number.isRequired,setHeight:y.a.func,setWidth:y.a.func,toggleCollapsedTimeline:y.a.func,onPlayPositionChange:y.a.func,onPlayPositionStartDragging:y.a.func,onPlayPositionStopDragging:y.a.func,timelineScroll:y.a.instanceOf(ja.a).isRequired,setScroll:y.a.func,zoom:y.a.number.isRequired,timelineDuration:y.a.number.isRequired,startOffset:y.a.number.isRequired,slideDuration:y.a.number.isRequired,playPosition:y.a.number.isRequired,playPositionDragging:y.a.bool.isRequired,playingSlide:y.a.bool.isRequired,bannerHasOverlayLayers:y.a.bool.isRequired,mode:y.a.oneOf(Object.values(k.a)),cropMode:y.a.bool},wc.defaultProps={setHeight:function(){},setWidth:function(){},toggleCollapsedTimeline:function(){},onPlayPositionChange:function(){},onPlayPositionStartDragging:function(){},onPlayPositionStopDragging:function(){},setScroll:function(){},mode:k.a.EDITOR,cropMode:!1};var Tc=wc,kc=Object(de.createSelector)([el.a,vi.a,Ei.a,Oi.b],(function(e,t,n,a){var r=t.size?a:n;t.forEach((function(e){var t=e.buildIn,n=e.buildOut,a=e.buildMid,o=0;t.type!==ul.a.NONE&&(o+=t.duration+t.delay),n.type!==ul.a.NONE&&(o+=n.duration+n.delay),a.type!==ul.a.NONE&&(o+=a.duration+a.delay),o>r&&(r=o)}));var o=e.reduce((function(e,t){var n=t.buildIn,a=t.buildOut,r=t.buildMid,o=0;return n.type!==ul.a.NONE&&(o+=n.duration+n.delay),a.type!==ul.a.NONE&&(o+=a.duration+a.delay),r.type!==ul.a.NONE&&(o+=r.duration+r.delay),Math.max(e,o)}),0);return Math.ceil(Math.max(r,o))})),Ic=Object(a.c)((function(e){var t=e.bannerCreator,n=t.app.mode,a=t.editor,r=a.banner.selectedSlideId,o=a.timeline,i=o.collapsed,l=o.height,s=o.width,c=o.timelineScroll,u=o.visible,d=o.zoom,p=o.playingSlide,f=o.playPosition,h=o.playPositionDragging,m=a.stage.cropElementId,b=Object(Ei.a)(e),g=Object(yi.b)(e),y=Object(el.a)(e).size,v=Object(vi.a)(e),E=kc(e),S=v.size>0;return{slideId:r,collapsed:i,height:l,width:s,timelineScroll:c,visible:u,zoom:d,timelineDuration:E,layerCount:y,slideDuration:b,playingSlide:p,startOffset:v.size>0?Object(wi.c)(g,d):0,bannerHasOverlayLayers:S,mode:n,cropMode:!!m,playPosition:f,playPositionDragging:h}}),(function(e){return{setHeight:function(t){e(Object(f.g)(t))},setWidth:function(t,n){e(Object(f.l)(t,n))},toggleCollapsedTimeline:function(t){e(Object(f.n)(t))},setScroll:function(t){e(Object(f.k)(t))},onPlayPositionChange:function(t){e(Object(f.i)(t))},onPlayPositionStartDragging:function(){e(Object(f.j)(!0))},onPlayPositionStopDragging:function(){e(Object(f.j)(!1))}}}))(Tc),Lc=n(496),Pc=n(884);var Mc=n(1454),Rc=n.n(Mc),xc=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Dc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var jc=m.a.bind(Rc.a),Nc=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Dc(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={hideControls:!1},a.onRotateMouseDown=function(e){a.onControlMouseDown(),a.props.onRotateMouseDown(e)},a.onScaleMouseDown=function(e,t){a.onControlMouseDown(),a.props.onScaleMouseDown(e,t)},a.onWindowMouseMove=function(){a.state.hideControls||a.setState({hideControls:!0}),window.removeEventListener("mousemove",a.onWindowMouseMove,!0)},a.onControlMouseDown=function(){window.addEventListener("mousemove",a.onWindowMouseMove,!0),window.addEventListener("mouseup",a.onWindowMouseUp,!0)},a.onWindowMouseUp=function(){a.setState({hideControls:!1}),window.removeEventListener("mousemove",a.onWindowMouseMove,!0),window.removeEventListener("mouseup",a.onWindowMouseUp,!0)},Dc(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xc(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.x,a=t.y,r=t.width,o=t.height,i=t.rotation,l=t.visible,s=t.layerType,c=t.setRefTransform,u=t.zoom,d=t.cropMode,p=t.cropData,f=t.scale,h=t.dragging,m=t.locked;if(!l)return null;var b=this.state.hideControls||h,g=Object.assign({},Object(R.m)(n,a,r*f,o*f,l,u),Object(R.k)({rotation:i}));"mixed"===s||(g.pointerEvents="none",g.zIndex=2);var y=Object(R.x)(s)&&!d&&!m&&E.a.createElement("div",{role:"presentation",className:jc("rotate",{hidden:b}),onMouseDown:this.onRotateMouseDown}),v=null;!d||s!==H.b.IMAGE&&s!==H.b.SHAPE||(v={x:n,y:a,width:r,height:o,cropData:p});var S=m?null:Object(R.u)(s,v).map((function(t){return E.a.createElement("div",{key:t,role:"presentation",style:{cursor:Object(R.t)(t,i)},className:jc("scale",Rc.a[t],{hidden:b}),onMouseDown:function(n){e.onScaleMouseDown(t,n)}})}));return E.a.createElement("div",{style:g,className:Rc.a.transform,ref:function(e){c(e)}},y,S)}}]),t}(v.Component);Nc.propTypes={x:y.a.number,y:y.a.number,width:y.a.number,height:y.a.number,rotation:y.a.number,scale:y.a.number,zoom:y.a.number,visible:y.a.bool,layerType:y.a.string,dragging:y.a.bool,onRotateMouseDown:y.a.func,onScaleMouseDown:y.a.func,setRefTransform:y.a.func,cropMode:y.a.bool,locked:y.a.bool,cropData:y.a.shape({x:y.a.number,y:y.a.number,width:y.a.number,height:y.a.number})},Nc.defaultProps={x:0,y:0,width:0,height:0,rotation:0,scale:Dr.a.DEFAULT,zoom:1,visible:!1,layerType:null,dragging:!1,onRotateMouseDown:function(){},onScaleMouseDown:function(){},setRefTransform:function(){},cropMode:!1,locked:!1,cropData:null};var Ac=Nc,_c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Bc=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Hc(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Uc=6,zc=30,Gc=1,Fc=2,Wc=2,Vc=20,qc=function(e){return e===H.b.TEXT},Kc=function(e){return e===H.b.BUTTON},Yc=function(e){return e===H.b.MIXED},Xc=function(e){return[H.b.IMAGE,H.b.SHAPE].indexOf(e)>-1},Zc=function(e,t){var n=[H.b.TEXT,H.b.MIXED];return(!Xc(e)||!t)&&-1===n.indexOf(e)},Jc=function(e){switch(e){case me.a.TOP_LEFT:case me.a.TOP_RIGHT:case me.a.BOTTOM_LEFT:case me.a.BOTTOM_RIGHT:return!0;default:return!1}},Qc=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Hc(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onKeyDownHandler=function(e){var t=a.props,n=t.elements,r=t.onMove,o=t.cropElementId;if(n&&n.size&&!o&&!Object(M.s)(e,!1)&&(e.keyCode===O.a.up||e.keyCode===O.a.down||e.keyCode===O.a.left||e.keyCode===O.a.right)){if(e.preventDefault(),n.some((function(e){return e.locked})))return;var i=0,l=0;switch(e.keyCode){case O.a.up:l-=1;break;case O.a.down:l+=1;break;case O.a.right:i+=1;break;case O.a.left:i-=1}e.shiftKey&&(i*=10,l*=10);var s=[],c=!0,u=!1,d=void 0;try{for(var p,f=n[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var h=p.value;h.locked||s.push({id:h.id,props:{x:h.x+i,y:h.y+l}})}}catch(e){u=!0,d=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw d}}r(s)}},a.onRotateMouseDown=function(e){0===e.button&&(a.setTransformCenterPositions(),a.startRotationElement=a.props.rotation,a.startDeg=Object(R.o)(e.pageY-a.center.y,e.pageX-a.center.x),window.addEventListener("mousemove",a.onRotateMouseMove),window.addEventListener("mouseup",a.onRotateMouseUp,!0),document.body.style.userSelect="none",a.props.onStartRotating(),e.stopPropagation(),e.preventDefault())},a.onRotateMouseMove=function(e){var t=Object(R.o)(e.pageY-a.center.y,e.pageX-a.center.x),n=Object(R.n)(a.startRotationElement+t-a.startDeg);e.shiftKey&&(n=15*(n/15>>0)),n=parseInt(n),a.props.onRotate(a.props.elements,n)},a.onRotateMouseUp=function(e){document.body.style.userSelect="auto",window.removeEventListener("mousemove",a.onRotateMouseMove),window.removeEventListener("mouseup",a.onRotateMouseUp,!0),a.props.onStopRotating(),e.stopPropagation()},a.onScaleMouseDown=function(e,t){if(0===t.button){document.addEventListener("contextmenu",a.preventDefault,!1),a.setTransformCenterPositions(),a.scaleType=e,window.addEventListener("mousemove",a.onScaleMouseMove),window.addEventListener("mouseup",a.onScaleMouseUp,!0);var n=a.props.zoom;a.slideRef=a.props.getSlideRef();var r=a.props,o=r.x,i=r.y,l=r.width,s=r.height,c=r.rotation,u=r.scale,d=void 0===u?Dr.a.DEFAULT:u,p=r.elements;a.startPos={pageX:t.pageX,pageY:t.pageY,slideClientRect:a.slideRef.getBoundingClientRect(),x:o*n,y:i*n,width:l*d*n,height:s*d*n,rotation:c,scale:d,elements:p},a.refElements={},a.cloneElements={};var f={};p.forEach((function(e){var t=a.getElementCommonDataObj(e);if(qc(e.layerType))t.fontSize=e.fontSize*n,t.letterSpacing=parseInt(e.letterSpacing)*n,t.scale=parseFloat(e.scale||Dr.a.DEFAULT)*n;else if(Kc(e.layerType)){t.fontSize=e.labelStyle.fontSize*n;var r=e.dropShadow,o=e.labelShadow;t.dropShadow={hShadow:parseInt(r.hShadow)*n,vShadow:parseInt(r.vShadow)*n,spread:parseInt(r.spread)*n},t.labelShadow={hShadow:parseInt(o.hShadow)*n,vShadow:parseInt(o.vShadow)*n}}var i=e.border;i&&i.weight&&(t.border={weight:i.weight*n}),f[e.id]=t,qc(e.layerType)&&a.initTextResize(e)})),a.startPos.elementsData=f,a.startPos.points=Object(R.s)(a.startPos),a.initialStageScroll=a.props.stageScroll,document.body.style.userSelect="none",t.stopPropagation(),t.preventDefault(),a.resizing=!0,a.props.onStartResizing()}},a.onScaleMouseMove=function(e){var t=a.startPos,n=a.props,r=n.layerType,o=n.rotation,i=n.x,l=n.y,s=n.width,c=n.height,u=n.elements,d=n.onResize,p=n.zoom,f=n.stageScroll,h=n.cropElementId,m=n.cropData,b=t.slideClientRect,g=t.points,y=e.shiftKey&&Zc(r,h),v=e.ctrlKey||e.metaKey,E=f.scrollLeft-a.initialStageScroll.scrollLeft,S=f.scrollTop-a.initialStageScroll.scrollTop,O=void 0,C={x:e.pageX-b.left+E,y:e.pageY-b.top+S},w=1,T=1,k=1,I=1,L={},P=a.getSnapData(),M=t.width,x=t.height;switch(a.scaleType){case me.a.BOTTOM_RIGHT:O=_c(g,1)[0],w=(M+Object(R.b)(C,g[2],g[1]))/M,T=(x+Object(R.b)(C,g[3],g[2]))/x,y||(w=Math.max(w,T),T=Math.max(w,T));break;case me.a.MIDDLE_RIGHT:O=_c(g,1)[0],w=(M+Object(R.b)(C,g[2],g[1]))/M;break;case me.a.BOTTOM_CENTER:O=_c(g,1)[0],T=(x+Object(R.b)(C,g[3],g[2]))/x;break;case me.a.TOP_LEFT:O=_c(g,3)[2],w=(M+Object(R.b)(C,g[0],g[3]))/M,T=(x+Object(R.b)(C,g[1],g[0]))/x,y||(w=Math.max(w,T),T=Math.max(w,T)),k=-1,I=-1;break;case me.a.TOP_CENTER:O=_c(g,3)[2],T=(x+Object(R.b)(C,g[1],g[0]))/x,k=-1,I=-1;break;case me.a.MIDDLE_LEFT:O=_c(g,2)[1],w=(M+Object(R.b)(C,g[0],g[3]))/M,k=-1;break;case me.a.TOP_RIGHT:O=_c(g,4)[3],w=(M+Object(R.b)(C,g[2],g[1]))/M,T=(x+Object(R.b)(C,g[1],g[0]))/x,y||(w=Math.max(w,T),T=Math.max(w,T)),I=-1;break;case me.a.BOTTOM_LEFT:O=_c(g,2)[1],w=(M+Object(R.b)(C,g[0],g[3]))/M,T=(x+Object(R.b)(C,g[3],g[2]))/x,y||(w=Math.max(w,T),T=Math.max(w,T)),k=-1}w=Math.max(1/M,w),T=Math.max(1/x,T);var D=0,j=0,N=u.get(0);if(qc(r))Jc(a.scaleType)?(D=zc)===N.width&&(j=N.height):D=zc;else if(r===H.b.EMBED)D=2*N.margin,j=2*N.margin;else if(r!==H.b.MIXED&&N.border&&N.border.weight){var A=N.border.weight;D=2*A+1,j=2*A+1}var _=Math.max(M*w,D*p),B=Math.max(x*T,j*p),U=Object(R.p)(O.x,O.y,_*k,B*I,t.rotation),z=Object(R.y)(O,U,-o);L.x=Math.round((z.x-(k<0?_:0))/p),L.y=Math.round((z.y-(I<0?B:0))/p),L.width=Math.round(_/p),L.height=Math.round(B/p),qc(r)&&(Jc(a.scaleType)?(L.scale=t.scale*w,delete L.width):L.width/=t.scale,delete L.height),h&&function(e,t,n,a,r,o,i){var l=i.x/r,s=i.y/r,c=i.height/r,u=i.width/r,d=(a.x-l)*(c/u),p=(a.y-s)*(u/c),f=(s+c-a.y-a.height)*(u/c),h=(l+u-a.x-a.width)*(c/u),m=e;switch(o){case me.a.TOP_LEFT:m.x>a.x&&(m.width+=m.x-a.x,m.x=a.x,m.height=c-d,m.y=s+d),m.y>a.y&&(m.height+=m.y-a.y,m.y=a.y,m.width=u-p,m.x=l+p);break;case me.a.TOP_RIGHT:m.y>a.y&&(m.height+=m.y-a.y,m.y=a.y,m.width=u-p),t+m.width<a.x+a.width&&(m.width=a.x+a.width-t,m.height=c-h,m.y=s+h);break;case me.a.BOTTOM_RIGHT:t+m.width<a.x+a.width&&(m.width=a.x+a.width-t,m.height=c-h),n+m.height<a.y+a.height&&(m.height=a.y+a.height-n,m.width=u-f);break;case me.a.BOTTOM_LEFT:n+m.height<a.y+a.height&&(m.height=a.y+a.height-n,m.width=u-f,m.x=l+f),m.x>a.x&&(m.width+=m.x-a.x,m.x=a.x,m.height=c-d)}m.x=Math.round(m.x),m.y=Math.round(m.y),m.width=Math.round(m.width),m.height=Math.round(m.height)}(L,i,l,m,p,a.scaleType,a.startPos);var G=L;if(Jc(a.scaleType)){if(Yc(r)&&(L.width<Vc||L.height<Vc))return;var F=!0,W=!1,V=void 0;try{for(var q,K=u[Symbol.iterator]();!(F=(q=K.next()).done);F=!0){var Y=q.value;if(qc(Y.layerType)||Kc(Y.layerType)){var X=a.startPos.elementsData[Y.id];if(a.calculateNewFontSize(Y,X.width*w)<Uc)return}else if(a.minimumSizeReached(Y,L,s,c))return}}catch(e){W=!0,V=e}finally{try{!F&&K.return&&K.return()}finally{if(W)throw V}}}var Z=[],J=function(e){var n=void 0,o=a.startPos.elementsData[e.id],i=e.layerType,l=qc(i),s=Kc(i);if(Yc(r)){var c=o.x,u=o.y,d=o.width,f=o.height,m=o.scale,b=void 0===m?1:m,g=a.startPos,v=g.x,E=g.y;n={x:((c-v)*w+v)/p,y:((u-E)*T+E)/p},l&&Jc(a.scaleType)?n.scale=b*w/p:Object.assign(n,{width:d*w/p,height:f*T/p})}else n=G,s&&Jc(a.scaleType)?n=a.buttonResizing(e,n):l&&(n=a.textResizing(e,n));if(Jc(a.scaleType)&&o.border&&!y&&!h){var S=e.border.toJS();S.weight=Object(Ki.a)(Math.round(o.border.weight*w/p),Gc,Pc.a[i.toUpperCase()]),n.border=S}!h&&Xc(e.layerType)&&(n.cropData=Object(We.a)(t.elements.find((function(t){return t.id===e.id})),n,a.scaleType)),Z.push({id:e.id,props:n,snapData:P})},Q=!0,$=!1,ee=void 0;try{for(var te,ne=u[Symbol.iterator]();!(Q=(te=ne.next()).done);Q=!0){J(te.value)}}catch(e){$=!0,ee=e}finally{try{!Q&&ne.return&&ne.return()}finally{if($)throw ee}}a.ratioW=w,a.ratioH=T,d(Z,{cropElementId:h,isCtrl:v,isShift:y,prevCropData:{x:m.x,y:m.y}})},a.onScaleMouseUp=function(e){document.removeEventListener("contextmenu",a.preventDefault,!1);var t=[],n=a.props,r=n.onResize,o=n.onStopResizing,i=n.elements,l=n.cropElementId,s=a.getSnapData();l||(i.forEach((function(e){var n={x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)};if(t.push({id:e.id,props:n,snapData:s}),qc(e.layerType)){var r=a.cloneElements[e.id];r&&(a.refStage.removeChild(r),delete a.cloneElements[e.id])}})),r(t,e.ctrlKey||e.metaKey)),a.startPos={},a.scaleType=null,a.ratioW=1,a.ratioH=1,a.slideRef=null,a.refElements={},a.cloneElements={},document.body.style.userSelect="auto",window.removeEventListener("mousemove",a.onScaleMouseMove),window.removeEventListener("mouseup",a.onScaleMouseUp,!0),e.stopPropagation(),a.resizing=!1,o()},a.setTransformCenterPositions=function(){var e=a.refTransform.getBoundingClientRect();a.center={x:e.left+e.width/2,y:e.top+e.height/2}},a.setRefTransform=function(e){a.refTransform=e},a.getElementCommonDataObj=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.rotation,l=e.scale,s=void 0===l?1:l,c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=c?a.props.zoom:1;return{x:t*u,y:n*u,width:r*s*u,height:o*s*u,rotation:parseInt(i)||0}},a.preventDefault=function(e){e.preventDefault()},a.initTextResize=function(e){var t=e.id,n=a.slideRef.querySelectorAll("[data-element-id='"+t+"']"),r=document.body.querySelectorAll("[data-stage]");if(n.length&&(n=_c(n,1)[0],r=_c(r,1)[0],a.refStage=r,!Jc(a.scaleType))){var o=n.querySelectorAll("[data-element-text]");if(!o.length)return;var i=_c(o,1);a.refElements[t]=i[0];var l=o[0].cloneNode(!0);a.appendHiddenCloneToStage(l),a.cloneElements[t]=l}},a.appendHiddenCloneToStage=function(e){var t=e;t.style.opacity="0",t.style.height="auto",t.style.minHeight="1px",t.style.position="absolute",t.style.top="-10000px",t.style.left="-10000px",a.refStage.appendChild(t)},a.textResizing=function(e,t){var n=e.id;if(!a.cloneElements[n])return t;var r=a.cloneElements[n],o=t,i=a.props.zoom;if(!Jc(a.scaleType)){r.style.width=o.width+"px",r.style.fontSize=e.fontSize+"px";var l=a.startPos.elementsData[n],s=l.height,c=l.scale,u=l.rotation,d=Object.assign({},o,{width:e.width*c,height:s/i,rotation:u}),p=Object(R.s)(d);o.height=r.offsetHeight;var f=o.height*c/i,h=Object(R.p)(p[0].x,p[0].y,d.width,f,u),m=Object(R.y)(p[0],h,-u);o.x=m.x,o.y=m.y}return o},a.buttonResizing=function(e,t){var n=e.id,r=a,o=r.startPos,i=r.ratioW,l=r.ratioH,s=r.calculateNewFontSize,c=a.props.zoom,u=Object.assign({},t),d=e.labelStyle.toJS();d.fontSize=s(e,u.width*c),u.labelStyle=d;var p=o.elementsData[n],f=p.dropShadow,h=p.labelShadow,m=e.dropShadow.toJS();m.hShadow=Math.round(f.hShadow*i)/c,m.vShadow=Math.round(f.vShadow*l)/c,m.spread=Math.round(f.spread*l),m.hShadow=m.hShadow>100?100:m.hShadow,m.vShadow=m.vShadow>100?100:m.vShadow,u.dropShadow=m;var b=e.labelShadow.toJS();return b.hShadow=Math.round(h.hShadow*i),b.vShadow=Math.round(h.vShadow*l),u.labelShadow=b,u},a.calculateNewFontSize=function(e,t){var n=e.id,r=a.startPos.elementsData;if(!r[n])return e.fontSize;var o=r[n],i=o.fontSize,l=o.width,s=o.scale,c=void 0===s?1:s;return Math.round(i*c*t/l/a.props.zoom)},a.minimumSizeReached=function(e,t,n,a){return(e.width<Fc||e.height<Wc)&&(t.width<n||t.height<a)},Hc(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Bc(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDownHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDownHandler)}},{key:"getSnapData",value:function(){var e=this.startPos,t=e.x,n=e.y,a=e.width,r=e.height,o=e.rotation,i=this.props.zoom,l={x:t/i,y:n/i,width:a/i,height:r/i,rotation:o},s=Object(R.s)(l),c=void 0;switch(this.scaleType){case me.a.TOP_LEFT:case me.a.TOP_CENTER:c=s[2];break;case me.a.TOP_RIGHT:c=s[3];break;case me.a.BOTTOM_LEFT:case me.a.MIDDLE_LEFT:c=s[1];break;case me.a.BOTTOM_RIGHT:case me.a.MIDDLE_RIGHT:case me.a.BOTTOM_CENTER:default:c=s[0]}var u={refPoint:c,changed:{}};switch(this.scaleType){case me.a.BOTTOM_RIGHT:u.changed.bottom=!0,u.changed.right=!0;break;case me.a.MIDDLE_RIGHT:u.changed.right=!0;break;case me.a.BOTTOM_CENTER:u.changed.bottom=!0;break;case me.a.TOP_LEFT:u.changed.top=!0,u.changed.left=!0;break;case me.a.TOP_CENTER:u.changed.top=!0;break;case me.a.MIDDLE_LEFT:u.changed.left=!0;break;case me.a.TOP_RIGHT:u.changed.top=!0,u.changed.right=!0;break;case me.a.BOTTOM_LEFT:u.changed.bottom=!0,u.changed.left=!0}return u}},{key:"render",value:function(){var e=this.props,t=e.zoom,n=e.x,a=e.y,r=e.width,o=e.height,i=e.rotation,l=e.scale,s=e.visible,c=e.layerType,u=e.dragging,d=e.cropElementId,p=e.cropData,f=e.elements,h=void 0;return f&&f.size&&(h=f.first().locked),E.a.createElement(Ac,{x:n,y:a,width:parseInt(r),height:parseInt(o),zoom:t,rotation:i,scale:l,dragging:u,visible:s,layerType:c,model:this.model,onRotateMouseDown:this.onRotateMouseDown,onScaleMouseDown:this.onScaleMouseDown,setRefTransform:this.setRefTransform,locked:h,cropMode:!!d,cropData:p})}}]),t}(v.Component);Qc.propTypes={getSlideRef:y.a.func.isRequired,x:y.a.number,y:y.a.number,width:y.a.number,height:y.a.number,rotation:y.a.number,scale:y.a.number,elements:y.a.instanceOf(b.List),layerType:y.a.string,visible:y.a.bool,zoom:y.a.number,stageScroll:y.a.instanceOf(ja.a),dragging:y.a.bool,onStartRotating:y.a.func.isRequired,onStopRotating:y.a.func.isRequired,onRotate:y.a.func.isRequired,onResize:y.a.func.isRequired,onMove:y.a.func.isRequired,onStartResizing:y.a.func.isRequired,onStopResizing:y.a.func.isRequired,cropElementId:y.a.number,cropData:y.a.shape({x:y.a.number,y:y.a.number,width:y.a.number,height:y.a.number})},Qc.defaultProps={x:0,y:0,width:0,height:0,rotation:0,scale:1,elements:null,zoom:1,stageScroll:null,layerType:null,visible:!1,dragging:!1,cropElementId:null,cropData:null};var $c=Qc,eu=n(809),tu=Object(a.c)((function(e,t){var n=e.bannerCreator.editor,a=n.banner.selectedLayers,r=n.stage,o=r.stageScroll,i=r.zoom,l=r.cropElementId,s=r.dragging;if(!a.size)return{visible:!1};if(Object(eu.a)(e))return{visible:!1};var c=Object(D.a)(e),u=Object(j.a)(e),d=u.x,p=u.y,f=u.width,h=u.height,m=u.rotation,b=u.scale,g=c.size>1?H.b.MIXED:c.get(0).layerType,y={},v=Object(to.a)();if(l){var E=v(e,l);y={x:d,y:p,width:f,height:h};var S=E.element.cropData;d=S.x,p=S.y,f=S.width,h=S.height,d=E.element.x+d,p=E.element.y+p}return{x:d,y:p,width:f,height:h,rotation:l?0:m,scale:b,elements:c,stageScroll:o,zoom:i,layerType:g,getSlideRef:t.getSlideRef,visible:!0,dragging:s,cropElementId:l,cropData:y}}),(function(e){return{onStartRotating:function(){e(Object(d.r)())},onStopRotating:function(){e(Object(d.y)())},onRotate:function(t,n){var a=[],r=!0,o=!1,i=void 0;try{for(var l,c=t[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;a.push({id:u.id,props:{rotation:n}})}}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}e(Object(s.G)(a))},onResize:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.cropElementId,r=n.isCtrl,o=n.isShift,i=n.prevCropData,l=Object(Lc.a)(t);if(a){var c=l[0].props;c.x-=i.x,c.y-=i.y,l[0].props={},l[0].props.cropData=c}e(Object(s.G)(l,{snap:!r,shift:o}))},onMove:function(t){e(Object(s.G)(t))},onStartResizing:function(){e(Object(d.q)())},onStopResizing:function(){e(Object(d.x)())}}}))($c),nu=n(588),au=n.n(nu),ru=n(651),ou=n(1455),iu=n.n(ou),lu=n(803),su=n(701),cu=n(615),uu=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function du(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var pu=m.a.bind(iu.a),fu=lu.a.UPLOAD_MAX_SIZE,hu=su.a.UPLOAD_PSD_MAX_SIZE,mu=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=du(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onDragLeave=function(e){a.props.hideStageDropzone(),e.preventDefault()},a.onDropzoneDrop=function(e,t){a.props.onFilesDrop(e,t)},du(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),uu(t,[{key:"render",value:function(){var e=this.props.dropzoneVisible,t=e?E.a.createElement("div",{className:iu.a.dropzoneContent,key:"dropzoneContent"},E.a.createElement("div",{className:iu.a.uploadIcon},cu.b),E.a.createElement("p",{className:pu(iu.a.text,iu.a.uploadImageText)},N.a.uploadOnStage),E.a.createElement("p",{className:pu(iu.a.text,iu.a.uploadMultipleText)},N.a.youCanDropSinglePsdFileOrMultipleImages)):null;return E.a.createElement("span",null,E.a.createElement("div",{className:pu(iu.a.dropzoneContainer,{dropzoneVisible:e})}),E.a.createElement("div",null,E.a.createElement(al.CSSTransitionGroup,{transitionName:{enter:iu.a.enter,enterActive:iu.a.enterActive,leave:iu.a.leave,leaveActive:iu.a.leaveActive},transitionEnterTimeout:0,transitionLeaveTimeout:0},t)),E.a.createElement(au.a,{className:pu(iu.a.dropzone,{dropzoneVisible:e}),onDragLeave:this.onDragLeave,onDrop:this.onDropzoneDrop,multiple:!0,accept:ru.a+","+ru.b,disableClick:!0,maxSize:Math.max(fu,hu)}))}}]),t}(v.Component);mu.propTypes={dropzoneVisible:y.a.bool.isRequired,hideStageDropzone:y.a.func.isRequired,onFilesDrop:y.a.func.isRequired};var bu=mu,gu=n(455),yu=Object(a.c)((function(e){return{dropzoneVisible:e.bannerCreator.editor.stage.dropzoneVisible}}),(function(e){return{hideStageDropzone:function(){e(Object(d.g)(!1))},onFilesDrop:function(t,n){e(Object(gu.G)(t,n,{placement:zt.a.STAGE}))}}}))(bu),vu=n(966),Eu=n(641),Su="Power3.easeOut",Ou=n(642),Cu=n(1025),wu=n(1165),Tu=n(1153),ku=n(1160),Iu=n(678),Lu=n(1098),Pu=n(834),Mu=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ru=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Mu(t,[{key:"render",value:function(){var e=this.props,t=e.bannerStatus,n=e.allowSaveAs,a=e.saveStatus,r=e.onClickHandler,o=e.allowSaveToMyAccount,i={normalState:[{value:"saveButton",text:N.a.save}],savingState:N.a.saving+"...",savedState:N.a.saved};o&&i.normalState.push({value:"saveToMyAccount",text:N.a.saveToMyAccount}),"temp"!==t&&n&&i.normalState.push({value:"saveAsNewButton",text:N.a.saveAs});var l=a===Pu.a.SAVE||a===Pu.a.SAVE_ERROR?Pu.a.NORMAL:a;return E.a.createElement(Lu.a,{buttons:i,saveStatus:l,onButtonClick:r})}}]),t}(v.Component);Ru.propTypes={bannerStatus:y.a.string.isRequired,saveStatus:y.a.string.isRequired,allowSaveAs:y.a.bool,allowSaveToMyAccount:y.a.bool,onClickHandler:y.a.func},Ru.defaultProps={allowSaveToMyAccount:!1,allowSaveAs:!0,onClickHandler:function(){}};var xu=Ru,Du=n(582),ju=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=t.banner.banner,a=t.general.savingState,i=Object(o.a)(e).bmSaveAs;return{bannerStatus:n.status,saveStatus:a,allowSaveAs:i===r.a.YES,allowSaveToMyAccount:!Object(Du.a)(e)}}),(function(e){return{onClickHandler:function(t){e(Object(Iu.e)(t))}}}))(xu),Nu=n(869),Au=E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},E.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),E.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),_u=n(1458),Bu=n.n(_u),Hu=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Uu=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Hu(t,[{key:"render",value:function(){var e=this.props,t=e.cropElementId,n=e.onClose,a=e.onSave;return E.a.createElement(E.a.Fragment,null,E.a.createElement("div",{className:Bu.a.save},E.a.createElement(on.a,{icon:Nu.a,label:N.a.crop,size:Z.a.NORMAL,skin:S.a.GREEN_CROP,disabled:!1,alignContent:_t.a.LEFT,onClickHandler:function(){return a(t)}})),E.a.createElement("div",{className:Bu.a.close},E.a.createElement(on.a,{icon:Au,label:N.a.cancel,size:Z.a.NORMAL,skin:S.a.GREY_CROP,disabled:!1,alignContent:_t.a.LEFT,onClickHandler:function(){return n(t)}})))}}]),t}(v.Component);Uu.propTypes={cropElementId:y.a.number,onSave:y.a.func,onClose:y.a.func},Uu.defaultProps={cropElementId:null,onSave:function(){},onClose:function(){}};var zu=Uu,Gu=Object(a.c)((function(e){return{cropElementId:e.bannerCreator.editor.stage.cropElementId}}),(function(e){return{onSave:function(t){e(Object(d.e)(t))},onClose:function(t){e(Object(d.a)(t))}}}))(zu),Fu=n(1161),Wu=n(1460),Vu=n.n(Wu),qu=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ku=m.a.bind(Vu.a),Yu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loadPrevBanner=function(){return n.props.loadSelectedJson(null,-1)},n.loadNextBanner=function(){return n.props.loadSelectedJson(null,1)},n.refAddFile=E.a.createRef(),n.refUndoRedo=E.a.createRef(),n.refPlayButton=E.a.createRef(),n.refZoom=E.a.createRef(),n.refSaveFile=E.a.createRef(),n.animationTimelineStage=new vu.TimelineLite({delay:1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),qu(t,[{key:"componentDidMount",value:function(){var e=this.refAddFile.current,t=this.refUndoRedo.current,n=this.refPlayButton.current,a=this.refZoom.current,r=this.refSaveFile.current;if(e&&t&&n&&r){var o={opacity:0,transform:"translateY(-48px)",ease:Su,delay:"-0.15"};this.animationTimelineStage.from(e,.3,o).from(t,.3,o).from(n,.3,o).from(a,.3,o).from(r,.3,o)}}},{key:"render",value:function(){var e=this.props,t=e.mode,n=e.onToggleCollapsedTimeline,a=e.timelineCollapsed,r=e.timelineEnabled,o=e.getRefStageContainer,i=e.onFocusModeExit,l=e.cropElementId,s=e.itemsArray,c=e.loadSelectedJson,u=e.selectedHash,d=e.prevBannerDisabled,p=e.nextBannerDisabled,f=E.a.createElement("div",{className:Vu.a.iconBorder}),h=t===k.a.GENERATOR,m=null,b=h?E.a.createElement("div",{className:Vu.a.focusModeInfo},E.a.createElement(St.a,{icon:Ou.a,skin:S.a.WHITE_BLUE,size:Z.a.MEDIUM,iconSize:Z.a.MEDIUM,onClick:i,style:{width:"32px",height:"32px"}}),E.a.createElement("div",{className:Vu.a.tipContent},E.a.createElement(q.a,{items:s,value:u,ellipsis:!0,darkerGrey:!0,size:Z.a.MEDIUM,onChange:c,autoHide:!1,hideScrollWhenNotNeeded:!0}))):null;return h&&r?m=E.a.createElement("div",{className:Vu.a.rightContent},E.a.createElement(z.b,{placement:Pe.a.LEFT,skin:S.a.GREY,title:a?N.a.showTimeline:N.a.hideTimeline},E.a.createElement("div",{className:Ku("timelineToggle",{timelineVisible:!a}),onClick:n},E.a.createElement(ui.a,{size:Z.a.LMEDIUM},Cu.a),E.a.createElement("span",null,N.a.timeline))),E.a.createElement("div",{className:Vu.a.stepper},E.a.createElement("div",{className:Vu.a.separator}),E.a.createElement(z.b,{title:N.a.previousStep,placement:_t.a.BOTTOM,skin:S.a.GREY},E.a.createElement("div",{className:Vu.a.prev},E.a.createElement(St.a,{icon:Gn.a.previousStep,size:Z.a.XLARGE,skin:S.a.BACKGROUND_GREY,disabled:d,onClick:this.loadPrevBanner}))),E.a.createElement(z.b,{title:N.a.nextStep,placement:_t.a.BOTTOM,skin:S.a.GREY},E.a.createElement("div",{className:Vu.a.next},E.a.createElement(St.a,{icon:Gn.a.nextStep,size:Z.a.XLARGE,skin:S.a.BACKGROUND_GREY,disabled:p,onClick:this.loadNextBanner}))))):h||(m=E.a.createElement("div",{className:Vu.a.saveFileButton,ref:this.refSaveFile},E.a.createElement(ju,null))),l?E.a.createElement("div",{className:Vu.a.stageMenu,"data-qa":_r.v},E.a.createElement(Eu.a,{style:{padding:"8px"}},E.a.createElement(Gu,null))):E.a.createElement("div",{className:Vu.a.stageMenu,"data-qa":_r.v},E.a.createElement(Eu.a,{style:{padding:"8px"}},E.a.createElement("div",{style:{display:"flex"}},b,E.a.createElement(ku.a,null)),E.a.createElement("div",{className:Vu.a.center},E.a.createElement("span",{ref:this.refUndoRedo},E.a.createElement(Fu.a,null)),f,E.a.createElement("div",{className:Vu.a.iconDiv,ref:this.refPlayButton},E.a.createElement(Tu.a,null)),f,E.a.createElement("div",{className:Vu.a.zoomContainer,ref:this.refZoom},E.a.createElement(wu.a,{getStageContainerRef:o}))),m))}}]),t}(v.Component);Yu.propTypes={mode:y.a.oneOf([k.a.CHOOSE_EDITOR,k.a.GENERATOR,k.a.EDITOR]),prevBannerDisabled:y.a.bool.isRequired,nextBannerDisabled:y.a.bool.isRequired,selectedHash:y.a.oneOfType([y.a.string,y.a.number]).isRequired,itemsArray:y.a.arrayOf(y.a.shape({text:y.a.oneOfType([y.a.string,y.a.number]),value:y.a.oneOfType([y.a.string,y.a.number])})).isRequired,loadSelectedJson:y.a.func,onToggleCollapsedTimeline:y.a.func,onFocusModeExit:y.a.func,timelineCollapsed:y.a.bool,timelineEnabled:y.a.bool,getRefStageContainer:y.a.func,cropElementId:y.a.number},Yu.defaultProps={mode:k.a.EDITOR,onToggleCollapsedTimeline:C.a,loadSelectedJson:function(){},onFocusModeExit:C.a,timelineCollapsed:!0,timelineEnabled:!0,getRefStageContainer:C.a,cropElementId:null};var Xu=Yu,Zu=n(1020),Ju=Object(de.createSelector)([function(e){return e.bannerCreator.generator.jsons.current},Zu.a,function(e){return e.bannerCreator.editor.banner}],(function(e,t,n){var a=be.a.PX;return e.map((function(e){var r=n.banner.measureUnit,o=n.hash,i=e.hash,l=e.banner,s=l.width,c=l.height,u=e.banner.measureUnit,d=t[i].label;i===o&&u!==r&&(u=r);var p=+Object(Se.b)(Object(Se.a)(a,u,s),we.a[u]),f=+Object(Se.b)(Object(Se.a)(a,u,c),we.a[u]);return d.length>=28&&(d=d.substring(0,17)+"..."),{text:(d?d+" -":"")+" "+p+" x "+f+" "+(u||a),value:i}}))})),Qu=Object(a.c)((function(e){var t=e.bannerCreator,n=t.app.mode,a=t.editor,r=a.timeline.collapsed,i=a.stage.cropElementId,l=a.banner.hash,s=t.generator,c=s.jsons.current,u=s.focusMode.jsonIndex,d=Object(o.a)(e).bmTimeline;return{timelineCollapsed:r,timelineEnabled:Object(Fr.a)(d),mode:n,itemsArray:Ju(e).toJS(),jsonIndex:u,selectedHash:l,prevBannerDisabled:0===u,nextBannerDisabled:u+1===c.size,cropElementId:i}}),(function(e){return{loadSelectedJson:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e(Object(s.h)(t,n))},onToggleCollapsedTimeline:function(){e(Object(f.n)())},onFocusModeExit:function(){e(Object(i.b)(-1))}}}))(Xu),$u=n(907),ed=n(1461),td=n.n(ed),nd=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ad=m.a.bind(td.a),rd={noMetaKey:[O.a.f,O.a.t,O.a.b,O.a.l,O.a.a,O.a.s,O.a.backspace,O.a.delete,O.a.up,O.a.down,O.a.left,O.a.right],withMetaKey:[O.a.backspace,O.a.delete,O.a.up,O.a.down,O.a.left,O.a.right,O.a.g,O.a.c,O.a.x]},od=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onScrollHandler=function(t){var n=e.props.onScrollHandler,a=e.refStageElements.getBoundingClientRect();n(t,{x:a.x,y:a.y,width:a.width,height:a.height,top:a.top,bottom:a.bottom,left:a.left,right:a.right}),e.prevScrollValues=t},e.onDragOver=function(e){e.preventDefault()},e.onDragEnter=function(t){var n=t.dataTransfer;n.types&&(n.types.indexOf?-1!==n.types.indexOf("Files"):n.types.contains("Files"))&&e.props.showStageDropzone(),t.preventDefault()},e.onMouseUp=function(t){var n=e.props,a=n.isLayerDragging,r=n.onDraggingLayerDrop,o=n.draggingTextPresetHash;a&&r(e.getDropPosition(t),{draggingTextPresetHash:o})},e.onDoubleClick=function(t){var n=e.props,a=n.selectedSlideHasAnimatedElements,r=n.onDoubleClickHandler,o=n.exitFocusMode,i=document.getElementById("playSlideButton");a&&i&&!i.contains(t.target)&&r(),t.target&&"1"!==t.target.dataset.slide&&t.target.dataset.stage&&o()},e.onStagePanMouseDown=function(t){e.state.isSpaceBarPressed&&(e.currentClick={clientX:t.clientX,clientY:t.clientY,scrollArea:e.refScrollArea.getValues()},window.addEventListener("mousemove",e.onStagePanMouseMove),window.addEventListener("mouseup",e.onStagePanMouseUp),t.stopPropagation())},e.onStagePanMouseMove=function(t){var n=e.currentClick,a=n.scrollArea,r=n.clientY,o=n.clientX,i=a.scrollHeight,l=a.scrollWidth,s=a.clientWidth,c=a.clientHeight,u=a.scrollTop+r-t.clientY,d=i-c,p=a.scrollLeft+o-t.clientX,f=l-s;p=p>f?f:p,u=u>d?d:u,parseInt(p)===parseInt(a.scrollLeft)&&parseInt(u)===parseInt(a.scrollTop)||(e.isStagePan=!0,e.refScrollArea.scrollLeft(p),e.refScrollArea.scrollTop(u)),t.preventDefault()},e.onStagePanMouseUp=function(){window.removeEventListener("mousemove",e.onStagePanMouseMove),window.removeEventListener("mouseup",e.onStagePanMouseUp)},e.onKeyDown=function(t){var n=e.props,a=n.allowIBShortcuts,r=n.hasSelectedElements,o=n.savePopinVisible,i=n.mode,l=n.exitFocusMode,s=n.previewBannerPopinVisible,c=n.shortcutsDisabled,u=n.popinVisible,d=n.onUndo,p=n.onRedo,f=n.zoom,h=n.setStageZoom,m=n.fitToStage,b=n.width,g=n.height,y=n.stageScroll,v=n.selectedElements,E=n.onDuplicateSelectedElements,S=n.onCopySelectedElements,C=n.onPasteElements,T=n.onSelectAllElements,I=n.onCutSelectedElements,R=n.overlayIsSelected,x=n.selectedElementsSize,D=n.onlyOneGroupSelected,j=n.onGroupUngroupSelectedElements,N=n.onDeleteSelectedElements,A=n.rulerVisible,_=n.onSetRulerVisibility,B=n.timelineCollapsed,H=n.hasTransitionsAccess,U=n.onChangeInspectorBarTab,z=n.hasTimelinePanelOpened,G=n.isDragging,F=n.hideBuildPanel,W=n.deselectAllLayers,V=n.shakeLockedElementIcon,q=n.lockIconShaking,K=n.iconsForSelectedElements;e.spacebarPressTime+=1;var Y=v.some((function(e){return e.locked})),X=t.ctrlKey||t.metaKey,Z=X?rd.withMetaKey:rd.noMetaKey;if(t.keyCode!==O.a.space||"text"===t.target.type||o||!a&&r||"textarea"===t.target.nodeName.toLowerCase()||(e.setState({isSpaceBarPressed:!0}),t.preventDefault()),Y&&Z.includes(t.keyCode)&&!Object(M.s)(t))return q||(V(!0),setTimeout((function(){V(!1)}),500)),void t.preventDefault();if(!c&&!u){t.keyCode!==O.a.escape||s||Object(M.s)(t)||c||(z?F():x?W():i===k.a.GENERATOR&&l());var J=t.which,Q=y.clientWidth,$=y.clientHeight;if(X){if(G||J!==O.a.z||Object(M.s)(t)||(t.shiftKey?p():d(),t.preventDefault()),J!==O.a.y||Object(M.s)(t)||(p(),t.preventDefault()),(J===O.a.plusLeft||J===O.a.plusRight||J===O.a.plusMozilla)&&!Object(M.s)(t)){var ee=Object(w.a)(f);ee&&h(ee,!1),t.preventDefault()}if((J===O.a.minusRight||J===O.a.minusLeft||J===O.a.minusMozilla)&&!Object(M.s)(t)){var te=Object(w.b)(f);te&&h(te,!1),t.preventDefault()}if(J!==O.a.zero&&J!==O.a.num0||Object(M.s)(t)||(h(1,!1),t.preventDefault()),J!==O.a.or&&J!==O.a.eight||m||Object(M.s)(t))J===O.a.eight&&t.preventDefault();else h(Object($u.a)(b,g,Q,$),!0),t.preventDefault();if(J===O.a.d&&v.size&&(E(),t.preventDefault()),J===O.a.c){if(Object(M.s)(t))return;S()}if(J===O.a.v){if(Object(M.s)(t))return;C()}if(J===O.a.x){if(Object(M.s)(t))return;I()}if(J===O.a.a){if(Object(M.s)(t))return;T(),t.preventDefault()}if(J===O.a.g){if(x<2||R)return;(!D&&!t.shiftKey||D&&t.shiftKey)&&j(),t.preventDefault()}}if(t.keyCode===O.a.delete||t.keyCode===O.a.backspace){if(Object(M.s)(t))return;N(),t.preventDefault()}if(!X&&t.shiftKey&&J===O.a.r){if(Object(M.s)(t))return;_(!A)}var ne=null===t.target.getAttribute("data-allow-shortcuts")||!!t.target.getAttribute("data-allow-shortcuts")&&1===t.target.children.length;if(v.size&&!X&&!s&&(!Object(M.s)(t)||a)&&"input"!==t.target.nodeName.toLowerCase()&&"textarea"!==t.target.nodeName.toLowerCase()&&ne){var ae=K;t.keyCode===O.a.f&&ae.includes(P.a.iconNames.color)&&U(P.a.iconNames.color),t.keyCode===O.a.t&&ae.includes(P.a.iconNames.text)&&U(P.a.iconNames.text),t.keyCode===O.a.b&&ae.includes(P.a.iconNames.border)&&U(P.a.iconNames.border),t.keyCode===O.a.l&&ae.includes(P.a.iconNames.layers)&&U(P.a.iconNames.layers),t.keyCode===O.a.s&&ae.includes(P.a.iconNames.transition)&&B&&(L.b?H&&U(P.a.iconNames.transition):U(P.a.iconNames.transition)),t.keyCode===O.a.a&&ae.includes(P.a.iconNames.action)&&U(P.a.iconNames.action)}}},e.onKeyUp=function(t){t.keyCode===O.a.space&&e.setState({isSpaceBarPressed:!1});var n=e.props,a=n.stopSlide,r=n.playSlide,o=n.playingSlide,i=n.timelineEnabled,l=n.selectedSlideHasAnimatedElements,s=n.inUse,c=n.isCropMode,u=n.timelineCollapsed,d=n.cropElementId,p=n.onEscCropMode,f=n.onSaveCropMode,h=n.canExitCropMode;e.isStagePan?(e.isStagePan=!1,t.preventDefault()):!Object(M.s)(t)&&l&&i&&!u&&e.spacebarPressTime<2&&!s&&!c&&(!o||t.which!==O.a.space&&t.which!==O.a.escape?t.which===O.a.space&&(r(),t.preventDefault()):(a(),t.preventDefault())),d&&h&&(t.keyCode===O.a.escape&&p(d),t.keyCode===O.a.enter&&f(d)),e.spacebarPressTime=0},e.getRefStageElements=function(){return e.refStageElements},e.getRefStageContainer=function(){return e.refStageContainer.current},e.deselectLayers=function(t){t.target&&t.target.parentNode&&t.target.parentNode.parentNode&&t.target.parentNode.parentNode.hasAttribute("data-deselect-layers")&&e.props.deselectAllLayers()},e.wheelHandler=function(t){var n=e.props,a=n.zoom,r=n.setStageZoom,o=n.inUse,i=n.isCropMode;if((t.ctrlKey||t.metaKey)&&(t.preventDefault(),!o&&!i)){var l=void 0;(l=1!==Math.sign(t.deltaY)?Object(w.a)(a):Object(w.b)(a))&&r(l)}},e.checkScrollArea=function(){e.refScrollArea&&e.prevScrollValues&&(e.refStageContainer.current.offsetWidth===e.prevScrollValues.clientWidth&&e.refStageContainer.current.offsetHeight===e.prevScrollValues.clientHeight||(e.refScrollArea.forceUpdate(),e.onScrollHandler(e.refScrollArea.getValues())))},e.dragDrop=function(t){t.stopPropagation(),t.preventDefault();var n=e.props,a=n.zoom,r=n.onItemDragDrop,o=n.slideCount;if(t.dataTransfer&&t.dataTransfer.getData("modelData")){var i=JSON.parse(t.dataTransfer.getData("modelData")),l=e.getDropPosition(t);i.modelAttributes.x=Math.round((l.x-i.mouseOffset.left)/a),i.modelAttributes.y=Math.round((l.y-i.mouseOffset.top)/a),r(i.layerType,i.modelAttributes,o,i.isBlocked)}},e.state={isSpaceBarPressed:!1},e.spacebarPressTime=0,e.isStagePan=!1,e.refStageContainer=E.a.createRef(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),nd(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){if(e.refScrollArea&&e.refStageElements){e.refScrollArea.centerScroll();var t=e.refStageElements.getBoundingClientRect(),n=t.x,a=t.y,r=t.width,o=t.height,i=t.top,l=t.bottom,s=t.left,c=t.right;e.props.onComponentDidMount(e.refScrollArea.getValues(),{x:n,y:a,width:r,height:o,top:i,bottom:l,left:s,right:c})}}),100),this.checkScrollAreaInterval=setInterval(this.checkScrollArea,500),document.addEventListener("wheel",this.wheelHandler,{passive:!1}),document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.onKeyUp,!1),document.addEventListener("click",this.deselectLayers,!1)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.timelineCollapsed,a=t.timelineHeight;this.showHeightTransition=n!==e.timelineCollapsed||a<I.a.MENU_HEIGHT}},{key:"componentDidUpdate",value:function(e){if(this.refScrollArea){var t=this.props,n=t.width,a=t.height,r=t.zoom,o=t.fitToStage,i=t.onSetStageMetrics,l=e.width,s=e.height,c=e.zoom,u=e.fitToStage,d=this.refStageElements.getBoundingClientRect(),p=d.width,f=d.height,h=this.refScrollArea.getValues(),m=this.prevScrollValues,b=this.refScrollArea;if(c===r&&l===n&&s===a||i(this.refStageElements.getBoundingClientRect()),l!==n||s!==a||u!==o&&o||this.prevStageElemHeight!==f||this.prevStageElemWidth!==p)this.prevStageElemWidth=p,this.prevStageElemHeight=f,this.refScrollArea.centerScroll();else{if(this.minValues&&this.prevMinValues&&this.prevScrollValues&&(this.minValues.minWidth!==this.prevMinValues.minWidth||this.minValues.minHeight!==this.prevMinValues.minHeight)){var g=m.scrollLeft+(h.scrollWidth-m.scrollWidth)/2;b.scrollLeft(g);var y=m.scrollTop+(h.scrollHeight-m.scrollHeight)/2;b.scrollTop(y)}if(c!==r&&m){var v=(h.scrollWidth-h.clientWidth)*m.left+(.5-m.left)*((h.scrollWidth-m.scrollWidth)/2);b.scrollLeft(v);var E=(h.scrollHeight-h.clientHeight)*m.top+(.5-m.top)*((h.scrollHeight-m.scrollHeight)/2);b.scrollTop(E)}}this.prevMinValues=this.minValues,this.prevScrollValues=h}}},{key:"componentWillUnmount",value:function(){clearInterval(this.checkScrollAreaInterval),document.removeEventListener("keydown",this.onKeyDown,!1),document.removeEventListener("keyup",this.onKeyUp,!1),document.removeEventListener("wheel",this.wheelHandler),document.removeEventListener("click",this.deselectLayers,!1)}},{key:"getDropPosition",value:function(e){var t=this.refStageElements.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}},{key:"getMinStageValues",value:function(){var e=this.props,t=e.elements,n=e.width,a=e.height,r=e.cropElementId,o={top:0,left:0,right:0,bottom:0},i=!0,l=!1,s=void 0;try{for(var c,u=t[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value,p=d.id,f=d.x,h=d.y,m=d.rotation,b=d.cropData,g=void 0;g=r===p&&b?Object.assign({},{x:f+b.x,y:h+b.y,width:b.width,height:b.height,rotation:m}):d;var y=Object(R.s)(g),v=0;m>90&&m<=180?v=3:m>180&&m<=270?v=2:m>270&&m<=360&&(v=1),o.top=Math.min(o.top,y[(0+v)%4].y),o.right=Math.max(o.right,y[(1+v)%4].x),o.bottom=Math.max(o.bottom,y[(2+v)%4].y),o.left=Math.min(o.left,y[(3+v)%4].x)}}catch(e){l=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(l)throw s}}var E=2*Math.max(Math.abs(o.left),o.right+5-n)+n+30,S=2*Math.max(Math.abs(o.top),o.bottom+5-a)+a+30;return E=Math.min(Math.max(n+200,E,1e3),6e3),S=Math.min(Math.max(a+200,S,1e3),6e3),this.minValues&&(E=Math.max(E,this.minValues.minWidth),S=Math.max(S,this.minValues.minHeight)),{minWidth:E,minHeight:S}}},{key:"render",value:function(){var e=this,t=this.props,n=t.loading,a=t.width,r=t.height,o=t.zoom,i=t.inUse,l=t.timelineHeight,s=t.timelineEnabled,c=t.mode,u=t.cropElementId;if(n)return null;var d=a*o,p=r*o;this.minValues&&i||(this.minValues=this.getMinStageValues());var f={minWidth:Math.round(this.minValues.minWidth*o)+"px",minHeight:Math.round(this.minValues.minHeight*o)+"px"},h={width:d+"px",height:p+"px"},m=s?l:0,b={height:"calc(100% - "+(c!==k.a.GENERATE?I.a.MENU_HEIGHT:0)+"px -\n            "+m+"px)"},g=this.state.isSpaceBarPressed?td.a.stagePan:null,y=c!==k.a.GENERATE?E.a.createElement("div",{className:td.a.stageMenu},E.a.createElement(Qu,{getRefStageContainer:this.getRefStageContainer})):null,v=u&&E.a.createElement(no,null),O=!u&&E.a.createElement(Eo,null);return E.a.createElement("div",{className:td.a.stageHolder,onDoubleClick:this.onDoubleClick},y,E.a.createElement(ti,null),E.a.createElement("div",{ref:this.refStageContainer,className:ad("stageContainer",{heightTransition:this.showHeightTransition}),style:b,onMouseDown:this.onStagePanMouseDown,role:"presentation"},E.a.createElement(_o,null),E.a.createElement(yu,null),E.a.createElement("div",{className:g}),E.a.createElement(T.a,{autoHeight:!1,height:"100%",skin:S.a.STAGE_GREY,withPadding:!0,autoHide:!1,onScrollFrame:this.onScrollHandler,ref:function(t){e.refScrollArea=t}},E.a.createElement(ci,{getRefStageElements:this.getRefStageElements},E.a.createElement("div",{"data-stage":"true",className:td.a.stage,onDragOver:this.onDragOver,onDragEnter:this.onDragEnter,onDrop:this.dragDrop,onMouseUp:this.onMouseUp,ref:function(t){e.refStage=t},style:f,role:"presentation"},E.a.createElement("div",{className:ad("stageElementsContainer","transparent"),style:h,ref:function(t){e.refStageElements=t}},E.a.createElement(tu,{getSlideRef:this.getRefStageElements}),v,O,E.a.createElement(x.a,{readOnly:!1}),E.a.createElement(uo,null)))),E.a.createElement(Kr,{getStageRef:this.getRefStageContainer,getStageElementsRef:this.getRefStageElements}))),s?E.a.createElement(Ic,null):null)}}]),t}(v.Component);od.propTypes={zoom:y.a.number,fitToStage:y.a.bool,width:y.a.number,height:y.a.number,loading:y.a.bool,cropElementId:y.a.number,mode:y.a.oneOf([k.a.CHOOSE_EDITOR,k.a.GENERATOR,k.a.EDITOR,k.a.GENERATE]),inUse:y.a.bool,isCropMode:y.a.bool,hasSelectedElements:y.a.bool,minWidth:y.a.number,minHeight:y.a.number,elements:y.a.instanceOf(b.List),onScrollHandler:y.a.func,onDoubleClickHandler:y.a.func,onComponentDidMount:y.a.func,onDraggingLayerDrop:y.a.func,onItemDragDrop:y.a.func.isRequired,exitFocusMode:y.a.func.isRequired,onRedo:y.a.func.isRequired,onUndo:y.a.func.isRequired,isLayerDragging:y.a.bool,timelineHeight:y.a.number,selectedElementsSize:y.a.number,timelineCollapsed:y.a.bool,timelineEnabled:y.a.bool,slideCount:y.a.number,selectedSlideHasAnimatedElements:y.a.bool,hasTimelinePanelOpened:y.a.bool,hideBuildPanel:y.a.func,deselectAllLayers:y.a.func,allowIBShortcuts:y.a.bool,savePopinVisible:y.a.bool,overlayIsSelected:y.a.bool,popinVisible:y.a.bool,setStageZoom:y.a.func,playSlide:y.a.func,stopSlide:y.a.func,shortcutsDisabled:y.a.bool,playingSlide:y.a.bool,showStageDropzone:y.a.func,onDuplicateSelectedElements:y.a.func,draggingTextPresetHash:y.a.string,previewBannerPopinVisible:y.a.bool,onSetStageMetrics:y.a.func,onCopySelectedElements:y.a.func,onPasteElements:y.a.func,onCutSelectedElements:y.a.func,onSelectAllElements:y.a.func,stageScroll:y.a.instanceOf(ja.a),selectedElements:y.a.instanceOf(b.List),onlyOneGroupSelected:y.a.bool,hasTransitionsAccess:y.a.bool,onGroupUngroupSelectedElements:y.a.func,onDeleteSelectedElements:y.a.func,rulerVisible:y.a.bool,onSetRulerVisibility:y.a.func,onChangeInspectorBarTab:y.a.func,isDragging:y.a.bool,onEscCropMode:y.a.func,onSaveCropMode:y.a.func,canExitCropMode:y.a.bool,lockIconShaking:y.a.bool,shakeLockedElementIcon:y.a.func,iconsForSelectedElements:y.a.arrayOf(y.a.string)},od.defaultProps={zoom:1,fitToStage:!1,width:0,height:0,loading:!1,cropElementId:null,mode:k.a.EDITOR,inUse:!1,isCropMode:!1,hasSelectedElements:!1,elements:new b.List,minWidth:1e3,minHeight:1e3,onScrollHandler:C.a,onDoubleClickHandler:C.a,onComponentDidMount:C.a,onDraggingLayerDrop:C.a,onDuplicateSelectedElements:C.a,isLayerDragging:!1,timelineHeight:300,timelineCollapsed:!1,overlayIsSelected:!1,timelineEnabled:!1,popinVisible:!1,hasTimelinePanelOpened:!1,slideCount:1,selectedElementsSize:0,selectedSlideHasAnimatedElements:!1,shortcutsDisabled:!1,allowIBShortcuts:!1,savePopinVisible:!1,setStageZoom:C.a,playSlide:C.a,stopSlide:C.a,playingSlide:!1,showStageDropzone:C.a,onCopySelectedElements:C.a,onPasteElements:C.a,onlyOneGroupSelected:!1,onCutSelectedElements:C.a,onSelectAllElements:C.a,draggingTextPresetHash:"",previewBannerPopinVisible:!1,hasTransitionsAccess:!1,onSetStageMetrics:C.a,onDeleteSelectedElements:C.a,onGroupUngroupSelectedElements:C.a,stageScroll:new ja.a,selectedElements:new b.List,rulerVisible:!1,onSetRulerVisibility:C.a,onChangeInspectorBarTab:C.a,hideBuildPanel:function(){},onEscCropMode:C.a,onSaveCropMode:C.a,deselectAllLayers:function(){},isDragging:!1,canExitCropMode:!0,lockIconShaking:!1,shakeLockedElementIcon:function(){},iconsForSelectedElements:[]};var id=od,ld=n(746),sd=Object(a.c)((function(e){if(!e.bannerCreator.editor.banner.bannerLoaded)return{loading:!0};var t=Object(l.a)(e),n=e.bannerCreator,a=n.editor,i=a.general,s=i.savePopinVisible,c=i.previewBannerPopinVisible,u=a.tools.previewMagicAnimatePopinVisible,d=a.drag,p=d.layerType,f=d.textPresetHash,h=a.banner,m=a.banner,b=m.banner,g=b.width,y=b.height,v=m.selectedLayers,E=m.allowIBShortcuts,S=a.slidesAndLayers,O=S.panelCollapsed,C=S.sorting,w=a.timeline,T=w.height,k=w.collapsed,I=w.playingSlide,L=w.buildPanelElementId,P=w.isDragging,M=a.stage,R=M.zoom,x=M.rotating,j=M.dragging,N=M.resizing,A=M.cropping,_=M.fitToStage,B=M.selecting,H=M.stageScroll,U=M.rulerVisibility,z=M.cropElementId,G=M.shakeLockIcon,F=n.photoshop.popinVisible,W=Object(o.a)(e),V=W.bmTimeline,q=W.bmTransitions,K=Object(ld.a)(e),Y=Gi(e),X=Object(Fr.a)(V),Z=!!p,J=!!v.size,Q=!!L,$=qr(e),ee=c||s||u||Z||j||x||N||B||C||!!z||F,te=0!==e.app.popinVisible.length,ne=Object(D.a)(e),ae=ne?ne.size:0,re=Vr(e),oe=Object(Ze.b)(h);return{mode:t,zoom:R,width:g,height:y,cropElementId:z,fitToStage:_,isDragging:P,slideCount:K,playingSlide:I,loading:!1,timelineHeight:T,timelineEnabled:X,allowIBShortcuts:E,shortcutsDisabled:ee,savePopinVisible:s,popinVisible:te,timelineCollapsed:k,slidesAndLayersCollapsed:O,previewBannerPopinVisible:c,isLayerDragging:Z,hasTimelinePanelOpened:Q,selectedSlideHasAnimatedElements:Y,draggingTextPresetHash:f,inUse:x||j||N,isCropMode:!!z,elements:Object(si.a)(e),hasSelectedElements:J,stageScroll:H,selectedElements:ne,selectedElementsSize:ae,overlayIsSelected:re,onlyOneGroupSelected:oe,rulerVisible:U,hasTransitionsAccess:q===r.a.YES,iconsForSelectedElements:$,canExitCropMode:!A&&!j&&!N,lockIconShaking:G}}),(function(e){return{onComponentDidMount:function(t,n){e(Object(d.i)(t,n))},onScrollHandler:function(t,n){e(Object(d.i)(t,n))},onItemDragDrop:function(t,n,a,r){"template"===t?a>=2?e(Object(p.h)(n.hash)):n.hash?e(Object(p.a)(n.hash,r)):e(Object(p.i)()):e(Object(s.a)(t,n,{isBlocked:r}))},onDraggingLayerDrop:function(t,n){e(Object(c.a)(t,n))},onDoubleClickHandler:function(){e(Object(f.m)())},exitFocusMode:function(){e(Object(i.b)(-1))},playSlide:function(){e(Object(f.f)())},stopSlide:function(){e(Object(f.m)())},setStageZoom:function(t){e(Object(d.j)(t,!1))},showStageDropzone:function(){e(Object(d.g)(!0))},onSetStageMetrics:function(t){e(Object(d.h)(t))},onUndo:function(){e(Object(u.b)())},onRedo:function(){e(Object(u.a)())},onDuplicateSelectedElements:function(){e(Object(s.r)())},onCopySelectedElements:function(){e(Object(s.l)())},onPasteElements:function(){e(Object(s.A)())},onCutSelectedElements:function(){e(Object(s.m)())},onSelectAllElements:function(){e(Object(s.C)())},onGroupUngroupSelectedElements:function(){e(Object(s.u)())},onDeleteSelectedElements:function(){e(Object(s.o)())},onSetRulerVisibility:function(t){e(Object(d.f)(t))},onChangeInspectorBarTab:function(t){e(Object(s.j)(t))},hideBuildPanel:function(){e(Object(f.h)(null,null))},deselectAllLayers:function(){e(Object(s.q)())},onEscCropMode:function(t){e(Object(d.a)(t))},onSaveCropMode:function(t){e(Object(d.e)(t))},shakeLockedElementIcon:function(t){e(Object(d.l)(t))}}}))(id);t.a=sd},1465:function(e,t,n){"use strict";var a=n(386),r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(65),c=n(702),u=n(876),d=Object(s.createSelector)([function(e){return e.bannerCreator.contentLibrary.categories},u.a,function(e){return e.bannerCreator.contentLibrary.subcategories},c.a],(function(e,t,n,a){if(a)return n.find((function(e){return e.id===a})).columns;var r=e.find((function(e){return e.key===t}));return r&&r.columns})),p=n(1145),f=n(575),h=n(476),m=n(800),b=Object(s.createSelector)([m.a,function(e){return e.bannerCreator.contentLibrary.subcategories}],(function(e,t){return t.some((function(t){return t.parentId===e}))})),g=n(1146),y=Object(a.c)((function(e){return{skin:Object(h.a)(e),items:Object(p.a)(e),columns:d(e),isInSubcategory:b(e),searchValue:e.bannerCreator.contentLibrary.search.value,loading:Object(g.a)(e)}}),null)(f.a),v=n(388),E=n(50),S=n.n(E),O=n(7),C=n(402),w=n(1397),T=n.n(w),k=n(794),I=o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{fill:"none",d:"M0 0H24V24H0z"}),o.a.createElement("path",{d:"M15.736 7L17 8.264 13.264 12 17 15.736 15.736 17 12 13.264 8.264 17 7 15.736 10.736 12 7 8.264 8.264 7 12 10.736 15.736 7z"})),L=n(823),P=n(387),M=n(613),R={elements:new v.List,allowTopAnimation:!1,loaded:!1},x={LOAD_SUBCATEGORIES:"LOAD_SUBCATEGORIES",ADD_ELEMENT_REF:"ADD_ELEMENT_REF",ADD_ELEMENT_HEIGHT:"ADD_ELEMENT_HEIGHT",EXTEND_ELEMENT:"EXTEND_ELEMENT",ANIMATE_ELEMENTS:"ANIMATE_ELEMENTS",STOP_ANIMATE_ELEMENTS:"STOP_ANIMATE_ELEMENTS"},D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function j(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var N=function(e,t){var n=t.index,a=t.value,r=t.height,i=t.type,l=t.subcategories,s=t.visibleIndex;switch(i){case x.LOAD_SUBCATEGORIES:return{elements:[].concat(j(l)).map((function(){return{ref:o.a.createRef(),containerHeight:0,animating:!1,extended:!1}})),loaded:!0};case x.ADD_ELEMENT_REF:var c=e.elements;return c[n].ref.current=a,D({},e,{elements:c});case x.ADD_ELEMENT_HEIGHT:var u=e.elements;return u[n].containerHeight=r,D({},e,{elements:u});case x.EXTEND_ELEMENT:var d=e.elements;return d=d.map((function(e,t){return D({},e,{extended:t===n,containerHeight:0})})),D({},e,{elements:d});case x.ANIMATE_ELEMENTS:var p=e.elements;return p=p.map((function(e,t){return D({},e,t<=s?{animating:!0,extended:t===n}:{animating:t===n,extended:t===n})})),D({},e,{elements:p});case x.STOP_ANIMATE_ELEMENTS:var f=e.elements;return f=f.map((function(e){return D({},e,{animating:!1})})),D({},e,{elements:f})}return e},A=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_=S.a.bind(T.a),B=x.LOAD_SUBCATEGORIES,H=x.ADD_ELEMENT_REF,U=x.ADD_ELEMENT_HEIGHT,z=x.EXTEND_ELEMENT,G=x.ANIMATE_ELEMENTS,F=x.STOP_ANIMATE_ELEMENTS,W=function(e){var t=e.onSubcategoryClick,n=e.subcategories,a=e.selectedSubcategoryIndex,i=e.skin,l=null,s=Object(r.useRef)(),c=Object(r.useReducer)(N,R),u=A(c,2),d=u[0],p=u[1];if(!n.size)return null;d.loaded||p({type:B,subcategories:n});var f=i===O.a.DARK_BLUE?O.a.BLUE:O.a.ACCENT_GREY;return o.a.createElement("div",{className:T.a.contentLibraryCategory},o.a.createElement("div",{className:T.a.wrapper},o.a.createElement(C.a,{autoHide:!1,autoHeight:!1,skin:f,ref:s},n.map((function(e,r){var c=e.id,u=e.identifier,f=e.icon,h=r===a,m=d.elements[r]||{},b=m.containerHeight,g=m.extended,v=m.animating;return o.a.createElement("div",{className:_(T.a.groupDetails,{selected:h,hide:v&&!g,extended:g}),key:"subcategory_"+c,style:h?{height:b+68}:{},ref:function(e){return function(e,t){d.elements[t].ref.current||p({type:H,index:t,value:e})}(e,r)}},o.a.createElement("div",{className:_(T.a.subcategory,i),onClick:function(){return function(e,r){r&&r!==a?d.elements[r].ref.current.parentNode.scrollTop=0:d.elements[r].ref.current&&68*n.size<d.elements[r].ref.current.parentNode.clientHeight&&(clearTimeout(l),r===a&&(l=setTimeout((function(){s.current.centerScroll()}),500))),p({type:z,index:r}),t(e)}(c,r)}},o.a.createElement("div",{className:T.a.leftSide},o.a.createElement("div",{className:_(T.a.icon,i)},f&&o.a.createElement(L.a,{url:"//cdn.bannersnack.com"+M.a.SUBCATEGORIES_ICONS+f,skin:i})),o.a.createElement("div",{className:_(T.a.name,i)},P.a[u])),o.a.createElement("div",{className:_(T.a.arrowHitArea,i)},h?I:k.a)),o.a.createElement("div",{className:_(T.a.elements)},h&&o.a.createElement(y,{sendContainerHeight:function(e){return function(e,t){var a=68*(n.size-t)+Math.round(e);if(d.elements[t].ref.current){var r=d.elements[t].ref.current.parentNode.clientHeight,o=a>r;if(d.elements[t].containerHeight!==e){p({type:U,index:t,height:e});for(var i=t;!o&&i;)i-=1,o=(a=68*(n.size-i)+Math.round(e))>r;if(o){p({type:G,index:t,visibleIndex:i});var l=!1;d.elements[t].ref.current.addEventListener("transitionend",(function(){l||(p({type:F,index:t}),d.elements[t].ref.current&&(d.elements[t].ref.current.parentNode.scrollTop=68*t)),l=!0}),!0)}}}}(e,r)},hasScroll:!1,showItems:!v&&g})))})))))};W.propTypes={subcategories:l.a.instanceOf(v.List).isRequired,onSubcategoryClick:l.a.func.isRequired,selectedSubcategoryIndex:l.a.number,skin:l.a.oneOf([O.a.LIGHT_GREY,O.a.DARK_BLUE])},W.defaultProps={selectedSubcategoryIndex:null,skin:O.a.DARK_BLUE};var V=W,q=n(479),K=n(1140),Y=n(972),X=Object(a.c)((function(e){return{skin:Object(h.a)(e),subcategories:Object(Y.a)(e),selectedSubcategory:Object(c.a)(e),selectedSubcategoryIndex:Object(K.a)(e)}}),(function(e){return{onSubcategoryClick:function(t){e(Object(q.k)(t))}}}))(V),Z=n(1398),J=n.n(Z),Q=n(1399),$=n.n(Q),ee=n(428),te=n(56),ne=n(391),ae=n(418),re=n(467),oe=S.a.bind($.a);function ie(e,t){var n=e.width,a=e.height,r=e.backgroundColor,o=e.border,i={type:t,width:n,height:a};return r&&(i.backgroundColor=r),o&&(i.border=o),i}var le=function(e){var t=e.shape,n=e.mode,a=e.onClickHandler,r=e.onDragHandler,i=e.hidden,l=e.skin,s=t.width,c=t.height,u=t.backgroundColor,d=t.type,p=t.stageValues,f=t.border,h=f.radius,m=f.weight,b=f.color,g=0===m?"bgFill":"borderFill",y=Object.assign({backgroundColor:u[l],height:c,width:s},Object(ee.h)(m,b[l]),Object(ee.f)(h));return o.a.createElement("div",{draggable:n!==te.a.GENERATOR,onDragStart:function(e){var t={panelItemWidth:s,panelItemHeight:c};r(ne.b.SHAPE,ie(p,d),e,t)},className:oe($.a.shapeItemContainer,l,{hidden:i}),onClick:function(){a(ne.b.SHAPE,ie(p,d))}},o.a.createElement("div",{className:oe($.a.shapeItem,g),style:y}))};le.propTypes={shape:l.a.shape({backgroundColor:l.a.shape({lightGrey:l.a.string,darkBlue:l.a.string}),border:l.a.shape({color:l.a.shape({lightGrey:l.a.string,darkBlue:l.a.string}),weight:l.a.number,radius:l.a.number}),stageValues:l.a.shape({height:l.a.number,width:l.a.number,backgroundColor:l.a.shape({type:l.a.oneOf([re.a.SOLID,re.a.GRADIENT,re.a.IMAGE,re.a.NONE]),scolor:l.a.string}),border:l.a.shape({color:l.a.string,weight:l.a.number,radius:l.a.number})}),height:l.a.number,width:l.a.number,type:l.a.oneOf([ae.a.RECTANGLE,ae.a.CIRCLE])}),onClickHandler:l.a.func.isRequired,onDragHandler:l.a.func.isRequired,hidden:l.a.bool,mode:l.a.oneOf([te.a.EDITOR,te.a.GENERATOR]),skin:l.a.oneOf([O.a.DARK_BLUE,O.a.LIGHT_GREY])},le.defaultProps={shape:{backgroundColor:{darkBlue:"#d1d1d1",lightGrey:"rgba(81, 88, 115, 0.8)"},border:{color:{darkBlue:"#d1d1d1",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:0,radius:0},stageValues:{height:100,width:100},height:65,width:65,type:ae.a.RECTANGLE},hidden:!1,mode:te.a.EDITOR,skin:O.a.DARK_BLUE};var se=le,ce={rectangle:[{backgroundColor:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:0,radius:0},height:42,width:42,type:"rectangle",stageValues:{width:100,height:100,backgroundColor:{type:"solid",scolor:"#cccccc"},border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:0}}},{backgroundColor:{darkBlue:"transparent",lightGrey:"transparent"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:4,radius:0},height:42,width:42,type:"rectangle",stageValues:{width:100,height:100,backgroundColor:{type:"none"},border:{color:"rgba(204, 204, 204, 1)",weight:6,radius:0}}},{backgroundColor:{darkBlue:"transparent",lightGrey:"transparent"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:2,radius:0},height:42,width:42,type:"rectangle",stageValues:{width:100,height:100,backgroundColor:{type:"none"},border:{color:"rgba(204, 204, 204, 1)",weight:2,radius:0}}}],roundedRectangle:[{backgroundColor:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:0,radius:7},height:42,width:42,type:"rectangle",stageValues:{width:100,height:100,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:10},backgroundColor:{type:"solid",scolor:"#cccccc"}}},{backgroundColor:{darkBlue:"transparent",lightGrey:"transparent"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:4,radius:7},height:42,width:42,type:"rectangle",stageValues:{width:100,height:100,backgroundColor:{type:"none"},border:{color:"rgba(204, 204, 204, 1)",weight:6,radius:10}}},{backgroundColor:{darkBlue:"transparent",lightGrey:"transparent"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:2,radius:7},height:42,width:42,type:"rectangle",stageValues:{width:100,height:100,backgroundColor:{type:"none"},border:{color:"rgba(204, 204, 204, 1)",weight:2,radius:10}}}],circle:[{backgroundColor:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:0,radius:50},height:42,width:42,type:"circle",stageValues:{width:100,height:100,backgroundColor:{type:"solid",scolor:"#cccccc"},border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:50}}},{backgroundColor:{darkBlue:"transparent",lightGrey:"transparent"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:4,radius:50},height:42,width:42,type:"circle",stageValues:{width:100,height:100,backgroundColor:{type:"none"},border:{color:"rgba(204, 204, 204, 1)",weight:4,radius:50}}},{backgroundColor:{darkBlue:"transparent",lightGrey:"transparent"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:2,radius:50},height:42,width:42,type:"circle",stageValues:{width:100,height:100,backgroundColor:{type:"none"},border:{color:"rgba(204, 204, 204, 1)",weight:2,radius:50}}}],line:[{backgroundColor:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:0,radius:0},height:8,width:42,type:"rectangle",stageValues:{width:100,height:8,backgroundColor:{type:"solid",scolor:"#cccccc"}}},{backgroundColor:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:0,radius:0},height:4,width:42,type:"rectangle",stageValues:{width:100,height:4,backgroundColor:{type:"solid",scolor:"#cccccc"}}},{backgroundColor:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},border:{color:{darkBlue:"#fff",lightGrey:"rgba(81, 88, 115, 0.8)"},weight:0,radius:0},height:2,width:42,type:"rectangle",stageValues:{width:100,height:2,backgroundColor:{type:"solid",scolor:"#cccccc"}}}]},ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},de=S.a.bind(J.a),pe=1,fe=200,he=200;function me(e,t){var n=Math.min(e/fe,t/he);return Math.max(n,pe)}function be(e,t,n){var a=function e(t,n){var a=t.getElementsByTagName(n)[0];return!a&&t.parentNode?e(t.parentNode):a?a.cloneNode(!0):null}(e,"div");a||(a=document.createElement("DIV")),a.style.width=t.width*n+"px",a.style.height=t.height*n+"px",a.style.backgroundColor=t.color.scolor?t.color.scolor:t.color,t.border&&(a.style.border=t.border.weight*n+"px solid "+t.border.color,a.style.borderRadius=t.border.radius*n+"px");var r=document.createElement("DIV");return a&&(r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.position="absolute",r.style.left="-10000px",r.style.top="-1000px",r.style.zIndex=99999,r.appendChild(a),window.document.body.appendChild(r),setTimeout((function(){window.document.body.removeChild(r)}))),a}var ge=function(e){var t=e.bannerWidth,n=e.bannerHeight,a=e.zoom,r=e.onItemClick,i=e.mode,l=e.skin;if(!e.visible)return null;var s=function(e,r,o,i,l){var s=o,c=s.target.getBoundingClientRect(),u=me(t,n),d=function(e){return{color:e.backgroundColor||"#cccccc",width:e.width,height:e.height}}(r),p=d.width,f=d.height,h=r.border,m=r.type,b=Object.assign({},d,ue({},r,{width:Math.round(p*u),height:Math.round(f*u)}));h&&(b=ue({},b,"circle"===m?{border:ue({},b.border,{weight:Math.round(h.weight*u),radius:Math.round(h.radius*u)})}:{border:ue({},b.border,{weight:Math.round(h.weight*u)})}));var g=be(s.target,b,a),y=Object.assign({},b),v=Math.round((s.clientX-c.left)*(b.width/parseInt(i.panelItemWidth))*a),E=Math.round((s.clientY-c.top)*(b.height/parseInt(i.panelItemHeight))*a),S={layerType:e,mouseOffset:{left:v,top:E},modelAttributes:y,isBlocked:l};g&&s.dataTransfer.setDragImage(g,v,E),s.dataTransfer.effectAllowed="move",s.dataTransfer.setData("modelData",JSON.stringify(S))},c=Object.keys(ce).map((function(e){return o.a.createElement("div",{key:e,className:de(J.a.shapesStack,l)},ce[e].map((function(e,t){return o.a.createElement(se,{key:e.type+"-"+e.height+"-"+e.border.weight,shape:e,index:t,hidden:!!t,onClickHandler:function(e,n){r(e,n,t)},onDragHandler:s,mode:i,skin:l})})))}));return o.a.createElement("div",{className:de(J.a.shapeList,i)},c)};ge.propTypes={bannerWidth:l.a.number,bannerHeight:l.a.number,onItemClick:l.a.func,zoom:l.a.number,visible:l.a.bool,mode:l.a.oneOf([te.a.EDITOR,te.a.GENERATOR]),skin:l.a.oneOf([O.a.DARK_BLUE,O.a.LIGHT_GREY])},ge.defaultProps={bannerWidth:0,bannerHeight:0,onItemClick:function(){},zoom:1,visible:!0,mode:te.a.EDITOR,skin:O.a.DARK_BLUE};var ye=ge,ve=n(399),Ee=n(437),Se=n(433),Oe=n(484),Ce=Object(s.createSelector)([Se.a,function(e){return e.bannerCreator.generator.sidebar.replacingElement.bannersetElementId},function(e){return e.bannerCreator.contentLibrary.selectedElementsPanelItem},function(e){return e.bannerCreator.generator.sidebar.activeElement}],(function(e,t,n,a){return e===te.a.EDITOR&&n===Oe.a.SHAPES||!t&&a===Oe.a.SHAPES})),we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Te=Object(a.c)((function(e){var t=Object(Se.a)(e),n=Object(h.a)(e),a=Ce(e),r=void 0,o=void 0,i=void 0;if(t===te.a.EDITOR){var l=e.bannerCreator.editor,s=l.banner.banner;i=s.height,o=s.width,r=l.stage.zoom}return{mode:t,zoom:r,skin:n,visible:a,bannerWidth:o,bannerHeight:i}}),(function(e){return{onItemClick:function(t,n,a){e(Object(ve.a)(t,n,{isBlocked:a}))},addTempElement:function(t){e(Object(Ee.a)(ne.b.SHAPE,t))}}}),(function(e,t,n){return we({},n,e,t,{onItemClick:function(n,a,r){if(e.mode===te.a.EDITOR){var o=me(e.bannerWidth,e.bannerHeight),i=void 0,l=a.height,s=a.width,c=a.border;i=we({},a,{width:Math.round(s*o),height:Math.round(l*o)}),c&&(i=we({},i,{border:we({},i.border,{weight:Math.round(c.weight*o),radius:Math.round(c.radius*o)})})),t.onItemClick(n,i,{isBlocked:r})}else e.mode===te.a.GENERATOR&&t.addTempElement(a)}})}))(ye),ke=n(710),Ie=function(e){var t=e.hasSubcategories,n=e.loaded,a=e.search;return n?a.value?o.a.createElement(y,null):o.a.createElement(r.Fragment,null,o.a.createElement(Te,null),t?o.a.createElement(X,null):o.a.createElement(y,null)):null};Ie.propTypes={hasSubcategories:l.a.bool,loaded:l.a.bool,search:l.a.instanceOf(ke.a)},Ie.defaultProps={hasSubcategories:!1,loaded:!1,search:new ke.a};var Le=Ie,Pe=Object(a.c)((function(e){var t=e.bannerCreator.contentLibrary,n=t.loaded,a=t.search;return{hasSubcategories:b(e),loaded:n,search:a}}))(Le);t.a=Pe},1466:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(386),s=n(50),c=n.n(s),u=n(1726),d=n(1727),p=n(1409),f=n.n(p),h=r.a.createElement("svg",{id:"Layer_1",viewBox:"0 0 172 127",style:{enableBackground:"new 0 0 172 127"}},r.a.createElement("style",null,".st2{fill:#fff}.st5{fill:#8a8acf}.st7{fill:#c3c3f9}.st8{fill:#b3b3ff}.st10{fill-rule:evenodd;clip-rule:evenodd;fill:#fff}.st13{fill:#ffdfc9}"),r.a.createElement("path",{id:"Rectangle",d:"M78 0h91.5c1.4 0 2.5 1.1 2.5 2.5v68.8c0 1.4-1.1 2.5-2.5 2.5H78c-1.4 0-2.5-1.1-2.5-2.5V2.5C75.5 1.1 76.6 0 78 0z",style:{fill:"#8993ad"}}),r.a.createElement("path",{d:"M82 8.5h83.5c.6 0 1 .4 1 1V18c0 .6-.4 1-1 1H82c-.6 0-1-.4-1-1V9.5c0-.5.4-1 1-1z",style:{opacity:.7,fill:"#adb4c7",enableBackground:"new"}}),r.a.createElement("path",{className:"st2",d:"M86 13.1h13c.6 0 1 .4 1 1s-.4 1-1 1H86c-.6 0-1-.4-1-1s.4-1 1-1zM116 13.1h8c.6 0 1 .4 1 1s-.4 1-1 1h-8c-.6 0-1-.4-1-1s.4-1 1-1zM134.5 13.1h8c.6 0 1 .4 1 1s-.4 1-1 1h-8c-.6 0-1-.4-1-1s.4-1 1-1zM153 13.1h8c.6 0 1 .4 1 1s-.4 1-1 1h-8c-.6 0-1-.4-1-1s.4-1 1-1z"}),r.a.createElement("g",{id:"Group",style:{opacity:.52}},r.a.createElement("path",{className:"st2",d:"M.8 0h13.5c.4 0 .7.3.7.8 0 .4-.3.8-.8.8H.8C.3 1.5 0 1.2 0 .8 0 .3.3 0 .8 0zM30.8 0h8.5c.4 0 .7.3.7.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8.1-.5.4-.8.9-.8zM49.2 0h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8.1-.5.4-.8.8-.8zM67.8 0h8.5c.4 0 .7.3.7.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8.1-.5.4-.8.9-.8zM.8 8h13.5c.4 0 .7.4.7.8s-.3.8-.8.8H.8c-.5-.1-.8-.4-.8-.8S.3 8 .8 8zM30.8 8h8.5c.4 0 .7.4.7.8s-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8.1-.4.4-.8.9-.8zM49.2 8h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8.1-.4.4-.8.8-.8zM67.8 8h8.5c.4 0 .7.4.7.8s-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8.1-.4.4-.8.9-.8zM.8 16.1h13.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8H.8c-.4 0-.8-.3-.8-.8s.3-.8.8-.8zM30.8 16.1h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8s.3-.8.8-.8zM49.2 16.1h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8.1-.5.4-.8.8-.8zM67.8 16.1h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8s.3-.8.8-.8zM.8 24.1h13.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8H.8c-.4 0-.8-.3-.8-.8s.3-.8.8-.8zM30.8 24.1h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8s.3-.8.8-.8zM49.2 24.1h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8.1-.5.4-.8.8-.8zM67.8 24.1h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8s.3-.8.8-.8zM.8 32.1h13.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8H.8c-.4 0-.8-.3-.8-.8 0-.4.3-.8.8-.8zM30.8 32.1h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8 0-.4.3-.8.8-.8zM49.2 32.1h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8.1-.4.4-.8.8-.8zM67.8 32.1h8.5c.4 0 .8.3.8.8 0 .4-.3.8-.8.8h-8.5c-.4 0-.8-.3-.8-.8 0-.4.3-.8.8-.8z",transform:"translate(85 24.095)"})),r.a.createElement("path",{id:"Path",d:"M75.5 49.7h20c2.5 0 4.5 2 4.5 4.5v19.6H75.5V49.7z",style:{opacity:.1,enableBackground:"new"}}),r.a.createElement("path",{className:"st2",d:"M96.5 55.7v68.8c0 1.4-1.1 2.5-2.5 2.5H2.5c-1.4 0-2.5-1.1-2.5-2.5V55.7c0-1.4 1.1-2.5 2.5-2.5H94c1.4 0 2.5 1.1 2.5 2.5z"}),r.a.createElement("path",{className:"st5",d:"M8 78.8h37c1.4 0 2.5 1.1 2.5 2.5v.5c0 1.4-1.1 2.5-2.5 2.5H8c-1.4 0-2.5-1.1-2.5-2.5v-.5c0-1.4 1.1-2.5 2.5-2.5z"}),r.a.createElement("path",{d:"M8 108.8h22c1.4 0 2.5 1.1 2.5 2.5v4.5c0 1.4-1.1 2.5-2.5 2.5H8c-1.4 0-2.5-1.1-2.5-2.5v-4.5c0-1.4 1.1-2.5 2.5-2.5z",style:{fill:"#b380ff"}}),r.a.createElement("path",{className:"st7",d:"M6.5 91.9h40c.6 0 1 .4 1 1s-.4 1-1 1h-40c-.6 0-1-.4-1-1s.4-1 1-1zM6.5 97.4H35c.6 0 1 .4 1 1s-.4 1-1 1H6.5c-.6 0-1-.4-1-1s.4-1 1-1z"}),r.a.createElement("path",{className:"st8",d:"M96.5 55.7v68.8c0 1.4-1.1 2.5-2.5 2.5H58.5V53.2H94c1.4 0 2.5 1.1 2.5 2.5z"}),r.a.createElement("g",{id:"Clipped",transform:"translate(41 53.21)"},r.a.createElement("defs",null,r.a.createElement("filter",{id:"Adobe_OpacityMaskFilter",filterUnits:"userSpaceOnUse",x:-4.1,y:-11,width:28.6,height:15.2},r.a.createElement("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"}))),r.a.createElement("mask",{maskUnits:"userSpaceOnUse",x:-4.1,y:-11,width:28.6,height:15.2,id:"mask-2_1_"},r.a.createElement("g",{style:{filter:"url(#Adobe_OpacityMaskFilter)"}},r.a.createElement("path",{id:"path-1_1_",className:"st10",d:"M0 0h17v4.5H0z"}))),r.a.createElement("path",{d:"M-3.8-9.3L9.6 3.8c.4.4 1 .4 1.4 0L24.3-9.3c.3-.3.4-.7.2-1.1-.2-.4-.5-.6-.9-.6H-3.1c-.4 0-.8.2-.9.6-.1.4-.1.8.2 1.1z",style:{opacity:.1,mask:"url(#mask-2_1_)",enableBackground:"new"}})),r.a.createElement("path",{className:"st2",d:"M13.5 112.1h11c.6 0 1 .4 1 1v1c0 .6-.4 1-1 1h-11c-.6 0-1-.4-1-1v-1c0-.6.4-1 1-1z"}),r.a.createElement("path",{id:"Shape",className:"st7",d:"M9.5 59.7c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zm0 6.1c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),r.a.createElement("path",{className:"st8",d:"M31.7 43.9L45 57c.4.4 1 .4 1.4 0l13.3-13.1c.3-.3.4-.7.2-1.1-.2-.4-.5-.6-.9-.6H32.4c-.4 0-.8.2-.9.6-.1.4-.1.8.2 1.1z"}),r.a.createElement("path",{className:"st8",d:"M42.2 42.1c0-.3 0-.5.1-.7l.1-.6c.1-.4.1-.8.2-1.2.1-.8.3-1.6.5-2.4.4-1.6 1-3.2 1.6-4.7 1.3-3.1 3.2-5.9 5.6-8.3 1.2-1.2 2.6-2.2 4-3.1 1.4-.8 3-1.5 4.5-2 3.1-.9 6.3-1.3 9.5-1.1.9 0 1.5.8 1.5 1.6 0 .9-.7 1.6-1.5 1.6-2.8.1-5.5.7-8 1.8-1.2.5-2.4 1.2-3.4 2s-2 1.7-2.8 2.7c-1.7 2.1-2.9 4.4-3.7 6.9-.4 1.3-.7 2.6-.9 3.9-.1.7-.2 1.3-.2 2 0 .3 0 .7-.1 1v.9c.3 1.9-1 3.8-3 4.1-1.9.3-3.7-1-4-3v-1.4z"}),r.a.createElement("ellipse",{id:"Oval",cx:122.8,cy:111.7,rx:3.8,ry:3.8,style:{fill:"#ffae78"}}),r.a.createElement("path",{className:"st13",d:"M144.5 115.5h-.1c-.8 0-1.4-.6-1.5-1.4-.7-12.2-10.4-22-22.5-22.7-.8-.1-1.4-.7-1.4-1.5s.7-1.5 1.5-1.5c13.8.7 24.8 11.8 25.5 25.6 0 .8-.7 1.4-1.5 1.5z"}),r.a.createElement("path",{className:"st13",d:"M135.5 115.5c-.8 0-1.4-.6-1.5-1.3-.8-7.2-6.5-12.9-13.7-13.7-.8-.1-1.3-.7-1.3-1.5s.7-1.5 1.5-1.5h.2c8.7.8 15.6 7.7 16.3 16.4.1.8-.5 1.6-1.3 1.6h-.2z"}),r.a.createElement("g",{transform:"translate(58.5 53.21)"},r.a.createElement("defs",null,r.a.createElement("filter",{id:"Adobe_OpacityMaskFilter_1_",filterUnits:"userSpaceOnUse",x:-8,y:-4.5,width:46,height:78.3},r.a.createElement("feColorMatrix",{values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"}))),r.a.createElement("mask",{maskUnits:"userSpaceOnUse",x:-8,y:-4.5,width:46,height:78.3,id:"mask-4_1_"},r.a.createElement("g",{style:{filter:"url(#Adobe_OpacityMaskFilter_1_)"}},r.a.createElement("path",{id:"path-3_1_",className:"st10",d:"M0 0h35.5C36.9 0 38 1.1 38 2.5v68.8c0 1.4-1.1 2.5-2.5 2.5H0V0z"}))),r.a.createElement("g",{style:{mask:"url(#mask-4_1_)"}},r.a.createElement("g",{transform:"translate(-8 -4.518)"},r.a.createElement("ellipse",{cx:13.5,cy:13.6,rx:13.5,ry:13.6,style:{opacity:.7,fill:"#c77cf2",enableBackground:"new"}}),r.a.createElement("path",{className:"st5",d:"M46 28.7v47.1c0 1.4-1.1 2.5-2.5 2.5h-38v-9.5s.5-3.1 2.5-6c1.3-1.9 3.2-3.8 6-4.5 6.2-1.8 9.1-1.7 12.6-3.9 1-.7 2.1-1.5 3.4-2.6 2.2-2 3.3-6.1 4.6-10.2 1.4-4.5 3-9 6.4-10.8 2-1.3 3.7-1.9 5-2.1z"}),r.a.createElement("path",{d:"M18.9 45.8l14-5.7c.4-.2.9-.1 1.3.2.4.3.5.7.5 1.2l-2.4 15c-.1.4-.4.8-.8 1-.4.2-.9.1-1.2-.2L18.6 48c-.4-.3-.5-.7-.5-1.2.1-.4.4-.8.8-1z",style:{fill:"#f2edff"}}))))),m=n(114),b=n(17),g=n(419),y=n(522),v=n(56),E="dynamicBannerFirstStep",S=c.a.bind(f.a);function O(e){var t=e.step,n=e.appMode,a=r.a.createElement("div",{className:f.a.description},g.a.feedStep1Description,r.a.createElement("div",{className:f.a.listDescription},g.a.feedStep1ListDescription,r.a.createElement("ol",null,r.a.createElement("li",null,g.a.feedStep1ListElement1),r.a.createElement("li",null,g.a.feedStep1ListElement2))),r.a.createElement("div",{className:f.a.svgContainer},h));var o=r.a.createElement(m.a,{onClick:function(){t("CONTINUE"),localStorage.setItem(E,"true")},size:b.a.MEDIUM_THIN,minWidth:"104px"},y.b.continue);return r.a.createElement("div",{className:S(f.a.step1,n)},a,o)}O.propTypes={step:i.a.func.isRequired,appMode:i.a.oneOf([v.a.EDITOR,v.a.GENERATOR])},O.defaultProps={appMode:""};var C,w,T=O,k=n(1725),I=n.n(k),L=n(588),P=n.n(L),M=n(403),R=n(395),x=n(392),D=n(393),j=n(7),N=n(634),A=".csv",_=n(116),B=n(387),H=n(717),U=n(389),z=n.n(U),G=n(390),F=(C=["\n        mutation newAdSampleData($inputWorkspace: InputWorkspace!, $inputCreateAdSampleData: InputCreateAdSampleData!) {\n            workspace(input: $inputWorkspace) {\n                newAdSampleData(input: $inputCreateAdSampleData) {\n                    id\n                    name\n                }\n            }\n        }\n    "],w=["\n        mutation newAdSampleData($inputWorkspace: InputWorkspace!, $inputCreateAdSampleData: InputCreateAdSampleData!) {\n            workspace(input: $inputWorkspace) {\n                newAdSampleData(input: $inputCreateAdSampleData) {\n                    id\n                    name\n                }\n            }\n        }\n    "],Object.freeze(Object.defineProperties(C,{raw:{value:Object.freeze(w)}})));var W,V,q=(W=regeneratorRuntime.mark((function e(t,n,a,r){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=z()(F),e.next=3,G.a.mutate({mutation:o,variables:{inputWorkspace:t,inputCreateAdSampleData:{schemaId:n,name:a,json:r}},fetchPolicy:"no-cache"});case 3:return i=e.sent,e.abrupt("return",i.data.workspace);case 5:case"end":return e.stop()}}),e,void 0)})),V=function(){var e=W.apply(this,arguments);return new Promise((function(t,n){return function a(r,o){try{var i=e[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(l)}("next")}))},function(e,t,n,a){return V.apply(this,arguments)}),K=n(1250),Y=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        mutation newAdSampleDataName(\n            $inputWorkspace: InputWorkspace!,\n            $inputAdSampleDataName: InputChangeAdSampleDataName!\n        ) {\n            workspace(input: $inputWorkspace) {\n                newAdSampleDataName(input: $inputAdSampleDataName) {\n                    name\n                }\n            }\n        }\n    "],["\n        mutation newAdSampleDataName(\n            $inputWorkspace: InputWorkspace!,\n            $inputAdSampleDataName: InputChangeAdSampleDataName!\n        ) {\n            workspace(input: $inputWorkspace) {\n                newAdSampleDataName(input: $inputAdSampleDataName) {\n                    name\n                }\n            }\n        }\n    "]);var X=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(r,o){try{var i=t[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))}}(regeneratorRuntime.mark((function e(t,n,a){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z()(Y),e.next=3,G.a.mutate({mutation:r,variables:{inputWorkspace:t,inputAdSampleDataName:{id:n,name:a}},fetchPolicy:"no-cache"});case 3:return o=e.sent,e.abrupt("return",o.data.workspace);case 5:case"end":return e.stop()}}),e,void 0)})));return function(t,n,a){return e.apply(this,arguments)}}(),Z=n(470),J=function(e,t){return function(n,a){var r=a(),o=Object(K.a)(r);n({type:H.j,promise:q(Object(Z.a)(r),o,t,e),payload:{json:e}})}},Q=function(e){return function(t,n){var a=n(),r=a.bannerCreator.feed.selectedSampleData;t({type:H.a,promise:X(Object(Z.a)(a),r,e),payload:{id:r,name:e}})}},$={SELECT_CUSTOM_SCHEMA:"SELECT_CUSTOM_SCHEMA",SELECT_PREDEFINED_SCHEMA:"SELECT_PREDEFINED_SCHEMA",BINDINGS:"BINDINGS",UPLOAD_CUSTOM_SCHEMA:"UPLOAD_CUSTOM_SCHEMA",UPLOAD_PREDEFINED_SCHEMA:"UPLOAD_PREDEFINED_SCHEMA",SUCCESS:"SUCCESS"},ee=n(65),te=Object(ee.createSelector)([function(e){return e.bannerCreator.feed.sampleDatas},function(e){return e.bannerCreator.feed.selectedSampleData}],(function(e,t){return e.find((function(e){return e.id===t}))})),ne=n(713),ae=n(1410),re=n.n(ae),oe=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var ie=c.a.bind(re.a),le=1e6,se={MAX_SIZE:50,MIN_SIZE:0};function ce(e){var t,n=e.step,o=Object(a.useState)(!1),i=oe(o,2),s=i[0],c=i[1],u=Object(a.useState)(null),d=oe(u,2),p=d[0],f=d[1],h=Object(l.e)((function(e){return Object(ne.a)(e)})),g=Object(l.e)((function(e){return e.bannerCreator.feed.uploadingSampleData})),y=Object(l.e)((function(e){return te(e)})),v=Object(l.d)(),E=Object(a.useRef)(),S=Object(a.useState)(!0),O=oe(S,2),C=O[0],w=O[1],T=Object(l.e)((function(e){return e.bannerCreator.app})).mode;function k(e){var t=e.target.value;t.length?p&&w(!1):w(!0),t.length>se.MAX_SIZE&&(E.current.value=t.slice(0,se.MAX_SIZE))}function L(e){E.current.value=e.target.value.trim()}function H(e){var t=this;if(p)v(Object(N.h)(B.a.alreadyUploaded,B.a.alreadyUploadedCsvFile));else{var n,a=e.target,r=a&&a.files[0]||e[0],o=r.name.replace(/.csv/gi,"");if(E.current&&E.current.value&&(o=E.current.value.trim()),o.length>se.MAX_SIZE&&(o=o.slice(0,se.MAX_SIZE)),r&&(r.type.toLowerCase().includes("csv")||r.name.toLowerCase().endsWith(A))){if(r.size>le)return void v(Object(N.h)(B.a.invalidCsv,B.a.maxCsvFileSizeError));var i=null,l=new FileReader;l.onload=(n=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(r,o){try{var i=t[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))}}(regeneratorRuntime.mark((function e(n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I()({checkColumn:!0}).fromString(n.target.result);case 3:i=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),v(Object(N.h)(B.a.errorUploadCsv,B.a.errorUploadCsv));case 9:if(!i.length){e.next=20;break}if(!(a=h.columns.reduce((function(e,t){return t.required&&!i[0][t.columnName]&&e.push(" "+B.a.property.toLowerCase()+" "+t.columnName+"\n"),e}),[])).length||h.custom){e.next=14;break}return v(Object(N.h)(B.a.requiredFields,B.a.missingColumns+"\n\n"+a.join("")+"\n"+B.a.uploadAnotherSample)),e.abrupt("return");case 14:r=JSON.stringify(i.reduce((function(e,t){for(var n in t)e[n]?e[n].push(t[n]):e[n]=[t[n]];return e}),{})),E.current?E.current.value=o:E.current=o,f(r),v(J(r,o)),e.next=21;break;case 20:v(Object(N.h)(B.a.wrongCsvContent,B.a.wrongCsvContent));case 21:case"end":return e.stop()}}),e,t,[[0,6]])}))),function(e){return n.apply(this,arguments)}),l.readAsBinaryString(a?a.files[0]:e[0])}else v(Object(N.h)(B.a.invalidCsv,B.a.invalidCsv))}}function U(e){c(!1),e.preventDefault(),e.stopPropagation()}function z(e){var t=e.dataTransfer;t.types&&(t.types.indexOf?-1!==t.types.indexOf("Files"):t.types.contains("Files"))&&c(!0),e.preventDefault(),e.stopPropagation()}function G(e,t){c(!1),e&&e.length>0?H(e):t&&v(Object(N.h)(B.a.invalidCsv,B.a.invalidCsv))}return Object(a.useEffect)((function(){p&&E.current&&!g?w(!1):w(!0)}),[p,g]),r.a.createElement("div",{className:ie(re.a.uploadSection,T)},h.custom?r.a.createElement("div",{className:re.a.toolPanelBackbtn,onClick:function(){return n($.SELECT_CUSTOM_SCHEMA)}},_.a.backArrow):null,h&&h.custom?r.a.createElement("div",{className:re.a.displaySchemaName},r.a.createElement("span",null,B.a.feedSchemaName),r.a.createElement("input",{className:re.a.schemaNameInput,type:"text",onChange:k,onBlur:L,ref:E,placeholder:B.a.enterNameHere,minLength:se.MIN_SIZE,maxLength:se.MAX_SIZE})):null,r.a.createElement("span",{className:re.a.title},B.a.sourceTitle),r.a.createElement("span",{className:re.a.info},B.a.csvImportType),(t=void 0,t=g?r.a.createElement(R.a,{skin:j.a.SEMI_TRANSPARENT_WHITE,type:b.a.MEDIUM}):r.a.createElement("div",{className:ie(re.a.dropZoneWrapper,{dragging:s})},r.a.createElement("div",{className:ie(re.a.dropZoneContent,{dragging:s})},r.a.createElement("div",{className:re.a.dropZoneButton},r.a.createElement("div",{className:re.a.icon},_.a.upload),r.a.createElement("div",{className:re.a.label},B.a.importFile)),r.a.createElement("div",{className:re.a.dropZoneLabel},B.a.dragAndDropToUploadFile,r.a.createElement("div",{className:re.a.info},r.a.createElement(x.b,{placement:D.a.BOTTOM,skin:j.a.WHITE,title:B.a.uploadRestrictionsCsv},r.a.createElement("span",null,r.a.createElement(M.a,{size:b.a.SMALL},_.a.info)))))),r.a.createElement("div",{className:ie(re.a.draggingContainer,{dragging:s})},_.a.upload)),r.a.createElement("div",{className:ie(re.a.dropzoneContainer,{dragging:s})},r.a.createElement(P.a,{accept:A,className:re.a.dropzone,disableClick:!!p||g,maxSize:le,multiple:!1,onDrop:G,onDragEnter:z,onDragLeave:U},t))),r.a.createElement("div",{className:re.a.next},r.a.createElement(m.a,{className:ie(re.a.nextBtn,{disabled:C}),size:b.a.MEDIUM,skin:j.a.BLUE,onClick:function(){E.current&&!E.current.value?y.name!==E.current&&(v(Q(E.current)),E.current=""):y.name!==E.current.value&&(v(Q(E.current.value)),E.current.value=""),n($.SUCCESS),f(null)},disabled:C||!y},B.a.next)))}ce.propTypes={step:i.a.func.isRequired};var ue=ce,de=n(1495),pe=n(1411),fe=n.n(pe),he=n(750),me=n(777),be=n(394),ge=n(531),ye=n(402),ve=n(1235),Ee=n(405),Se=n(417),Oe=n(1412),Ce=n.n(Oe),we=n(535),Te=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ke=c.a.bind(Ce.a),Ie=500,Le=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=function(e,t,a){var r=n.props,o=r.onLimitedOptionClick,i=r.onChange;a?o&&o(t):(n.hideDropdown(),n.selectedIndex=e,n.setState({tmpIndex:e}),i(t,e))},n.onScrollFrameHandler=function(e){n.setState({scrollTopValue:e.scrollTop})},n.onBodyMouseDown=function(e){if(n.refSelect){var t=n.refSelect.parentNode;t.contains(e.target)||e.target===t||n.hideDropdown()}},n.handleMouseDownEvent=function(e){if(n.preventDefaultIfNeeded(e),n.refSelect){var t=n.props,a=t.dropdownItemHeight,r=t.minVisibleItems,o=t.items,i=t.openDropdownPosition,l=n.refSelect.getBoundingClientRect().bottom,s=r<=o.length?r:o.length;n.setState({tmpIndex:n.selectedIndex}),i?n.setState({dropdownPosition:i}):window.innerHeight-l<a*s?n.setState({dropdownPosition:D.a.TOP}):n.setState({dropdownPosition:D.a.BOTTOM});var c=n.refSelect.parentNode;c.contains(e.target)||e.target===c||n.hideDropdown()}},n.preventDefaultIfNeeded=function(e){var t=e.target.dataset;!n.props.preventDefaultOnMouseDown||t&&(t.scrollThumb||t.scrollTrack)||(e.preventDefault(),e.stopPropagation())},n.handleEditMode=function(e){n.setState({editing:"edit"===e})},n.hideDropdown=function(){n.setState({dropdownVisible:!1})},n.toggleDropdown=function(e){e.stopPropagation(),e.preventDefault();var t=n.props,a=t.disabled,r=t.items,o=t.onDropdownOpen,i=n.state.dropdownVisible;a||n.refScrollContainer&&n.refScrollContainer.contains(e.target)||r.length<=0||(!0==!i&&(n.scrolled=!1),i||o(),n.setState({dropdownVisible:!i}))},n.jumpToNextOccurrence=function(e){var t=n.state.tmpIndex,a=n.props.items,r=void 0,o=void 0;for(var i in a)if(Object.prototype.hasOwnProperty.call(a,i)){var l=a[i=parseInt(i)];if((l.visible||void 0===l.visible)&&(l.value.toString().substring(0,e.length).toLowerCase()===e.toLowerCase()&&n.refScrollArea?(r||(r=i),i>t&&(o=i)):r&&(o=r)),o)return n.scrollToHeight(n.indexToHeight(o)),void n.setState({tmpIndex:o})}},n.indexToHeight=function(e){var t=n.props,a=t.dropdownItemHeight,r=t.items;if(Number.isInteger(e)){for(var o=0,i=0,l=0;l<r.length;l++){if(l===e){o=i;break}(r[l].visible||void 0===r[l].visible)&&(i+=1)}return o*a}return null},n.handleKeyDown=function(e){if(!(n.state.editing||n.props.items.length<=1)){var t=n.props,a=t.dropdownItemHeight,r=t.items,o=n.state,i=o.scrollTopValue,l=o.dropdownVisible,s=o.tmpIndex;switch(e.keyCode){case Se.a.enter:l&&n.setSelectedIndex(s),n.toggleDropdown(e);break;case Se.a.escape:n.hideDropdown();break;case Se.a.tab:n.toggleDropdown(e);break;case Se.a.up:if(l)for(var c=s-1;c>-1;c--)if(r[c].visible||void 0===r[c].visible){n.setState({tmpIndex:c});var u=n.indexToHeight(c);u<i&&n.scrollToHeight(u);break}break;case Se.a.down:if(l)for(var d=s+1;d<r.length;d++)if(r[d].visible||void 0===r[d].visible){n.setState({tmpIndex:d});var p=n.indexToHeight(d);p>i+9*a&&n.scrollToHeight(p-9*a);break}break;case Se.a.end:if(l){n.refScrollArea.scrollToBottom();for(var f=r.length-1;f>-1;f--)if(r[f].visible||void 0===r[f].visible){n.setState({tmpIndex:f});break}}break;case Se.a.home:if(l){n.refScrollArea.scrollToTop();for(var h=0;h<r.length;h++)if(r[h].visible||void 0===r[h].visible){n.setState({tmpIndex:h});break}}break;default:if(l){var m=n.state.tmpSearch,b=String.fromCharCode(e.keyCode).toLowerCase();if(1===m.length&&m===b){n.jumpToNextOccurrence(m);break}var g=Date.now();n.timeLastPressed&&n.timeLastPressed<g-Ie&&(m=""),n.timeLastPressed=g,m+=b,n.jumpToValue(m)}}e.preventDefault(),e.stopPropagation()}},n.state={dropdownVisible:!1,tmpIndex:e.selectedIndex,editing:!1,scrollTopValue:0,tmpSearch:"",dropdownPosition:D.a.BOTTOM},n.selectedIndex=e.selectedIndex,n.scrollTopValue=e.scrollTopValue,n.scrolled=!1,n.timeLastPressed=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Te(t,[{key:"componentDidMount",value:function(){if(this.refSelect.addEventListener("mousedown",this.handleMouseDownEvent,!0),this.state.dropdownVisible){var e=document.body;e.addEventListener("mousedown",this.onBodyMouseDown),e.addEventListener("keydown",this.handleKeyDown)}}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.value,a=t.items,r=e.value;if(-1===e.selectedIndex||n!==r){var o=a.findIndex((function(e){return e.value===r}));this.selectedIndex=o<0?0:o}else this.selectedIndex=e.selectedIndex;this.setState({tmpIndex:this.selectedIndex}),this.refScrollArea&&this.selectedIndex&&(e.items.length!==a.length&&(this.valueBeforeUpload||(this.valueBeforeUpload=n)),this.valueBeforeUpload&&n!==this.valueBeforeUpload&&(this.scrollToHeight(this.indexToHeight(this.selectedIndex)),this.valueBeforeUpload=null))}},{key:"componentDidUpdate",value:function(e,t){this.refScrollArea&&this.selectedIndex&&!this.scrolled&&(this.scrollToHeight(this.indexToHeight(this.selectedIndex)),this.scrolled=!0);var n=document.body,a=this.state.dropdownVisible;t.dropdownVisible!==a&&(a?(n.addEventListener("mousedown",this.onBodyMouseDown),n.addEventListener("keydown",this.handleKeyDown)):(n.removeEventListener("mousedown",this.onBodyMouseDown),n.removeEventListener("keydown",this.handleKeyDown)))}},{key:"componentWillUnmount",value:function(){var e=document.body;e.removeEventListener("mousedown",this.onBodyMouseDown),this.refSelect.removeEventListener("mousedown",this.handleMouseDownEvent,!0),e.removeEventListener("keydown",this.handleKeyDown)}},{key:"setSelectedIndex",value:function(e){var t=this.props,n=t.onChange,a=t.items;this.selectedIndex=e,this.setState({tmpIndex:e}),n(a[e].value,e)}},{key:"scrollToHeight",value:function(e){this.refScrollArea&&this.refScrollArea.scrollTop(e)}},{key:"jumpToValue",value:function(e){var t=this.props.items;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var a=t[n=parseInt(n)];if((a.visible||void 0===a.visible)&&a.value.toString().substring(0,e.length).toLowerCase()===e.toLowerCase()&&this.refScrollArea)return this.scrollToHeight(this.indexToHeight(n)),void this.setState({tmpIndex:n,tmpSearch:e})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,a=t.value,o=t.skin,i=t.size,l=t.width,s=t.maxWidth,c=t.minWidth,u=t.minVisibleItems,d=t.dropdownItemHeight,p=t.tabIndex,f=t.componentType,h=t.editOn,m=t.darkerGrey,g=t.onChange,y=t.isNumeric,v=t.autoHide,E=t.maxLength,S=t.arrowHoverBackground,O=t.noBackgroundHover,C=t.showLabel,w=t.dropdownAlignment,T=t.placement,k=t.disabled,I=t.scrollSize,L=t.tooltip,P=t.required,M=t.dropdownItemWidth,R=t.disableTooltip,D=t.prefixText,N=t.scrollSkin,A=t.labelSkin,_=t.showArrow,B=t.footerItem,H=t.itemsExtraAction,U=this.state,z=U.dropdownPosition,G=U.tmpIndex,F=U.dropdownVisible,W=s?{maxWidth:s,width:l,minWidth:c}:{width:l,minWidth:c},V=M?{width:M+"px"}:W,q={noDropdown:n.length<=1,noBackgroundHover:O},K=B.text,Y=B.onClickFooter,X=B.svgIcon,Z=H.svgIcon,J=H.onItemExtraAction,Q=K?r.a.createElement("li",{className:ke(o,"footerItem"),onClick:Y},r.a.createElement("span",{className:Ce.a.svgClose},X),r.a.createElement("span",null,K)):null,$=n.map((function(t,i){var l=t.value,s=t.limited,c=t.visible,d=t.text,p=t.node,f=t.default,h=t.showInList;l===a&&(e.selectedIndex=i);var m=ke(o,{selected:l===a&&!s||!a&&i===e.selectedIndex&&!s,tmpSelected:i===G&&!s,disabled:s,visible:c||void 0===c,withScroll:n.length>u});if(!1===h)return null;var b=p||d||l,g=!f&&r.a.createElement("span",{className:Ce.a.svgClose,onClick:function(){return J(l)}},Z);return r.a.createElement("li",{className:m,key:l},r.a.createElement("span",{onMouseDown:e.preventDefaultIfNeeded,onClick:function(){e.onClick(i,l,s)},className:Ce.a.selectOption},r.a.createElement("span",{className:Ce.a.optionChild},b)),g)})),ee=void 0;if(F){var te=n.length>u?r.a.createElement("div",{className:Ce.a.wrapper},r.a.createElement("ul",{className:ke("dropdownList",o)},r.a.createElement("div",{ref:function(t){e.refScrollContainer=t}},r.a.createElement(ye.a,{ref:function(t){e.refScrollArea=t},style:{minHeight:"30px"},autoHeight:!0,autoHeightMax:u*d,skin:N,size:I,onScrollFrame:this.onScrollFrameHandler,autoHide:v,placement:T,darkerGrey:m},$)),Q)):r.a.createElement("div",{className:Ce.a.wrapper},r.a.createElement("ul",{className:ke("dropdownList",o)},$,Q));ee=r.a.createElement("div",{style:V,className:ke("dropdown",""+i,""+z,w)},te)}var ne=void 0,ae=this.selectedIndex<0?0:this.selectedIndex;n[ae]?(ne=n[ae].text?n[ae].text:n[ae].value.toString())||(ne=a>n[n.length-1].value?n[n.length-1].value.toString():a.toString()):ne=a&&a.toString()?a.toString():"";var re=null;if(C){var oe=D?r.a.createElement("span",{className:Ce.a.prefix},r.a.createElement(be.a,{size:b.a.NORMAL,label:D,skin:o})):null;re=f===ve.a.SELECT?r.a.createElement("div",{className:ke(Ce.a.textContainer,{withPrefix:!!D,dropdownOpen:F})},oe,r.a.createElement(be.a,{size:i===b.a.MEDIUM?b.a.NORMAL:i,label:ne,skin:o===j.a.WHITE_GREY||o===j.a.TRANSPARENT_WHITE?j.a.WHITE:A||o,disabled:k})):r.a.createElement("div",{className:ke("textContainer","fontSize")},r.a.createElement(ge.a,{size:i,text:a,useSelectedBottomBorder:!1,onChange:g,isNumeric:y,maxLength:E,editOn:h,handleModeChange:this.handleEditMode}))}var ie=!!D,le=_&&n.filter((function(e){return!1!==e.showInList})).length>1?r.a.createElement("div",{className:ke("arrowBtn",{arrowHoverBackground:S,withPrefix:ie})},r.a.createElement("span",{className:ke("arrowDown",o,{disabled:k,withPrefix:ie})})):null,se=r.a.createElement("div",{className:ke(Ce.a.selectComponent,{disabled:k}),ref:function(t){e.refSelect=t},tabIndex:p,"data-allow-shortcuts":!1,style:C?W:{},onClick:this.toggleDropdown,role:"button"},r.a.createElement("div",{className:ke("select",o,i,q,{disabled:k,required:P}),"data-main-select":!0},re,le),ee);return null===L||C||R?se:r.a.createElement(x.b,{title:L,placement:Ee.a.BOTTOM},se)}}]),t}(a.Component);Le.propTypes={items:i.a.arrayOf(i.a.shape({value:i.a.oneOfType([i.a.string,i.a.number]).isRequired,showInList:i.a.boolean,text:i.a.string,node:i.a.node,default:i.a.boolean})).isRequired,footerItem:i.a.shape({text:i.a.string,svgIcon:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),onClickFooter:i.a.func}),itemsExtraAction:i.a.shape({svgIcon:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),onItemExtraAction:i.a.func}),onChange:i.a.func.isRequired,onLimitedOptionClick:i.a.func,value:i.a.oneOfType([i.a.string,i.a.number]).isRequired,tabIndex:i.a.number,showLabel:i.a.bool,maxWidth:i.a.string,minWidth:i.a.string,width:i.a.string,skin:i.a.oneOf([j.a.BLUE,j.a.WHITE,j.a.PURE_WHITE,j.a.TRANSPARENT_WHITE,j.a.L_BLUE,j.a.GREY,j.a.DARK_GREY,j.a.LIGHT_GREY,j.a.GREY_ENROLL_AD_TAG,j.a.GREY_BLUE,j.a.WHITE_GREY,j.a.LIGHT_PERIWINKLE,j.a.SKINLESS_BLUE_HEAD,j.a.REAL_WHITE,j.a.WHITE_DARK_GREY,j.a.WHITE_GRAY_BLUE]),scrollSkin:i.a.oneOf([j.a.BLUE,j.a.WHITE,j.a.GREY,j.a.DARK_GREY,j.a.GREY_WHITE,j.a.L_BLUE,j.a.TRANSPARENT_GREY,j.a.STAGE_GREY,j.a.TRANSPARENT_BLUE,j.a.TRANSPARENT_WHITE,j.a.ACCENT_GREY]),labelSkin:i.a.oneOf([j.a.BLUE,j.a.SEMI_TRANSPARENT_WHITE,j.a.WHITE,j.a.PURE_WHITE,j.a.L_BLUE,j.a.RED,j.a.GREY,j.a.GREY_BLUE,j.a.DARK_GREY,j.a.LIGHT_GREY,j.a.DARK_GREY_NORMAL,j.a.NO_SKIN,j.a.GREY_ENROLL_AD_TAG,j.a.ADTAG]),size:i.a.oneOf([b.a.XSMALL,b.a.SMALL,b.a.NORMAL,b.a.MEDIUM,b.a.MEDIUM_THICK,b.a.MEDIUM_SMALL,b.a.MEDIUM_THIN,b.a.LARGE,b.a.XLARGE,b.a.LARGE_THIN,b.a.XLARGE_THIN]),editOn:i.a.oneOf(["click","doubleClick"]),componentType:i.a.oneOf([ve.a.SELECT,ve.a.EDITABLE_SELECT]),tooltip:i.a.string,minVisibleItems:i.a.number,isNumeric:i.a.bool,maxLength:i.a.number,dropdownItemHeight:i.a.number,dropdownItemWidth:i.a.number,selectedIndex:i.a.number,darkerGrey:i.a.bool,scrollTopValue:i.a.number,arrowHoverBackground:i.a.bool,autoHide:i.a.bool,noBackgroundHover:i.a.bool,openDropdownPosition:i.a.string,dropdownAlignment:i.a.oneOf([D.a.LEFT,D.a.RIGHT]),placement:i.a.string,disabled:i.a.bool,scrollSize:i.a.oneOf([b.a.SMALL,b.a.NORMAL,b.a.MEDIUM,b.a.LARGE]),required:i.a.bool,preventDefaultOnMouseDown:i.a.bool,onDropdownOpen:i.a.func,disableTooltip:i.a.bool,prefixText:i.a.string,showArrow:i.a.bool},Le.defaultProps={tabIndex:-1,showLabel:!0,width:"100%",skin:j.a.WHITE,size:b.a.NORMAL,tooltip:null,minVisibleItems:10,componentType:ve.a.SELECT,editOn:we.a.CLICK,isNumeric:!1,maxLength:12,dropdownItemHeight:28,dropdownItemWidth:0,darkerGrey:!1,arrowHoverBackground:!1,autoHide:!0,noBackgroundHover:!1,onLimitedOptionClick:function(){},selectedIndex:-1,scrollTopValue:0,maxWidth:null,openDropdownPosition:null,dropdownAlignment:D.a.LEFT,placement:"",disabled:!1,scrollSize:b.a.NORMAL,required:!1,preventDefaultOnMouseDown:!1,onDropdownOpen:function(){},disableTooltip:!1,prefixText:"",scrollSkin:j.a.TRANSPARENT_GREY,labelSkin:null,minWidth:null,showArrow:!0,footerItem:{svgIcon:null,text:"",onClickFooter:function(){}},itemsExtraAction:{svgIcon:null,onItemExtraAction:function(){}}};var Pe=Le,Me=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Re=c.a.bind(fe.a);function xe(e){var t=e.step,n=Object(l.e)((function(e){return e.bannerCreator.feed})),o=n.schemas,i=n.selectedSchema,s=Object(l.e)((function(e){return e.bannerCreator.app})).mode,c=Object(a.useState)(!1),u=Me(c,2),d=u[0],p=u[1],f=Object(l.e)((function(e){return Object(me.a)(e)})),h=Object(a.useState)(null),m=Me(h,2),g=m[0],y=m[1],E=Object(l.d)();Object(a.useEffect)((function(){E(Object(de.a)())}),[E]);var S=function(){p(!1)},O=s===v.a.GENERATOR?j.a.GREY_BLUE:j.a.WHITE_DARK_GREY;if(o.size){var C=o.map((function(e){return{value:e.id,text:e.name}})).toJS();return C.unshift({value:0,text:B.a.select+"...",showInList:!1}),r.a.createElement("div",{className:Re(fe.a.schemas,s)},d?r.a.createElement(he.a,{confirmText:B.a.change,cancelText:B.a.cancel,bodyText:B.a.changeSchemaInfo,headerText:B.a.changeSchema,onConfirmClick:function(){E(Object(de.b)(g)),p(!1)},onCancelClick:S,onClose:S}):null,r.a.createElement("div",{className:fe.a.title},B.a.dataSchema),r.a.createElement("div",{className:fe.a.explanation},B.a.dataSchemaMessage),r.a.createElement(Pe,{items:C,value:i,onChange:function(e){if(i&&i!==e&&f.find((function(e){return e.some((function(e){return e}))})))p(!0),y(e);else{E(Object(de.b)(e));var n=(o.find((function(t){return t.id===e}))||{}).custom;t(n?$.SELECT_CUSTOM_SCHEMA:$.SELECT_PREDEFINED_SCHEMA)}},size:b.a.MEDIUM,skin:O}))}return r.a.createElement(R.a,{skin:j.a.WHITE})}xe.propTypes={step:i.a.func.isRequired};var De=xe,je=n(1413),Ne=n.n(je),Ae=n(1033),_e=700,Be=c.a.bind(Ne.a);function He(e){var t=e.step,n=e.showNext,o=Object(l.e)((function(e){return e.bannerCreator})).feed,i=o.sampleDatas,s=o.selectedSchema,c=o.selectedSampleData,u=Object(l.d)(),d=Object(l.e)((function(e){return e.bannerCreator.app})).mode,p=Object(l.e)((function(e){return Object(ne.a)(e)})).custom;Object(a.useEffect)((function(){u(Object(Ae.c)(s))}),[u,s]);var f=i.map((function(e){return{value:e.id,text:e.name,default:e.isDefault}})).toJS();!p&&c||f.unshift({value:0,text:B.a.select,default:!0,showInList:!1});var h={svgIcon:_.a.createNew,text:p?B.a.createFeed:B.a.feedImport,onClickFooter:function(){t(p?$.UPLOAD_CUSTOM_SCHEMA:$.UPLOAD_PREDEFINED_SCHEMA)}};var g={svgIcon:_.a.closeIconSmall,onItemExtraAction:function(e){u(Object(Ae.a)(e))}},y=window.innerHeight>_e?10:8,E=d===v.a.GENERATOR?j.a.GREY_BLUE:j.a.WHITE_DARK_GREY;return r.a.createElement("div",{className:Be(Ne.a.sampleData,d)},r.a.createElement("div",{className:Ne.a.title},p?B.a.yourFeeds:B.a.sampleData),p?null:r.a.createElement("div",{className:Ne.a.explanation},B.a.sampleDataMessage),f.length?r.a.createElement(Pe,{items:f,value:c||"",onChange:function(e){u(Object(Ae.d)(e)),t(p?$.SELECT_CUSTOM_SCHEMA:$.SELECT_PREDEFINED_SCHEMA)},footerItem:h,skin:E,size:b.a.MEDIUM,showLabel:!0,itemsExtraAction:g,minVisibleItems:y}):null,r.a.createElement("div",{className:Ne.a.next},n?r.a.createElement(m.a,{size:b.a.MEDIUM,skin:j.a.BLUE,onClick:function(){u(Object(Ae.b)(c)),t($.BINDINGS)},disabled:!c||!s},B.a.next):null))}He.propTypes={step:i.a.func.isRequired,showNext:i.a.bool},He.defaultProps={showNext:!0};var Ue=He,ze=n(388),Ge=n(434),Fe=n(567),We=n(411),Ve=n(399),qe=n(441),Ke=n(1252),Ye=n(545),Xe=n(1414),Ze=n.n(Xe),Je=n(887),Qe=c.a.bind(Ze.a);function $e(e){var t=e.skin,n=Object(l.e)((function(e){return e.bannerCreator.feed})),a=n.sampleData,o=n.selectedSampleDataRow,i=Object(l.d)();if(!a)return null;return r.a.createElement("div",{className:Qe(Ze.a.rowPreview,t)},r.a.createElement("span",{className:Ze.a.label},B.a.rowPreview),r.a.createElement(Je.a,{min:0,max:a?a.first().size-1:0,value:o,width:"62px",onChange:function(e){i(Object(Ae.e)(Math.max(0,e)))},allowNegative:!1,skin:t}))}$e.propTypes={skin:i.a.oneOf([j.a.DARK,j.a.WHITE_DARK_GREY])},$e.defaultProps={skin:j.a.DARK};var et=$e,tt=n(1251),nt=n(1415),at=n.n(nt),rt=n(391),ot=n(120),it=n(437),lt=n(1147),st=n(623),ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dt=c.a.bind(at.a);function pt(e){var t=e.step,n=Object(l.e)((function(e){return Object(ne.a)(e)}))||{},a=n.custom,o=n.name,i=Object(l.e)((function(e){return e.bannerCreator.feed})).selectedSampleDataRow,s=Object(l.e)((function(e){return e.bannerCreator.app})).mode,c=Object(l.e)((function(e){return s===v.a.EDITOR?Object(Ge.a)(e):new ze.List})),u=Object(l.e)((function(e){return s===v.a.EDITOR?Object(Fe.a)(e):new ze.List(Object(lt.a)(e))})),d=Object(l.e)((function(e){return e.bannerCreator.feed.sampleData})),p=Object(l.e)((function(e){return Object(ne.a)(e)})),f=Object(l.e)((function(e){return Object(me.a)(e)})),h=Object(l.e)((function(e){return e.bannerCreator.editor.banner.banner})),g={},y=Object(l.d)();if(!d)return null;var E=p.custom?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(d.keys())).map((function(e){return{value:e,text:e}})):p.columns.reduce((function(e,t){return t.allow&&e.push({value:t.alias||t.columnName,text:t.columnName}),e}),[]);E.unshift({value:0,text:"Select id",showInList:!1});var S=function(e,t){return function(){var n=e.id,a=e.bannersetElementId,r=e.layerType||e.type;s===v.a.EDITOR?r===rt.b.BACKGROUND?y(Object(Ve.F)(null)):y(Object(Ve.G)([{id:n,props:{feed:e.feed.set(t,null)}}],{skipHistory:!0})):s===v.a.GENERATOR&&(r===rt.b.BACKGROUND?y(Object(Ve.F)({feed:null})):y(Object(it.t)(a,{feed:e.feed.set(t,null)},null,!0)))}};function O(e,t,n){var a=e.id,r=e.bannersetElementId,o=e.layerType||e.type,l=(p.columns.find((function(e){return e.alias===n||e.columnName===n}))||{}).columnName,c=ct({feed:e.feed?e.feed.set(t,n):new Ye.a(ut({},t,n))},Object(tt.a)(e,t,d.get(l||n)&&d.get(l||n).get(i)||null));if(s===v.a.EDITOR)if(o===rt.b.BACKGROUND){var u=c.backgroundColor,f=c.feed;y(Object(Ve.e)(u,!0)),y(Object(Ve.F)(f))}else y(Object(Ve.G)([{id:a,props:c}],{skipHistory:!0}));else if(s===v.a.GENERATOR)if(o===rt.b.BACKGROUND){var h=c.feed,m=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(c,["feed"]);y(Object(st.b)(m,!0)),y(Object(Ve.F)(h))}else y(Object(it.t)(r,c,null,!0))}var C=function(e,t){var n=e.id,a=e.bannersetElementId||n;return g[a]&&g[a][t]||(g[a]=ut({},t,(function(n){O(e,t,n)}))),g[a][t]};var w=s===v.a.GENERATOR?j.a.GREY_BLUE:j.a.WHITE_DARK_GREY;function T(e,t){if(!(e!==qe.a.LAYER||t&&t.size))return null;var n=t;if(s===v.a.EDITOR&&e===qe.a.SLIDE){if(!h||!h.size)return null;h={id:-1,feed:new Ye.a(h.feed),layerName:rt.b.BACKGROUND,layerType:rt.b.BACKGROUND},n=t.push(h)}return r.a.createElement("div",{className:at.a.overlayCard},e===qe.a.SLIDE?r.a.createElement("span",{className:at.a.onAllSlidesTitle},B.a.onAllSlides.toUpperCase()):null,n.map((function(e){var t=null,n=null,a=null,o=null;return s===v.a.EDITOR?(t=e.id,a=e.layerName,o=e.layerType):(t=e.id,n=e.bannersetElementId,a=e.name,o=e.type,t=n||t),Ke.a[o.toUpperCase()]?r.a.createElement("div",{className:at.a.row,key:t},r.a.createElement("span",{className:at.a.layerName},function(e){switch(e){case rt.b.TEXT:return _.a.textElement;case rt.b.IMAGE:return _.a.imageElement;case rt.b.SHAPE:return _.a.shapeElement;case rt.b.BUTTON:return _.a.buttonElement;case rt.b.BACKGROUND:return _.a.backgroundElement;default:return null}}(o),r.a.createElement("span",{className:at.a.layerNameDescription},a.toUpperCase())),Ke.a[o.toUpperCase()].map((function(n){var a=f.get(t)[n];return r.a.createElement("div",{className:at.a.overlayRow,key:n},r.a.createElement("span",{className:at.a.layerType},o===rt.b.BACKGROUND?rt.b.IMAGE:o),r.a.createElement(Pe,{id:n,items:E,value:f.get(t)[n]||"",onChange:C(e,n),size:b.a.MEDIUM,skin:w,width:"250px"}),r.a.createElement("div",{className:dt(at.a.linkBtn,{linked:a})},r.a.createElement(We.a,{disabled:!f.get(t).get(n),size:b.a.NORMAL,skin:j.a.GREY,icon:a?_.a.linkedFeed:_.a.unLinkedFeed,onClick:S(e,n)})))}))):null})))}var k=s===v.a.GENERATOR?j.a.ACCENT_GREY:j.a.BLUE,I=s===v.a.GENERATOR?j.a.WHITE_DARK_GREY:j.a.DARK;return r.a.createElement("div",{className:dt(at.a.bindings,s)},r.a.createElement("div",{className:at.a.firstSection},r.a.createElement("div",{className:at.a.infoSchema},r.a.createElement("span",{className:at.a.schemaName},o),a?B.a.customSampleData:B.a.defaultSampleData),r.a.createElement(m.a,{onClick:function(){t($.SELECT_PREDEFINED_SCHEMA)},size:b.a.MEDIUM,minWidth:"98px",skipOpacity:!0,skin:k},r.a.createElement("div",{className:at.a.buttonContent},ot.a,r.a.createElement("span",null,B.a.editFeed)))),r.a.createElement("hr",{className:at.a.separator}),r.a.createElement("div",{className:at.a.secondSection},r.a.createElement(ye.a,{skin:j.a.TRANSPARENT_GREY,size:b.a.SMALL,autoHeight:!1},r.a.createElement("div",{className:at.a.scrollContent},T(qe.a.SLIDE,c),T(qe.a.LAYER,u)))),r.a.createElement("hr",{className:at.a.separator}),r.a.createElement("div",{className:at.a.thirdSection},r.a.createElement(et,{skin:I})))}pt.propTypes={step:i.a.func.isRequired},pt.defaultProps={};var ft=pt,ht=n(1416),mt=n.n(ht),bt=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},gt=c.a.bind(mt.a);function yt(e,t,n,a){var r=a.some((function(e){return e.some((function(e){return e}))}));return e?r?"bindings":t?t.custom?"customSchema":"predefinedSchema":"dataSchema":"dynamicBanner"}function vt(e){var t=e.appMode,n=localStorage.getItem(E),o=Object(l.e)((function(e){return Object(ne.a)(e)})),i=Object(l.e)((function(e){return e.bannerCreator.feed.selectedSampleData})),s=Object(l.e)((function(e){return Object(me.a)(e)})),c=Object(u.a)({id:"feed",initial:yt(n,o,0,s),context:{retries:0},states:{dynamicBanner:{on:{CONTINUE:o&&i&&s?"bindings":"dataSchema"}},dataSchema:{on:{SELECT_CUSTOM_SCHEMA:"customSchema",SELECT_PREDEFINED_SCHEMA:"predefinedSchema"}},customSchema:{on:{SELECT_PREDEFINED_SCHEMA:"predefinedSchema",SELECT_CUSTOM_SCHEMA:"customSchema",UPLOAD_CUSTOM_SCHEMA:"uploadCustomSchema",BINDINGS:"bindings"}},predefinedSchema:{on:{SELECT_PREDEFINED_SCHEMA:"predefinedSchema",SELECT_CUSTOM_SCHEMA:"customSchema",UPLOAD_PREDEFINED_SCHEMA:"uploadPredefinedSchema",UPLOAD_CUSTOM_SCHEMA:"uploadCustomSchema",BINDINGS:"bindings"}},uploadCustomSchema:{on:{SELECT_PREDEFINED_SCHEMA:"predefinedSchema",SELECT_CUSTOM_SCHEMA:"customSchema",SUCCESS:"bindings",FAILED:"customSchema"}},uploadPredefinedSchema:{on:{SELECT_PREDEFINED_SCHEMA:"predefinedSchema",SELECT_CUSTOM_SCHEMA:"customSchema",SUCCESS:"bindings",FAILED:"predefinedSchema"}},bindings:{on:{EDIT:"dataSchema",SUCCESS:"success",SELECT_PREDEFINED_SCHEMA:"predefinedSchema",SELECT_CUSTOM_SCHEMA:"customSchema"}},success:{type:"final"}}}),p=Object(d.useMachine)(c),f=bt(p,2),h=f[0],m=f[1];return r.a.createElement("div",{className:gt(mt.a.feed,{editor:t===v.a.EDITOR,generator:t===v.a.GENERATOR})},r.a.createElement("div",{className:mt.a.generatorTitle},g.a.addFeed),function(e){switch(e){case"dynamicBanner":return r.a.createElement(T,{step:m,appMode:t});case"dataSchema":return r.a.createElement(De,{step:m});case"customSchema":return r.a.createElement(a.Fragment,null,r.a.createElement(De,{step:m}),r.a.createElement(Ue,{step:m,custom:!0}));case"predefinedSchema":return r.a.createElement(a.Fragment,null,r.a.createElement(De,{step:m}),r.a.createElement(Ue,{step:m}));case"uploadCustomSchema":return r.a.createElement(a.Fragment,null,r.a.createElement(ue,{step:m}));case"uploadPredefinedSchema":return r.a.createElement(a.Fragment,null,r.a.createElement(De,{step:m}),r.a.createElement(Ue,{step:m,showNext:"uploadPredefinedSchema"!==e}),r.a.createElement(ue,{step:m}));case"bindings":return r.a.createElement(ft,{step:m});default:return r.a.createElement(T,{step:m})}}(h.value))}vt.propTypes={appMode:i.a.oneOf([v.a.EDITOR,v.a.GENERATOR])},vt.defaultProps={appMode:v.a.EDITOR};t.a=vt},1470:function(e,t,n){"use strict";var a=n(386),r=n(400),o=n(56),i=n(432),l=n(399),s=n(815),c=n(513),u=n(0),d=n.n(u),p=n(50),f=n.n(p),h=n(4),m=n.n(h),b=n(394),g=n(403),y=n(643),v=n(392),E=n(1001),S=n(393),O=n(17),C=n(7),w=n(806),T=n(405),k=n(407),I=n(794),L=n(811),P=n(1015),M=n(1025),R=n(119),x=n(422),D=n(22),j=n(38),N=n(387),A=n(816),_=n(905),B=n(1032),H=n(1030),U=n(817),z=n(474),G=n(463),F=n(406),W=Object(a.c)((function(e){var t=e.bannerCreator.app,n=Object(r.a)(e).bmMultipleSlides,a=Object(G.a)(e);return{slides:Object(U.a)(e),elements:Object(z.a)(e),hideAddSlide:n===F.a.NO&&i.b,serviceType:a,isGeneratorMode:t.mode===o.a.GENERATOR,appMode:t.mode}}),(function(e){return{onComponentDidMount:function(t){e(Object(s.c)(t))},onScrollChange:function(t){e(Object(s.c)(t))},onAddNewSlideClick:function(){e(Object(l.b)())},swapSlides:function(t,n){e(Object(l.T)(t,n))}}}))(H.a),V=n(1428),q=n.n(V),K=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var X=f.a.bind(q.a),Z=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onTabClick=function(e){a.props.onTabClick(e)},Y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),K(t,[{key:"getSlidesHeader",value:function(){var e=this.props,t=e.bannerDuration,n=e.selectedSlideDuration,a=e.loopCount,r=e.bannerHasStopSlide,o=0!==a?(t*a).toFixed(1)+" s":"",i=r?t.toFixed(1)+" s":o,l=n.toFixed(1)+" s / "+i;return d.a.createElement("div",{className:q.a.slidesHeader},d.a.createElement("div",{className:q.a.iconAndText},d.a.createElement(g.a,{skin:C.a.GREY,size:O.a.LARGE},P.a),d.a.createElement("div",{className:q.a.text},N.a.slides)),d.a.createElement("div",{className:q.a.duration},l))}},{key:"getTabs",value:function(){var e=this.props,t=e.bannerLoaded,n=e.collapsed,a=e.selectedTab,r=e.timelineEnabled,o=e.timelineCollapsed,i=e.lang,l="fr"===i||"es"===i||"ro"===i;if(n||!t)return null;if(r&&!o)return this.getSlidesHeader();var s=[{value:_.a.LAYERS,svgIcon:L.a,text:N.a.layers},{value:_.a.SLIDES,svgIcon:P.a,text:N.a.slides}];return d.a.createElement("div",{className:X(q.a.tabs,{collapsed:n})},d.a.createElement(y.a,{items:s,type:w.a.TOP_LINE,size:O.a.LARGE,skin:C.a.GREY,selectedTab:a,onItemClick:this.onTabClick,isUppercase:!0,showOnlyTooltip:l}))}},{key:"getContainer",value:function(){var e=this.props,t=e.selectedTab,n=e.collapsed,a=e.bannerLoaded,r=e.timelineEnabled,o=e.timelineCollapsed;if(n||!a)return null;if(r&&!o)return d.a.createElement(W,null);var i=void 0;switch(t){case _.a.SLIDES:i=d.a.createElement(W,null);break;case _.a.LAYERS:i=d.a.createElement(B.a,{position:A.a.SIDEBAR})}return i}},{key:"getFooter",value:function(){var e=this.props,t=e.bannerLoaded,n=e.collapsed,a=e.bannerHasStopSlide,r=e.loopCount,o=e.onLoopCountChange,i=e.timelineCollapsed,l=e.showLoopCount,s=e.onToggleCollapsedTimeline,c=e.timelineEnabled;if(!e.showTimelineButton||n||!t)return null;var u=c?"":d.a.createElement("div",{className:q.a.proBadge},d.a.createElement(R.a,{type:j.a.PREMIUM,container:D.a.BUTTONS})),p=d.a.createElement(v.b,{placement:T.a.LEFT,skin:C.a.GREY,title:i?N.a.showTimeline:N.a.hideTimeline},d.a.createElement("div",{role:"presentation",className:X("timelineToggle",{timelineVisible:!i&&c}),onClick:s},d.a.createElement(g.a,{size:O.a.LMEDIUM},M.a),d.a.createElement("span",null,N.a.timeline),u)),f=l&&d.a.createElement("div",{className:q.a.loopCountZone},d.a.createElement(b.a,{label:N.a.loopCount,skin:C.a.DARK_GREY,size:O.a.NORMAL,disabled:a,whiteSpace:"whiteSpace"},d.a.createElement(v.b,{title:N.a.loopCountTooltip,preWrap:!0,width:"250px"},d.a.createElement("sup",null," ?"))),d.a.createElement(x.a,{width:"100px",skin:C.a.DARK_GREY,size:O.a.NORMAL,items:E.a,value:parseInt(r),onChange:function(e){o(e)},showLabel:!0,darkerGrey:!0,dropdownAlignment:S.a.LEFT,openDropdownPosition:S.a.TOP,disabled:a}));return d.a.createElement("div",{className:q.a.slidesFooter},f,p)}},{key:"render",value:function(){var e=this.props,t=e.collapsed,n=e.onToggleButtonClick,a=e.cropMode,r=d.a.createElement("div",{role:"presentation",className:X("toggleButton",{collapsed:t}),onClick:n},d.a.createElement("span",{className:X("arrowIcon",{collapsed:t})},I.a));return d.a.createElement("div",{className:X(q.a.slidesAndLayers,{collapsed:t,disabled:a}),"data-qa":k.u},d.a.createElement("div",{className:q.a.slidesAndLayersHeader},r,this.getTabs()),d.a.createElement("div",{className:q.a.content},this.getContainer(),this.getFooter()))}}]),t}(u.Component);Z.propTypes={collapsed:m.a.bool,selectedSlideDuration:m.a.number,bannerDuration:m.a.number,onToggleButtonClick:m.a.func,onTabClick:m.a.func,selectedTab:m.a.string,bannerLoaded:m.a.bool,timelineEnabled:m.a.bool,showTimelineButton:m.a.bool,onLoopCountChange:m.a.func,loopCount:m.a.number,bannerHasStopSlide:m.a.bool,showLoopCount:m.a.bool,timelineCollapsed:m.a.bool,onToggleCollapsedTimeline:m.a.func,lang:m.a.string,cropMode:m.a.bool},Z.defaultProps={collapsed:!1,selectedSlideDuration:0,bannerDuration:0,onToggleButtonClick:function(){},onTabClick:function(){},selectedTab:_.a.SLIDES,bannerLoaded:!1,timelineEnabled:!1,showTimelineButton:!0,onLoopCountChange:function(){},loopCount:0,bannerHasStopSlide:!0,showLoopCount:!1,timelineCollapsed:!0,lang:"en",onToggleCollapsedTimeline:function(){},cropMode:!1};var J=Z,Q=n(740),$=n(709),ee=n(65),te=Object(ee.createSelector)([z.a],(function(e){return e.some((function(e){return!0===e.stopSlide}))})),ne=n(459),ae=n(810),re=n(448),oe=Object(a.c)((function(e){var t=Object(ae.a)(e),n=e.bannerCreator,a=n.editor,l=n.app.mode,s=a.banner.bannerLoaded,c=a.stage.cropElementId;if(!s)return{bannerLoaded:s};var u=Object(r.a)(e),d=u.bmTimeline,p=u.bmTransitions,f=a.slidesAndLayers,h=f.panelCollapsed,m=f.selectedTab,b=a.timeline.collapsed,g=Object(re.a)(e),y=Object(ne.b)(e),v=Object($.a)(d),E=te(e),S=v&&!b?_.a.SLIDES:m;return{collapsed:h,selectedTab:S,bannerLoaded:s,selectedSlideDuration:g,bannerDuration:y,timelineEnabled:v,showTimelineButton:!i.b||v,loopCount:a.banner.banner.loopCount,bannerHasStopSlide:E,timelineCollapsed:b,showLoopCount:!(i.b&&p===Q.a.NO)&&S===_.a.SLIDES&&l!==o.a.GENERATE,lang:t,cropMode:!!c}}),(function(e){return{onToggleButtonClick:function(){e(Object(s.d)())},onToggleCollapsedTimeline:function(){e(Object(c.n)())},onTabClick:function(t){e(Object(s.a)(t))},onLoopCountChange:function(t){e(Object(l.G)([{id:-1,props:{loopCount:t}}]))}}}))(J);t.a=oe},1480:function(e,t,n){"use strict";var a=n(386),r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(394),c=n(393),u=n(414),d=n(660),p=n(17),f=n(7),h=n(392),m=n(1154),b=n.n(m),g=n(387),y=n(772),v=n(411),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.replayIFrame=function(){a.refPreviewIFrame&&a.refPreviewIFrame.renderBanner()},S(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),E(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.json,a=t.startSlide;if(!t.visible)return null;var r=n.properties,i=r.width,l=r.height,m=Math.max(Math.min(parseInt(i)+60,window.innerWidth-200),600),E=Math.min(parseInt(l)+130,window.innerHeight-200),S=1,O=1;i>m-50&&(S=Math.floor((m-50)/i*100)/100),l>E-100&&(O=Math.floor((E-100)/l*100)/100);var C=Math.min(S,O);return o.a.createElement(u.a,{width:m+"px",onClose:this.props.onClose,padding:"0px"},o.a.createElement("div",{className:b.a.previewPopin},o.a.createElement("div",{className:b.a.header},o.a.createElement(s.a,{size:p.a.LARGE,label:g.a.previewHeader,skin:f.a.WHITE}),o.a.createElement(h.b,{placement:c.a.BOTTOM,title:g.a.replayTooltip},o.a.createElement("div",{className:b.a.refreshIcon},o.a.createElement(v.a,{onClick:this.replayIFrame,size:p.a.XLARGE,skin:f.a.DARK_GREY,icon:y.a})))),o.a.createElement("div",{className:b.a.body},o.a.createElement(d.a,{json:n,startSlide:a,width:i,height:l,zoom:C,showOnlyOneSlide:!1,ref:function(t){e.refPreviewIFrame=t}}))))}}]),t}(r.Component);O.propTypes={visible:l.a.bool,json:l.a.object,startSlide:l.a.number,onClose:l.a.func.isRequired},O.defaultProps={visible:!1,json:null,startSlide:null};var C=O,w=n(678),T=n(65),k=n(817),I=Object(T.createSelector)([k.a,function(e){return e.bannerCreator.editor.general.previewStartSlideId}],(function(e,t){return t?e.findIndex((function(e){return e===t})):0}));t.a=Object(a.c)((function(e){var t=e.bannerCreator.editor,n=t.general.previewBannerPopinVisible,a=t.banner.banner;if(!n||!a)return{visible:!1};var r=I(e);return{visible:n,json:a.getJson(),startSlide:r}}),(function(e){return{onClose:function(){e(Object(w.b)())}}}))(C)},1482:function(e,t,n){"use strict";var a=n(386),r=n(65),o=n(680),i=n(584),l=n(445),s=n(671),c=Object(r.createSelector)([s.a],(function(e){return e.map((function(e){var t=void 0;switch(e.type){case o.a.STOCK_PHOTO:case o.a.MY_UPLOAD:t=l.a.IMAGE;break;case o.a.SVG:t=l.a.SVG}return new i.a({type:t,data:e.info})}))})),u=n(0),d=n.n(u),p=n(4),f=n.n(p),h=n(388),m=n(50),b=n.n(m),g=n(1396),y=n.n(g),v=n(575),E=n(387),S=n(7),O=b.a.bind(y.a),C=function(e){var t=e.items,n=e.skin,a=e.searchValue;return t.size||a?d.a.createElement(v.a,{columns:3,items:t,skin:n,searchValue:a}):d.a.createElement("div",{className:O(y.a.empty,n)},d.a.createElement("span",{className:y.a.bold}," ",E.a.noFavoriteItems," "),E.a.addItemsToFavorite)};C.propTypes={items:f.a.instanceOf(h.List),skin:f.a.oneOf([S.a.LIGHT_GREY,S.a.DARK_BLUE]),searchValue:f.a.string.isRequired},C.defaultProps={items:new h.List,skin:S.a.DARK_BLUE};var w=C,T=n(476),k=Object(a.c)((function(e){return{items:c(e),skin:Object(T.a)(e),searchValue:e.bannerCreator.contentLibrary.search.value}}),null)(w);t.a=k},1483:function(e,t,n){"use strict";var a=n(386),r=n(65),o=n(618),i=n(511),l=n(564),s=Object(r.createSelector)([function(e){return e.bannerCreator.contentLibrary.recentlyUsed},function(e){return e.bannerCreator.workspace.selectedWorkspaceId},function(e){return e.bannerCreator.contentLibrary.search}],(function(e,t,n){var a=e.filter((function(e){return e.workspaceId===t}));return n.value||n.filter!==l.a.ALL?Object(o.a)(n,a,i.a.RECENTLY_USED):a})),c=n(0),u=n.n(c),d=n(4),p=n.n(d),f=n(388),h=n(50),m=n.n(h),b=n(575),g=n(1401),y=n.n(g),v=n(387),E=n(7),S=m.a.bind(y.a),O=function(e){var t=e.items,n=e.columns,a=e.skin,r=e.searchValue;return t.size||r?u.a.createElement(b.a,{items:t,columns:n,skin:a,searchValue:r}):u.a.createElement("div",{className:S(y.a.noRecentlyUsed,a)},v.a.noRecentlyUsed)};O.propTypes={items:p.a.instanceOf(f.List),columns:p.a.number,skin:p.a.oneOf([E.a.LIGHT_GREY,E.a.DARK_BLUE]),searchValue:p.a.string.isRequired},O.defaultProps={items:new f.List,columns:3,skin:E.a.DARK_BLUE};var C=O,w=n(1082),T=n(476),k=Object(a.c)((function(e){return{items:s(e),columns:w.a.COLUMNS,skin:Object(T.a)(e),searchValue:e.bannerCreator.contentLibrary.search.value}}))(C);t.a=k},1486:function(e,t,n){"use strict";var a=n(386),r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(114),c=n(414),u=n(7),d=n(387),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"render",value:function(){var e=this.props,t=e.onCancelClick;if(!e.visible)return null;var n=[o.a.createElement(s.a,{key:d.a.doneLetMeType,onClick:t,onMouseDown:function(e){e.preventDefault()},skin:u.a.BLUE},d.a.doneLetMeType)];return o.a.createElement(c.a,{header:d.a.fontSuccesfullyUploaded,onClose:t,buttons:n},d.a.fontSuccesfullyUploadedMessage)}}]),t}(r.Component);f.propTypes={onCancelClick:l.a.func.isRequired,visible:l.a.bool},f.defaultProps={visible:!1};var h=f,m=n(525),b=Object(a.c)((function(e){return{visible:e.bannerCreator.library.typography.uploadFontData.successUploadedFontPopinVisible}}),(function(e){return{onCancelClick:function(){e(Object(m.j)())}}}))(h);t.a=b},1728:function(e,t,n){e.exports={toolPanel:"b8k",toolPanelVisible:"b8l",backgroundBlink:"b8m",blinking:"b8n",panelSection:"b8o",visible:"b8p",toolPanelHeader:"b8q",panelHeaderIcon:"b8r",toolPanelCloseButton:"b8s",toolPanelContent:"b8t",stockPhotos:"b8u",myUploads:"b8v",shapes:"b90",illustrations:"b91",logos:"b92",recentlyUsed:"b93",favorites:"b94",icons:"b95",enter:"b96",enterActive:"b97",shake:"b98","fade-in":"b99"}},1729:function(e,t,n){e.exports={colorPanel:"c1n",colorPreset:"c1o",colorCategory:"c1p",shake:"c1q","fade-in":"c1r"}},2489:function(e,t,n){e.exports={errorPopin:"b01",header:"b02",body:"b03",footer:"b04",button:"b05",shake:"b06","fade-in":"b07"}},2490:function(e,t,n){e.exports={image:"avr",svg:"avs",isTransparent:"avt",textPreset:"avu",shake:"avv","fade-in":"b00"}},2491:function(e,t,n){e.exports={savePopin:"b08",header:"b09",noProgressStatus:"b0a",hasCustomMessage:"b0b",isErrorButName:"b0c",customMessage:"b0d",progressStatus:"b0e",icon:"b0f",text:"b0g",arrow:"b0h",progressStatusPopin:"b0i",inProgress:"b0j",awaitingFeedback:"b0k",notReady:"b0l",done:"b0m",rejected:"b0n",inUse:"b0o",unmarked:"b0p",footer:"b0q",tipCtrlS:"b0r",button:"b0s",save:"b0t",backToWorkspace:"b0u",enter:"b0v",leave:"b10",enterActive:"b11",leaveActive:"b12",body:"b13",input:"b14",target:"b15",bannerUrl:"b16",targetUrl:"b17",useAsClickTag:"b18",checkboxLabel:"b19",useBorderContainer:"b1a",useBorderContainerInner:"b1b",imageQualityAndBorder:"b1c",imageQuality:"b1d",imageQualityLabel:"b1e",imageQualitySlider:"b1f",imageQualityValue:"b1g",useBorder:"b1h",useBorderText:"b1i",useBorderSwitch:"b1j",borderSelectedColor:"b1k",borderColorPickerTool:"b1l",optionsContainer:"b1m",convertContainer:"b1n",checkbox:"b1o",disabled:"b1p",convertBadge:"b1q",retinaCheckbox:"b1r",bodySaving:"b1s",bodyError:"b1t",vAlign:"b1u",switchAccountError:"b1v",confirmSaveIcon:"b20",selectedColorOff:"b21",cursorDefault:"b22",shake:"b23","fade-in":"b24"}},2492:function(e,t,n){e.exports={container:"c29",white:"c2a",grey:"c2b",transparent:"c2c",search:"c2d",searchIcon:"c2e",opened:"c2f",searchInput:"c2g",clear:"c2h",hidden:"c2i",shake:"c2j","fade-in":"c2k"}},2493:function(e,t,n){e.exports={container:"c01",searchTemplate:"c02",searchActive:"c03",selectCategory:"c04",grabIcon:"c05",shake:"c06","fade-in":"c07"}},2494:function(e,t,n){e.exports={imageContainer:"c0k",loaded:"c0l",previewBtnContainer:"c0m",previewBtn:"c0n",shake:"c0o","fade-in":"c0p"}},2495:function(e,t,n){e.exports={templatesList:"bm9",noTemplatesMessage:"bma",template:"bmb",oneCol:"bmc",startFromBlank:"bmd",twoCol:"bme",threeCol:"bmf",fourCol:"bmg",plusSign:"bmh",shake:"bmi","fade-in":"bmj"}},2496:function(e,t,n){e.exports={templatesPanel:"be4",templatesPanelContent:"be5",noTemplatesMessage:"be6",myTemplatesMessage:"be7",shake:"be8","fade-in":"be9"}},2497:function(e,t,n){e.exports={backgroundPanel:"bn8",resizeButton:"bn9",icon:"bna",label:"bnb",backgroundPanelContent:"bnc",shake:"bnd","fade-in":"bne"}},2498:function(e,t,n){e.exports={gradientGeneratorPanel:"c97",controls:"c98",controlButton:"c99",shake:"c9a","fade-in":"c9b"}},2499:function(e,t,n){e.exports={colorPreset:"c5i",custom:"c5j",transparent:"c5k",shake:"c5l","fade-in":"c5m"}},2500:function(e,t,n){e.exports={imagesPanelContainer:"c1k",imagesTabs:"c1l","imagesPanel-imagesModal":"c1m"}},2501:function(e,t,n){e.exports={imageSettingsContainer:"ca0",row:"ca1",text:"ca2",scaleMode:"ca3",withMargin:"ca4",alignTool:"ca5",tileSettings:"ca6",group:"ca7",label:"ca8",sliderContainer:"ca9",slider:"caa",shake:"cab","fade-in":"cac"}},2502:function(e,t,n){e.exports={texturesPanel:"c38",texture:"c39"}},2503:function(e,t,n){e.exports={textList:"bt1",line:"bt2",shake:"bt3","fade-in":"bt4"}},2504:function(e,t,n){e.exports={textPanelContainer:"bjb"}},2505:function(e,t,n){e.exports={presetContainer:"c7o",image:"c7p",dragging:"c7q",loading:"c7r",loaded:"c7s",presetPlaceholder:"c7t",shake:"c7u","fade-in":"c7v"}},2506:function(e,t,n){e.exports={presetList:"c3a",shake:"c3b","fade-in":"c3c"}},2507:function(e,t,n){e.exports={buttonsPanelContainer:"c0q"}},2508:function(e,t,n){e.exports={magicAnimatePanel:"bkg",subtitle:"bkh",presets:"bki",preset:"bkj",logo:"bkk",noneIcon:"bkl",title:"bkm",preview:"bkn",disabled:"bko",previewPopinContent:"bkp",previewPopinBody:"bkq",arrowBtn:"bkr",previewPopinBottom:"bks",left:"bkt",checkbox:"bku",checkboxLabel:"bkv",note:"bl0",right:"bl1",button:"bl2",shake:"bl3","fade-in":"bl4"}},2509:function(e,t,n){e.exports={resizeContainer:"bk3",hasSelectedSizes:"bk4",sizeTabs:"bk5",topCheckbox:"bk6",label:"bk7",container:"bk8",title:"bk9",cardsContainer:"bka",preset:"bkb",customSize:"bkc",bottomContainer:"bkd",shake:"bke","fade-in":"bkf"}},2510:function(e,t,n){e.exports={container:"c3d",rightSide:"c3e",shake:"c3f","fade-in":"c3g"}},2511:function(e,t,n){e.exports={container:"c9k",selectedSizeCount:"c9l",dropdownButton:"c9m",disabled:"c9n",arrow:"c9o",dropdown:"c9p",listItem:"c9q",leftSide:"c9r",rightSide:"c9s",removeButton:"c9t",shake:"c9u","fade-in":"c9v"}},2512:function(e,t,n){e.exports={shortcutsList:"bjo",line:"bjp",shortcuts:"bjq",shortcut:"bjr",commandBackground:"bjs",command:"bjt",secondCommand:"bju",shortcutDetails:"bjv",plus:"bk0",shake:"bk1","fade-in":"bk2"}},2513:function(e,t,n){e.exports={elementsPanelContainer:"bs8",visible:"bs9",elementsPanel:"bsa",element:"bsb",elementIcon:"bsc",elementLabel:"bsd",separator:"bse",elementSection:"bsf",searchContainer:"bsg",searchSectionContainer:"bsh",searchResultsContainer:"bsi",shake:"bsj","fade-in":"bsk"}},2514:function(e,t,n){e.exports={toolBarIconButton:"bcc",icon:"bcd",iconName:"bce",badge:"bcf",selected:"bcg",shake:"bch","fade-in":"bci"}},2515:function(e,t,n){e.exports={toolBar:"b9a",selectedTab:"b9b",bottomTab:"b9c",shake:"b9d","fade-in":"b9e"}},2516:function(e,t,n){e.exports={tools:"b25",collapsed:"b26",shake:"b27","fade-in":"b28"}},2526:function(e,t,n){"use strict";n.r(t);var a=n(966),r=n(4),o=n.n(r),i=n(0),l=n.n(i),s=n(386),c=n(472),u=n(425),d=n(1587);var p,f,h=(p=regeneratorRuntime.mark((function e(t){var n,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments[2];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.prev=1,e.next=4,Object(d.a)(t,a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a&&502===(n=new u.a(e.t0)).code&&r(n.message,n.code);case 9:case"end":return e.stop()}}),e,void 0,[[1,6]])})),f=function(){var e=p.apply(this,arguments);return new Promise((function(t,n){return function a(r,o){try{var i=e[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(l)}("next")}))},function(e){return f.apply(this,arguments)}),m=n(714),b=n(581),g=n(436),y=n(417),v=n(407),E=n(767),S=n(57),O=n(932),C=n.n(O),w=n(56),T=n(486),k=n(458),I=n(426),L=n(401),P=n(1036),M=n(1486),R=n(1237),x=n(525),D=n(1175),j=n(1037),N=n(452),A=n(770),_=n(454),B=n(433),H=n(410),U=n(387),z=n(399),G=n(678),F=n(7),W=n(394),V=n(457),q=n(414),K=n(17),Y=n(2489),X=n.n(Y),Z=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var J=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Z(t,[{key:"render",value:function(){var e=this;return l.a.createElement(q.a,{minWidth:this.props.minWidth+"px",minHeight:this.props.minHeight+"px",width:"auto",onClose:function(){return e.props.onResponseHandler("cancel")},closeOnOverlayClick:this.props.closeOnOverlayClick,padding:"0"},l.a.createElement("div",{className:X.a.leavePopin},l.a.createElement("div",{className:X.a.header},l.a.createElement(W.a,{label:this.props.confirmHeader,skin:F.a.WHITE,size:K.a.LARGE})),l.a.createElement("div",{className:X.a.body},this.props.children),l.a.createElement("div",{className:X.a.footer},l.a.createElement("div",{className:X.a.button},l.a.createElement(V.a,{label:this.props.cancelText,size:K.a.NORMAL,onClick:function(){return e.props.onResponseHandler("cancel")}})),l.a.createElement("div",{className:X.a.button},l.a.createElement(V.a,{skin:F.a.BLUE,label:this.props.confirmText,size:K.a.NORMAL,onClick:function(){return e.props.onResponseHandler("ok")}})))))}}]),t}(i.Component);J.propTypes={confirmHeader:o.a.string,confirmText:o.a.string,cancelText:o.a.string,minWidth:o.a.number,minHeight:o.a.number,onResponseHandler:o.a.func.isRequired,closeOnOverlayClick:o.a.bool,children:o.a.node},J.defaultProps={minWidth:460,minHeight:150,confirmHeader:U.a.confirmHeader,confirmText:U.a.delete,cancelText:U.a.cancel,closeOnOverlayClick:!1,children:null};var Q=J,$=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var te=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onResponse=function(e){var t=a.props,n=t.onCancelClick,r=t.onConfirmClick,o=t.lastTemplateHash;"ok"===e?r(o):n()},ee(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$(t,[{key:"render",value:function(){return this.props.changeTemplatePopinVisible?l.a.createElement(Q,{confirmHeader:U.a.changeTempP1Text,confirmText:U.a.replace,onResponseHandler:this.onResponse},l.a.createElement("div",null,l.a.createElement(W.a,{label:U.a.loseSlides,skin:F.a.WHITE}))):null}}]),t}(i.Component);te.propTypes={lastTemplateHash:o.a.string,changeTemplatePopinVisible:o.a.bool,onConfirmClick:o.a.func,onCancelClick:o.a.func},te.defaultProps={lastTemplateHash:null,changeTemplatePopinVisible:!1,onConfirmClick:function(){},onCancelClick:function(){}};var ne=te,ae=n(820),re=Object(s.c)((function(e){var t=e.bannerCreator.editor.templates;return{lastTemplateHash:t.lastTemplateHash,changeTemplatePopinVisible:t.changeTemplatePopinVisible}}),(function(e){return{onConfirmClick:function(t){e(t?Object(ae.a)(t):Object(ae.i)())},onCancelClick:function(){e(Object(ae.b)())}}}))(ne),oe=n(50),ie=n.n(oe),le=n(388),se=n(908),ce=n(1189),ue=n(391),de=n(2490),pe=n.n(de),fe=n(397),he=function(e,t,n,a){var r=n-e,o=a-t;return r*=r,o*=o,Math.sqrt(r+o)},me=n(1525),be=n(676),ge=n(1056),ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ve=ie.a.bind(pe.a),Ee=96,Se=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onWindowMouseUp=function(){e.props.clearDraggingItem()},e.getThumbDimensions=function(e,t,n,a){var r=a+3*e;return{thumbWidth:r,thumbHeight:(r*n+3*e)/t}},e.getDraggingImageSize=function(t,n,a){var r=e.props,o=r.zoom,i=r.initialMousePos,l=i.x,s=i.y,c=e.state,u=c.x,d=c.y,p=Math.ceil(he(l,s,u,d)),f=e.getThumbDimensions(p,t,n,a),h=f.thumbWidth,m=f.thumbHeight,b=Math.ceil(t*o),g=Math.ceil(n*o);return{imageWidth:Math.min(h,b),imageHeight:Math.min(m,g)}},e.getStyle=function(){var t=e.props,n=t.layerType,a=t.textPresetHash,r=t.bannerWidth,o=t.bannerHeight,i=e.props.replaceElementData;if(!n)return null;var l=e.state,s=l.x,c=l.y;switch(n){case ue.b.SVG:case ue.b.IMAGE:i.url&&!Object(fe.t)(i.url)&&(i=i.set("url","//cdn.bannersnack.com/files/"+i.url));var u=e.props.replaceElementData,d=u.width,p=u.height,f=e.getDraggingImageSize(d,p,Ee),h=f.imageWidth,m=f.imageHeight;return{top:c-m/2+"px",left:s-h/2+"px",width:h,height:m,backgroundImage:"url("+i.url+")",visibility:0===s&&0===c?"hidden":"visible"};case ue.b.TEXT_PRESET:var b=Object(ge.a)(r,o),g=e.getDraggingImageSize(ce.e*b,ce.d*b,ce.b),y=g.imageWidth,v=g.imageHeight;return{top:c-v/2+"px",left:s-y/2+"px",width:y,height:v,backgroundImage:"url(//cdn.bannersnack.com/banners/"+a+"/images/png)",visibility:0===s&&0===c?"hidden":"visible"};default:return{}}},e.getDraggingHolder=function(){var t=e.props,n=t.layerType,a=t.isTransparent,r=t.replaceElementData;switch(n){case ue.b.IMAGE:case ue.b.SVG:var o=r.id,i=r.url,s=r.svgContent,c=null;if(n===ue.b.SVG&&!i&&s){var u="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(s);c=l.a.createElement("img",{style:{height:"100%",width:"100%"},src:u,alt:"dragging-svg-"+o})}return l.a.createElement("div",{className:ve(pe.a[n],{isTransparent:a}),style:e.getStyle()},c);case"textPreset":var d=e.props,p=d.draggingPreset,f=d.bannerHasDarkBackground,h=d.initialMousePos,m=e.getStyle();if(p){var b=p.elements.first(),g=b.elements;if(!f){var y=h.x,v=h.y,E=e.state,S=E.x,O=E.y,C=Math.ceil(he(y,v,S,O)),w=Math.max(255-C,0),T="rgb("+w+","+w+","+w+")";g=b.elements.map((function(e){if(e.layerType===ue.b.TEXT){if(e.config){var t=e.config;return t.forEach((function(e,n){var a=e.children;e.style&&(t=t.updateIn([n,"style"],(function(e){return e.set("color",T)}))),a&&a.forEach((function(e,a){e.style&&(t=t.updateIn([n,"children",a,"style"],(function(e){return e.set("color",T)})))}))})),e.set("config",t)}return e.set("color",T)}if(e.layerType===ue.b.SHAPE){var n=e.backgroundColor.set("scolor",T),a=e.border.set("color",T);return e.merge({border:a,backgroundColor:n})}return e}))}m.backgroundImage=null;var k=m.width/ce.e;return l.a.createElement("div",{className:ve(pe.a[n]),style:m},"visible"===m.visibility?l.a.createElement(be.a,{width:ce.e,height:ce.d,slide:b,elements:g,readOnly:!0,zoom:k}):null)}return l.a.createElement("div",{className:ve(pe.a[n]),style:m});default:return null}},e.mousemoveListener=function(t){e.props.layerType&&e.setState({x:t.clientX,y:t.clientY})},e.state={x:0,y:0},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ye(t,[{key:"componentWillReceiveProps",value:function(e){e.layerType!==this.props.layerType&&this.setState({x:0,y:0})}},{key:"componentWillUpdate",value:function(e){e.layerType?(window.addEventListener("mousemove",this.mousemoveListener),window.addEventListener("mouseup",this.onWindowMouseUp)):(window.removeEventListener("mouseup",this.onWindowMouseUp),window.removeEventListener("mousemove",this.mousemoveListener))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.mousemoveListener),window.removeEventListener("mouseup",this.onWindowMouseUp)}},{key:"render",value:function(){return this.getDraggingHolder()}}]),t}(i.Component);Se.propTypes={layerType:o.a.string,clearDraggingItem:o.a.func,zoom:o.a.number,isTransparent:o.a.bool,replaceElementData:o.a.instanceOf(le.Record),initialMousePos:o.a.instanceOf(le.Record),textPresetHash:o.a.string,bannerWidth:o.a.number,bannerHeight:o.a.number,bannerHasDarkBackground:o.a.bool,draggingPreset:o.a.instanceOf(le.Record)},Se.defaultProps={layerType:null,clearDraggingItem:function(){},zoom:1,isTransparent:!1,replaceElementData:new se.a,initialMousePos:new me.a,textPresetHash:"",bannerWidth:0,bannerHeight:0,bannerHasDarkBackground:!1,draggingPreset:null};var Oe=Se,Ce=n(648),we=n(1052),Te=n(829),ke=Object(s.c)((function(e){var t=e.bannerCreator.editor,n=t.drag,a=n.layerType,r=n.replaceElementData,o=n.replaceHoverElementId,i=n.initialMousePos,l=n.textPresetHash,s=n.textPresetJson,c=t.banner.banner,u=c?c.width:0,d=c?c.height:0,p=c?c.backgroundColor:{},f=t.stage.zoom,h=s?new Te.a(s.banner):null;return{layerType:a,replaceElementData:r,zoom:f,isTransparent:!!o,initialMousePos:i,textPresetHash:l,bannerWidth:u,bannerHeight:d,bannerHasDarkBackground:Object(we.a)(p),draggingPreset:h}}),(function(e){return{clearDraggingItem:function(){e(Object(Ce.b)())}}}))(Oe),Ie=n(1097),Le=n(427),Pe=Object(s.c)((function(e){var t=e.bannerCreator.editor.general.generalError;return{errorMessage:t.message,errorType:t.code,errorOptions:t.options}}),(function(e){return{onCloseHandler:function(){e(Object(G.a)())},goToWorkspace:function(){e(Object(Le.a)())}}}))(Ie.a),Me=n(396),Re=n(450),xe=n(418),De=n(633),je=n(698),Ne=n(421),Ae=n(541),_e=n(478),Be=n(565),He=n(440),Ue=n(1138),ze=n(395),Ge=n(422),Fe=n(637),We=n(658),Ve=n(563),qe=n(392),Ke=n(834),Ye=n(2491),Xe=n.n(Ye),Ze=n(405),Je=n(532),Qe=n(657),$e=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var et=ie.a.bind(Xe.a),tt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));nt.call(n);var a=e.name,r=e.convertCustomFonts,o=e.progressStatus;return n.state={borderShowColorPickerTool:!1,showImageQualityAndBorder:!1,name:a,convertCustomFonts:r,progressStatus:o,progressStatusPopinVisible:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$e(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.name,n=e.saveOptions,a=e.convertCustomFonts,r=e.progressStatus,o=e.visible;if(t!==this.props.name){var i=e.name;n.saveAs&&(i="Copy of "+i),this.setState({name:i})}a!==this.props.convertCustomFonts&&this.setState({convertCustomFonts:a}),r!==this.props.progressStatus&&this.setState({progressStatus:r}),o!==this.props.visible&&this.setState({progressStatus:r,progressStatusPopinVisible:!1})}},{key:"componentDidUpdate",value:function(e){var t=e.visible,n=this.props,a=n.visible,r=n.bannerHasRTLText,o=n.convertCustomFonts,i=n.onChangeHandler;!t&&a&&o&&r&&i({convertCustomFonts:!1})}},{key:"getTextValue",value:function(e){var t=this.props.appMode===w.a.GENERATOR;switch(e){case"namePlaceholder":return t?U.a.bannerSetName:U.a.bannerName;default:return""}}},{key:"getFooter",value:function(){var e=this.props,t=e.savingState,n=e.saveOptions,a=e.onBack,r=e.onCancel,o=e.goToWorkspace,i=this.getErrors(),s=i.isNameError,c=i.isWorkspaceError,u=i.isSwitchAccountError,d=i.isGenericError,p=void 0,f=U.a.save;return n.saveAs?f=U.a.saveAs:n.saveToMyAccount&&(f=U.a.saveToMyAccount),"save"===t||s?p=l.a.createElement("div",{className:Xe.a.footer},l.a.createElement("div",{className:Xe.a.tipCtrlS},U.a.tip+": "+U.a.use+" Ctrl+S "+U.a.toSaveWhileEditing),l.a.createElement("div",{className:et("button","save")},l.a.createElement(V.a,{label:f,skin:F.a.GREEN,size:K.a.NORMAL,style:{width:n.saveToMyAccount?"140px":"100px"},onClick:this.saveBanner})),l.a.createElement("div",{className:Xe.a.button},l.a.createElement(V.a,{label:U.a.cancel,size:K.a.NORMAL,onClick:r}))):c?p=l.a.createElement("div",{className:Xe.a.footer},l.a.createElement("div",{className:et("button","backToWorkspace")},l.a.createElement(V.a,{label:U.a.goToWorkspace,skin:F.a.BLUE,size:K.a.NORMAL,width:"150px",onClick:o}))):u?p=l.a.createElement("div",{className:Xe.a.footer},l.a.createElement("div",{className:et("button","backToWorkspace")},l.a.createElement(V.a,{label:U.a.backToMyAccount,skin:F.a.BLUE,size:K.a.NORMAL,width:"150px",onClick:o}))):d&&(p=l.a.createElement("div",{className:Xe.a.footer},l.a.createElement("div",{className:Xe.a.button},l.a.createElement(V.a,{label:U.a.back,skin:F.a.RED,size:K.a.NORMAL,onClick:a})))),p}},{key:"getBody",value:function(){var e=this.props,t=e.savingState,n=e.errorMessage,a=e.errorCode,r=this.state.name,o=this.getErrors(),i=o.isNameError,s=o.isWorkspaceError,c=o.isSwitchAccountError,u=o.isGenericError,d=r&&r!==U.a.untitledBannerSet?r:"",p=void 0;if("save"===t||i)p=l.a.createElement("div",{className:Xe.a.body},l.a.createElement("div",{className:Xe.a.input},l.a.createElement(Ve.a,{placeholder:this.getTextValue("namePlaceholder"),value:d,size:K.a.LARGE,skin:i?F.a.RED:F.a.WHITE,onChange:this.onChangeName,onKeyUp:this.onKeyUpName,focus:!0})),this.getBannerUrl(),l.a.createElement("div",{className:Xe.a.optionsContainer},this.getConvertCheckBox(),this.getRetinaCheckbox()),this.getToggleImageAndQualityBorder(),l.a.createElement(Re.CSSTransitionGroup,{transitionName:{enter:Xe.a.enter,leave:Xe.a.leave,enterActive:Xe.a.enterActive,leaveActive:Xe.a.leaveActive},transitionEnterTimeout:200,transitionLeaveTimeout:200},this.getImageAndQualityBorder()));else if("saving"===t)p=l.a.createElement("div",{className:et(Xe.a.body,Xe.a.bodySaving)},l.a.createElement(ze.a,{type:K.a.LARGE}));else if(u||s||c){var f=n;s?f=U.a.noWorkspaceAccessDescription:c&&(f=U.a.noSwitchAccountAccessDescription),p=l.a.createElement("div",{className:et(Xe.a.body,Xe.a.bodyError,{switchAccountError:c})},l.a.createElement("div",{className:Xe.a.vAlign},l.a.createElement(_e.a,{errorMessage:f,errorCode:a,size:K.a.MEDIUM})))}else p=l.a.createElement("div",{className:et(Xe.a.body,Xe.a.bodySaving)},l.a.createElement("div",{className:Xe.a.confirmSaveIcon},l.a.createElement(De.a,{icon:"checkmarkSuccess",size:K.a.XLARGE})));return p}},{key:"getHeader",value:function(){var e=this.props,t=e.savingState,n=e.appMode,a=e.errorMessage,r=e.customMessage,o=e.showProgressStatus,i=this.getErrors(),s=i.isNameError,c=i.isWorkspaceError,u=i.isSwitchAccountError,d=i.isGenericError,p=void 0,f=void 0,h=n===w.a.GENERATOR;return"save"===t?(p=h?U.a.saveHeaderGenerator:U.a.saveHeader,f=r?l.a.createElement("div",{className:Xe.a.customMessage},r):null):p=s?a:"saving"===t?h?U.a.savingHeaderGenerator:U.a.savingHeader:c||u?U.a.noWorkspaceAccess:d?U.a.errorHeader:U.a.saved,l.a.createElement("div",{className:et(Xe.a.header,{isErrorButName:d,hasCustomMessage:r,noProgressStatus:!o})},l.a.createElement(W.a,{size:K.a.LARGE,label:p,skin:F.a.WHITE}),f,this.getProgressStatus())}},{key:"render",value:function(){return this.props.visible?l.a.createElement(q.a,{width:"530px",onClose:this.props.onCancel,padding:"0px"},l.a.createElement("div",{className:Xe.a.savePopin,"data-qa":v.t},this.getHeader(),this.getBody(),this.getFooter())):null}}]),t}(i.Component),nt=function(){var e=this;this.onUseBorderChangeHandler=function(){var t={backgroundColor:{useBorder:!e.props.useBorder}};e.props.onChangeHandler(t),e.setState({borderShowColorPickerTool:!1})},this.onKeyUpName=function(t){t.keyCode===y.a.enter&&e.saveBanner()},this.onShowImageQualityAndBorder=function(){e.setState({showImageQualityAndBorder:!e.state.showImageQualityAndBorder})},this.onChangeName=function(t){var n=e.props.saveOptions,a=t.target.value;e.setState({name:a}),n.saveAs||e.props.onChangeHandler({name:t.target.value})},this.getBorderOptions=function(){var t=e.props,n=t.useBorder,a=t.borderColor,r=n?l.a.createElement(Fe.a,{color:a,withHover:!0,onClickHandler:e.toggleColorPickerTool}):l.a.createElement("span",{className:Xe.a.selectedColorOff},l.a.createElement(Fe.a,{color:"#ffffff"}),l.a.createElement("div",{className:Xe.a.cursorDefault})),o=e.state.borderShowColorPickerTool?l.a.createElement("div",{className:Xe.a.borderColorPickerTool},l.a.createElement(Be.a,{style:{width:"306px"}},l.a.createElement(Ae.a,{color:e.props.borderColor,onChange:function(t){e.props.onChangeHandler({backgroundColor:{borderColor:t}})},onOk:e.toggleColorPickerTool,onCancel:e.toggleColorPickerTool,onClose:e.toggleColorPickerTool}))):null;return l.a.createElement("div",{className:Xe.a.useBorder},l.a.createElement("div",{className:Xe.a.useBorderSwitch},l.a.createElement(Ne.a,{checked:n,skin:F.a.BLUE,shape:xe.a.ROUNDED_RECTANGLE,onChange:e.onUseBorderChangeHandler},l.a.createElement("div",{className:Xe.a.useBorderText},U.a.useBorder))),l.a.createElement("div",{className:Xe.a.borderSelectedColor},r),o)},this.getImageQuality=function(){return l.a.createElement("div",{className:Xe.a.imageQuality},l.a.createElement("div",{className:Xe.a.imageQualityLabel},l.a.createElement(W.a,{size:K.a.NORMAL,label:U.a.imageQuality,skin:F.a.WHITE}),l.a.createElement(qe.b,{title:U.a.imageQualityTooltip,placement:Ze.a.TOP,preWrap:!0},l.a.createElement("sup",null,"?"))),l.a.createElement("div",{className:Xe.a.imageQualitySlider},l.a.createElement(We.a,{onChange:function(t){e.props.onChangeHandler({imageQuality:parseInt(t)})},value:e.props.imageQuality,min:10,max:100})),l.a.createElement("div",{className:Xe.a.imageQualityValue},l.a.createElement(W.a,{size:K.a.NORMAL,label:e.props.imageQuality+" %",skin:F.a.WHITE})))},this.getImageAndQualityBorder=function(){var t=e.props,n=t.showBorderOptions,a=t.showImageQuality;return e.state.showImageQualityAndBorder?l.a.createElement("div",{className:Xe.a.imageQualityAndBorder,key:"imageQualityAndBorder",id:"imageQualityAndBorder"},a?e.getImageQuality():null,n?e.getBorderOptions():null):null},this.getToggleImageAndQualityBorder=function(){var t=e.props,n=t.showBorderOptions,a=t.showImageQuality,r=e.state.showImageQualityAndBorder,o="";o=n&&a?U.a.setBorderAndQuality:n&&!a?U.a.setBorder:!n&&a?U.a.setQuality:"";var i=r?U.a.hide:o;return n||a?l.a.createElement("div",{className:Xe.a.useBorderContainer},l.a.createElement("div",{className:Xe.a.useBorderContainerInner},l.a.createElement(He.a,{onClick:e.onShowImageQualityAndBorder,skin:F.a.DARK_BLUE,preventDefault:!0},i))):null},this.getBannerUrl=function(){var t=e.props,n=t.showBannerUrl,a=t.showClickTag,r=t.useAsClickTag;if(!n)return null;var o=a?l.a.createElement("div",{className:Xe.a.useAsClickTag},l.a.createElement(Ne.a,{checked:r,skin:F.a.BLUE,shape:xe.a.ROUNDED_RECTANGLE,onChange:function(){e.props.onChangeHandler({useAsClickTag:!r})}},l.a.createElement("span",{className:Xe.a.checkboxLabel},l.a.createElement(W.a,{label:U.a.useAsClickTag,skin:F.a.WHITE,size:K.a.NORMAL}))),l.a.createElement(qe.b,{title:U.a.clickTagToolTip,placement:Ze.a.LEFT,preWrap:!0},l.a.createElement("sup",null,"?"))):null;return l.a.createElement("div",{className:et(Xe.a.input,Xe.a.target)},l.a.createElement("div",{className:Xe.a.bannerUrl},l.a.createElement(Ve.a,{placeholder:r?U.a.clickTag:U.a.bannerUrl,value:e.props.url,size:K.a.LARGE,onChange:function(t){e.props.onChangeHandler({bannerUrl:t.target.value})}})),l.a.createElement("div",{className:et("targetUrl",{margin:a})},l.a.createElement(Ge.a,{items:[{value:"_blank"},{value:"_self"},{value:"_parent"},{value:"_top"}],onChange:function(t){e.props.onChangeHandler({urlTarget:t})},value:e.props.urlTarget,size:K.a.LARGE_THIN})),o)},this.getConvertCheckBox=function(){var t=e.props,n=t.bannerHasCustomFonts,a=t.onChangeHandler,r=t.bannerHasRTLText,o=e.state.convertCustomFonts,i=l.a.createElement("div",{className:et(Xe.a.checkbox,{disabled:r})},l.a.createElement(Ne.a,{checked:o,skin:F.a.BLUE,shape:xe.a.ROUNDED_RECTANGLE,onChange:function(){a({convertCustomFonts:!o})}},l.a.createElement("span",{className:Xe.a.checkboxLabel},l.a.createElement(W.a,{label:U.a.convertCustomFonts,skin:F.a.WHITE,size:K.a.NORMAL}))),l.a.createElement(qe.b,{title:U.a.customFontsToolTip,placement:Ze.a.RIGHT,preWrap:!0},l.a.createElement("sup",null,"?"))),s=r?l.a.createElement(qe.b,{title:U.a.customFontsArabicToolTip,placement:Ze.a.RIGHT,preWrap:!0},l.a.createElement("div",null,i)):i;return n?l.a.createElement("div",{className:Xe.a.convertContainer},s,l.a.createElement("div",{className:Xe.a.convertBadge},l.a.createElement(Je.a,{text:U.a.beta.toUpperCase(),size:K.a.XSMALL,skin:F.a.ORANGE}))):null},this.getRetinaCheckbox=function(){var t=e.props,n=t.onChangeHandler,a=t.bannerHasImages,r=t.retinaReadyImages;return a&&l.a.createElement("div",{className:et(Xe.a.retinaCheckbox)},l.a.createElement(Ne.a,{checked:r,skin:F.a.BLUE,shape:xe.a.ROUNDED_RECTANGLE,onChange:function(){n({retina:!r})}},l.a.createElement("span",{className:Xe.a.checkboxLabel},l.a.createElement(W.a,{label:U.a.saveRetinaReadyImages,skin:F.a.WHITE,size:K.a.NORMAL}))),l.a.createElement(qe.b,{title:U.a.retinaReadyImagesTooltip,placement:Ze.a.RIGHT,preWrap:!0},l.a.createElement("sup",null,"?")))},this.getErrors=function(){var t=e.props,n=t.savingState,a=t.errorCode,r=!1,o=!1,i=!1,l=!1;if("saveError"===n)switch(a){case k.a.BANNER_NAME_EMPTY:case 554:r=!0;break;case k.a.NO_WORKSPACE_ACCESS:o=!0;break;case k.a.NO_SWITCH_ACCOUNT_ACCESS:i=!0;break;default:l=!0}return{isNameError:r,isWorkspaceError:o,isSwitchAccountError:i,isGenericError:l}},this.setProgressStatus=function(t){e.setState({progressStatus:t})},this.getProgressStatus=function(){var t=e.props,n=t.savingState,a=t.showProgressStatus,r=t.errorCode,o=t.userPermissions;if("saving"===n||"saved"===n||!a||r&&r!==k.a.BANNER_NAME_EMPTY)return null;var i=e.state,s=i.progressStatus,c=i.progressStatusPopinVisible,u="";switch(s){case T.a.IN_PROGRESS:u=U.a.markAsInProgress;break;case T.a.AWAITING_FEEDBACK:u=U.a.markAsAwaitingFeedback;break;case T.a.NOT_READY:u=U.a.markAsNotReady;break;case T.a.DONE:u=U.a.markAsDone;break;case T.a.REJECTED:u=U.a.markAsRejected;break;case T.a.IN_USE:u=U.a.markAsInUse;break;case T.a.UNMARKED:default:u=U.a.unmark}var d=c?l.a.createElement("div",{className:Xe.a.progressStatusPopin},l.a.createElement(Ue.a,{selectedStatus:s,onClickHandler:e.setProgressStatus,onClose:e.toggleProgressStatusPopin,userPermissions:o})):null;return l.a.createElement("div",{className:Xe.a.progressStatus,onClick:e.toggleProgressStatusPopin},l.a.createElement("div",{className:et(["icon",Object(je.a)(s)])}),l.a.createElement("div",{className:Xe.a.text},u),l.a.createElement("div",{className:Xe.a.arrow}),d)},this.toggleProgressStatusPopin=function(){e.setState((function(e){return{progressStatusPopinVisible:!e.progressStatusPopinVisible}}))},this.toggleColorPickerTool=function(){e.setState((function(e){return{borderShowColorPickerTool:!e.borderShowColorPickerTool}}))},this.saveBanner=function(){var t=e.props.onSubmit,n=e.state,a=n.name,r=n.progressStatus,o=e.state;t(a,o.convertCustomFonts,r,o.retinaReadyImages)}};tt.propTypes={visible:o.a.bool,name:o.a.string,url:o.a.string,urlTarget:o.a.string,useAsClickTag:o.a.bool,bannerHasCustomFonts:o.a.bool,convertCustomFonts:o.a.bool,imageQuality:o.a.number,useBorder:o.a.bool,borderColor:o.a.string,savingState:o.a.oneOf([Ke.a.SAVE,Ke.a.SAVING,Ke.a.SAVED,Ke.a.SAVE_ERROR]),saveOptions:o.a.shape({saveAs:o.a.bool,saveToMyAccount:o.a.bool,folderId:o.a.number}),errorMessage:o.a.string,errorCode:o.a.number,goToWorkspace:o.a.func.isRequired,appMode:o.a.oneOf([w.a.EDITOR,w.a.GENERATOR]),customMessage:o.a.string,onChangeHandler:o.a.func.isRequired,onCancel:o.a.func.isRequired,onSubmit:o.a.func.isRequired,onBack:o.a.func,showBannerUrl:o.a.bool,showClickTag:o.a.bool,showBorderOptions:o.a.bool,showImageQuality:o.a.bool,progressStatus:o.a.oneOf([T.a.IN_PROGRESS,T.a.AWAITING_FEEDBACK,T.a.NOT_READY,T.a.DONE,T.a.REJECTED,T.a.IN_USE,T.a.UNMARKED]),showProgressStatus:o.a.bool,userPermissions:o.a.instanceOf(Qe.b),bannerHasRTLText:o.a.bool,bannerHasImages:o.a.bool,retinaReadyImages:o.a.bool},tt.defaultProps={visible:!1,name:"",url:"",urlTarget:"_blank",useAsClickTag:!1,convertCustomFonts:!1,bannerHasCustomFonts:!1,imageQuality:90,useBorder:!1,borderColor:"#ffffff",savingState:Ke.a.SAVE,saveOptions:{},errorMessage:null,errorCode:null,appMode:w.a.EDITOR,customMessage:"",onBack:function(){},showBannerUrl:!0,showClickTag:!0,showBorderOptions:!0,showImageQuality:!0,progressStatus:T.a.UNMARKED,showProgressStatus:!1,userPermissions:new Qe.b,bannerHasRTLText:!1,bannerHasImages:!1,retinaReadyImages:!1};var at=tt,rt=n(65),ot=n(434),it=n(441),lt=n(1021),st=function(e){return e.elementType===it.a.SLIDE},ct=function(e){var t=e.layerType,n=e.config,a=e.labelStyle;return t===ue.b.TEXT&&Object(lt.b)(n)||t===ue.b.BUTTON&&Object(lt.a)(a)},ut=Object(rt.createSelector)([ot.a,function(e){return e.bannerCreator.editor.banner.banner.elements}],(function(e,t){var n=e.some(ct);return n||t.filter(st).some((function(e){return e.elements.some(ct)}))})),dt=n(432),pt=n(467),ft=function(e){return e.elementType===it.a.SLIDE},ht=function(e){var t=e.layerType,n=e.backgroundColor;return t===ue.b.IMAGE||(t===ue.b.EMBED||t===ue.b.SHAPE)&&n&&n.type===pt.a.IMAGE},mt=Object(rt.createSelector)([ot.a,function(e){return e.bannerCreator.editor.banner.banner.elements},function(e){return e.bannerCreator.editor.banner.banner.backgroundColor.type}],(function(e,t,n){if(n===pt.a.IMAGE)return!0;var a=e.some(ht);return a||t.filter(ft).some((function(e){return e.elements.some(ht)}))})),bt=n(571),gt=function(e){return e.elementType===it.a.SLIDE},yt=function(e){var t=e.textDirection,n=e.layerType,a=e.labelStyle;return n===ue.b.TEXT&&t===bt.a.RTL||n===ue.b.BUTTON&&a.textDirection===bt.a.RTL},vt=Object(rt.createSelector)([ot.a,function(e){return e.bannerCreator.editor.banner.banner.elements}],(function(e,t){var n=e.some(yt);return n||t.filter(gt).some((function(e){return e.elements.some(yt)}))})),Et=n(536),St=n(507),Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ct=Object(s.c)((function(e){var t=e.bannerCreator.editor,n=t.banner,a=n.banner,r=n.progressStatus;if(!t.general.savePopinVisible||!a)return{visible:!1};var o=a.name,i=a.imageQuality,l=a.backgroundColor,s=a.bannerUrl,c=a.urlTarget,u=a.useAsClickTag,d=a.convertCustomFonts,p=a.retina,f=l.useBorder,h=l.borderColor,m=t.general,b=m.savingState,g=m.saveOptions,y=m.saveError,v=ut(e),E=vt(e),S=mt(e),O=Object(Et.a)(e),C=Object(Me.e)(e),w=Object(St.a)("r",C)?{redirectToAfterSave:I.a.LIBRARY_TEMPLATES}:null,T=!0,k=!0,L=!0,P=!0,M="",R=!0;return dt.b&&(T=!!parseInt(dt.d.editor_save_show_banner_url),k=!!parseInt(dt.d.editor_save_show_click_tag),L=!!parseInt(dt.d.editor_save_show_border_options),P=!!parseInt(dt.d.editor_save_show_image_quality),M=dt.d.custom_message_save,R=!1),{redirectToAfterSave:w,name:o,imageQuality:i,errorCode:y&&y.code,errorMessage:y&&y.message,useBorder:f,borderColor:h,savingState:b,saveOptions:g,url:s,urlTarget:c,useAsClickTag:u,visible:!0,showBannerUrl:T,showClickTag:k,showBorderOptions:L,showImageQuality:P,customMessage:M,convertCustomFonts:d,bannerHasCustomFonts:v,progressStatus:r,showProgressStatus:R,userPermissions:O,bannerHasRTLText:E,bannerHasImages:S,retinaReadyImages:p}}),(function(e){return{onCancel:function(){e(Object(G.c)())},onChangeHandler:function(t){var n={skipHistory:Object.prototype.hasOwnProperty.call(t,"convertCustomFonts")||Object.prototype.hasOwnProperty.call(t,"retina")};e(Object(z.G)([{id:-1,props:t}],n))},onBack:function(){e(Object(G.f)())},saveBanner:function(t,n,a,r,o){e(Object(G.g)(t,n,a,r,o))},goToWorkspace:function(){e(Object(Le.a)())}}}),(function(e,t,n){return Ot({},n,e,t,{onSubmit:function(n,a,r,o){t.saveBanner(n,e.redirectToAfterSave,a,r,o)}})}))(at),wt=n(1470),Tt=n(1463),kt=n(1480),It=n(449),Lt=n.n(It),Pt={PHOTO:"photo",TEMPLATE:"template",TEXTURE:"texture"},Mt=n(686),Rt=n(424),xt=n(923),Dt=n(526),jt=n(2492),Nt=n.n(jt),At=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var _t=ie.a.bind(Nt.a),Bt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){var t=e.target.value;n.setState({value:t})},n.onKeyDownEscape=function(e){n.props.clearInputOnEscape&&(n.props.onKeyDownEscape(),""===n.state.value?e.target.blur():n.setState({value:""}))},n.onKeyDown=function(e){switch(e.keyCode){case y.a.enter:n.props.handleSearch(n.state.value.trim());break;case y.a.tab:case y.a.escape:n.onKeyDownEscape(e)}},n.onClear=function(){var e=n.props,t=e.reset,a=e.onClear;n.state.value?(n.setState({value:""}),t&&a()):a()},n.handleSearchClick=function(){n.props.opened?n.props.handleSearch(n.state.value):n.props.onSearchClick()},n.state={value:e.searchValue},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),At(t,[{key:"componentDidMount",value:function(){this.props.opened&&this.refInput&&this.props.focusOnMount&&this.refInput.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=e.searchValue;t!==this.props.searchValue&&this.setState({value:t})}},{key:"componentDidUpdate",value:function(e){this.props.opened&&e.opened!==this.props.opened&&this.refInput&&this.refInput.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.skin,a=t.opened,r=t.placeholder,o=t.showClearAlways,i=this.state.value,s=!o&&!i,c=a?l.a.createElement("div",{className:_t("clear",n,{hidden:s}),onClick:this.onClear},Dt.a):null,u=a?l.a.createElement("input",{className:_t("searchInput",n),type:"text",maxLength:"100",autoCapitalize:"none",ref:function(t){e.refInput=t},onChange:this.onChange,value:i,onKeyDown:this.onKeyDown,placeholder:r,tabIndex:-1}):null,d=l.a.createElement("div",{className:_t("search",{opened:a},n),onClick:this.handleSearchClick},l.a.createElement("div",{className:_t("searchIcon",n)},xt.a));return l.a.createElement("div",{className:_t("container",{opened:a},n)},d,u,c)}}]),t}(i.Component),Ht=Bt;Bt.propTypes={skin:o.a.oneOf([F.a.GREY,F.a.WHITE,F.a.TRANSPARENT]),searchValue:o.a.string,opened:o.a.bool,handleSearch:o.a.func,onSearchClick:o.a.func,onKeyDownEscape:o.a.func,onClear:o.a.func,placeholder:o.a.string,clearInputOnEscape:o.a.bool,reset:o.a.bool,showClearAlways:o.a.bool,focusOnMount:o.a.bool},Bt.defaultProps={skin:F.a.WHITE,opened:!0,searchValue:"",handleSearch:function(){},onSearchClick:function(){},onKeyDownEscape:function(){},onClear:function(){},placeholder:"",clearInputOnEscape:!0,reset:!1,showClearAlways:!0,focusOnMount:!0};var Ut=n(2493),zt=n.n(Ut),Gt=n(1152),Ft=n(398),Wt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Vt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var qt=ie.a.bind(zt.a),Kt=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Vt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={searchActive:!!a.props.searchValue},a.componentWillMount=function(){a.props.onComponentWillMount()},a.showSearch=function(){a.setState({searchActive:!0})},a.hideSearch=function(){a.state.searchActive&&(a.setState({searchActive:!1}),a.props.onSearchClose())},a.handleSearch=function(e){a.props.handleSearch(e)},a.handleChange=function(e){a.props.onCategorySelect(parseInt(e))},Vt(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Wt(t,[{key:"render",value:function(){var e=[{value:"0",text:U.a.allCategories}],t=this.props,n=t.categories,a=t.selectedCategory,r=t.searchValue;n.forEach((function(t){e.push({value:t.id,text:t.name})}));var o=e.findIndex((function(e){return parseInt(e.value)===a})),i=this.state.searchActive,s=i?l.a.createElement("div",{className:zt.a.grabIcon},Gt.a):l.a.createElement(Ge.a,{items:e,onChange:this.handleChange,value:""+a,selectedIndex:o,skin:F.a.L_BLUE,size:K.a.MEDIUM,autoHide:!1,placement:Ft.a.SIZE_PANEL,dropdownItemHeight:32});return l.a.createElement("div",{className:zt.a.container},l.a.createElement("div",{className:qt("searchTemplate",{searchActive:i})},l.a.createElement(Ht,{handleSearch:this.handleSearch,opened:this.state.searchActive,onSearchClick:this.showSearch,onKeyDownEscape:this.hideSearch,onClear:this.hideSearch,placeholder:U.a.searchAll,searchValue:r})),l.a.createElement("div",{className:qt("selectCategory",{searchActive:i}),onClick:this.hideSearch},s))}}]),t}(i.Component),Yt=Kt;Kt.propTypes={selectedCategory:o.a.number,searchValue:o.a.string,categories:o.a.instanceOf(le.List),onCategorySelect:o.a.func,handleSearch:o.a.func,onSearchClose:o.a.func,onComponentWillMount:o.a.func},Kt.defaultProps={selectedCategory:null,searchValue:"",categories:new le.List,onCategorySelect:function(){},handleSearch:function(){},onSearchClose:function(){},onComponentWillMount:function(){}};var Xt=Object(s.c)((function(e){var t=e.bannerCreator.editor.templates,n=t.categories,a=t.selectedCategory;return{searchValue:t.searchValue,categories:n,selectedCategory:a}}),(function(e){return{onCategorySelect:function(t){e(Object(ae.e)(t))},handleSearch:function(t){t&&Object(Rt.i)(t),e(Object(ae.g)(t))},onSearchClose:function(){e(Object(ae.g)(""))}}}))(Yt),Zt=n(638),Jt=n(659),Qt=n(400),$t=n(406),en=Object(s.c)((function(e){var t=e.bannerCreator,n=t.editor,a=t.library.templates.templateList,r=n.templates.selectedType,o=n.banner.banner,i=[{text:U.a.static,value:Mt.a.STATIC}],l=Object(Qt.a)(e);(l.bmAnimatedTemplates!==$t.a.HIDDEN&&i.push({text:U.a.animated,value:Mt.a.ANIMATED}),l.bmWorkspaceTemplates===$t.a.YES&&a.size)&&(Object(Jt.a)(e).some((function(e){return Math.round(e.width)===Math.round(o.width)&&Math.round(e.height)===Math.round(o.height)}))&&i.unshift({text:U.a.myTemplates,value:Mt.a.MY_TEMPLATES}));return{items:i,selectedValue:r}}),(function(e){return{onItemSelect:function(t,n){e(Object(ae.d)(n))}}}))(Zt.b),tn=n(402),nn=n(2494),an=n.n(nn),rn=n(38),on=n(22),ln=n(119),sn=n(471),cn=n(1381),un=n(670),dn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function pn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var fn=ie.a.bind(an.a),hn=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=pn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={loaded:!1,error:!1},a.onClick=function(){a.props.onClickHandler(a.props.hash,a.props.showPremiumFlag)},a.onPreviewClick=function(){a.props.onPreviewClickHandler(a.props.hash,a.props.showPremiumFlag)},a.onImageError=function(){switch(a.tries){case 0:a.refImage.src=Object(cn.b)(a.props.hash,a.getResizeType());break;case 1:a.refImage.src="//cdn.bannersnack.com/banners/"+a.props.hash+"/images/png";break;case 2:a.setState({error:!0})}a.tries+=1},a.onImageLoad=function(){a.setState({loaded:!0})},a.tries=0,pn(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),dn(t,[{key:"getResizeType",value:function(){return parseInt(this.props.width)>200?un.a.MEDIUM_LARGE:un.a.MEDIUM}},{key:"render",value:function(){var e=this,t=this.props,n=t.width,a=t.height,r=t.showPremiumFlag,o=t.isAnimated,i=t.hash,s=t.empty,c=this.state,u=c.loaded,d=c.error,p={width:n+"px",height:a+"px"},f=null,h=r?l.a.createElement(ln.a,{type:rn.a.PREMIUM,container:on.a.PHOTOS,onClickHandler:this.onClick}):null;(!d&&!s||u)&&(f=l.a.createElement("img",{alt:"presentation",src:"//cdn.bannersnack.com/resize/banners/"+i+"/"+this.getResizeType(),ref:function(t){e.refImage=t},onError:this.onImageError,onLoad:this.onImageLoad,onClick:this.onClick}));var m=o?l.a.createElement("div",{className:an.a.previewBtnContainer,onClick:this.onPreviewClick},l.a.createElement("div",{className:an.a.previewBtn},l.a.createElement(sn.a,{icon:"preview",width:"30px",height:"30px",size:K.a.LARGE,skin:F.a.STATIC_WHITE,onClickHandler:this.onPreviewClick}))):null;return l.a.createElement("div",{className:fn({imageContainer:!0,loaded:u}),style:p},h,f,m)}}]),t}(i.Component);hn.propTypes={hash:o.a.string,width:o.a.number,height:o.a.number,empty:o.a.bool,showPremiumFlag:o.a.bool,isAnimated:o.a.bool,onClickHandler:o.a.func.isRequired,onPreviewClickHandler:o.a.func.isRequired},hn.defaultProps={hash:"",width:null,height:null,isAnimated:!1,empty:!1,showPremiumFlag:!1};var mn=hn,bn=n(2495),gn=n.n(bn),yn=n(1423),vn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var En=ie.a.bind(gn.a),Sn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onTemplatePreviewClickHandler=function(e,t){n.setState({previewHash:e,previewHashIsBlocked:t})},n.onPreviewCancel=function(){n.setState({previewHash:null,previewHashIsBlocked:!1})},n.getTemplateList=function(e){var t=n.props,a=t.hasLimitedAccess,r=t.hasNoAccess,o=t.scrollTop,i=t.colNumber,l=t.selectedType,s=n.getItemSize(),c=window.innerHeight-200;n.refScrollArea&&(c=n.refScrollArea.getValues().clientHeight);var u=void 0;switch(i){case 1:u=10;break;case 2:u=12;break;case 3:u=11;break;case 4:u=10;break;default:u=12}var d=Math.ceil(c/(s.height+u))+1,p=Math.floor(o/(s.height+u))*i-1,f=p+d*i-1;return e.map((function(e,t){var n=r||a&&"premium"===e.accessType,o=l===Mt.a.ANIMATED||l===Mt.a.MY_TEMPLATES&&e.isAnimated();return{key:e.hash,isBlocked:n,empty:t<p||t>f,isAnimated:o}}))},n.usePreviewTemplate=function(){n.props.onItemClickHandler(n.state.previewHash,n.state.previewHashIsBlocked),n.setState({previewHash:null,previewHashIsBlocked:!1})},n.state={previewHash:null,previewHashIsBlocked:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vn(t,[{key:"componentDidMount",value:function(){this.refScrollArea.scrollTop(this.props.scrollTop)}},{key:"getItemSize",value:function(){var e=this.props,t=e.colNumber,n=e.templateHeight,a=e.templateWidth,r=[310,149,96,70];return{width:r[t-1],height:Math.round(r[t-1]*n/a)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.colNumber,a=t.onItemClickHandler,r=t.onTemplateDragStart,o=t.templateList,i=t.templateWidth,s=t.templateHeight,c=this.state,u=c.previewHash,d=c.previewHashIsBlocked,p=this.getTemplateList(o),f=this.getItemSize(),h=["oneCol","twoCol","threeCol","fourCol"],m=p.size>0?l.a.createElement("div",{className:En(gn.a.startFromBlank,[""+h[n-1]]),style:{width:f.width+"px",height:f.height+"px"},onClick:function(){a(null,!1)},draggable:!0,onDragStart:function(e){r(null,null,e)}},l.a.createElement("div",{className:gn.a.startFromBlankContent},l.a.createElement("div",{className:gn.a.plusSign}))):null,b=p.map((function(t){return l.a.createElement("div",{key:t.key,className:En(gn.a.template,[""+h[n-1]]),draggable:!0,onDragStart:function(e){r(t.key,t.isBlocked,e)}},l.a.createElement(mn,{hash:t.key,width:f.width,height:f.height,empty:t.empty,showPremiumFlag:t.isBlocked,isAnimated:t.isAnimated,onClickHandler:a,onPreviewClickHandler:e.onTemplatePreviewClickHandler}))})),g=u?l.a.createElement(yn.a,{templateSrc:"//cdn.bannersnack.com/banners/"+u+"/embed/index.html",onSubmit:this.usePreviewTemplate,onCancel:this.onPreviewCancel,blockTemplate:d,templateWidth:i,templateHeight:s,animatedTemplatePreview:!0}):null;return l.a.createElement("div",{className:En(gn.a.templatesList,"clearfix")},l.a.createElement(tn.a,{style:{minHeight:"100%"},autoHeight:!1,autoHide:!1,onScrollFrame:this.props.onScroll,ref:function(t){e.refScrollArea=t}},g,m,b))}}]),t}(i.Component),On=Sn;Sn.propTypes={colNumber:o.a.number,selectedType:o.a.string,templateWidth:o.a.number,templateHeight:o.a.number,templateList:o.a.instanceOf(le.List),hasLimitedAccess:o.a.bool,hasNoAccess:o.a.bool,scrollTop:o.a.number,onItemClickHandler:o.a.func,onTemplateDragStart:o.a.func,onScroll:o.a.func},Sn.defaultProps={templateWidth:300,templateHeight:250,colNumber:2,selectedType:Mt.a.STATIC,templateList:Object(le.List)(),hasLimitedAccess:!1,hasNoAccess:!1,scrollTop:0,onItemClickHandler:function(){},onTemplateDragStart:function(){},onScroll:function(){}};var Cn=n(2496),wn=n.n(Cn),Tn=n(485),kn=n(1728),In=n.n(kn),Ln=n(1114),Pn=function(e){var t=e.tool,n=U.a["editorToolPanelHeader"+Object(fe.b)(t)],a=l.a.createElement(W.a,{size:"medium",label:n});return t===Tn.a.resize&&(a=l.a.createElement(i.Fragment,null,a,l.a.createElement("span",{className:In.a.panelHeaderIcon},l.a.createElement(qe.b,{skin:F.a.GREY,placement:Ze.a.RIGHT,title:U.a.resizeHeaderTooltip,preWrap:!0},Ln.a)))),l.a.createElement("div",{className:In.a.toolPanelHeader},a)};Pn.propTypes={tool:o.a.oneOf(Object.values(Tn.a))},Pn.defaultProps={tool:Tn.a.templates};var Mn=Pn,Rn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function xn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Dn=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=xn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.componentWillMount=function(){var e=a.props,t=e.loadTemplates,n=e.loadCategories;t(e.width,e.height,null,e.sizeVariation,e.isCustom),n()},a.onTemplateDragStart=function(e,t,n){var r=n.target.getBoundingClientRect(),o=void 0,i=n.clientX-r.left,l=n.clientY-r.top;o=e?(o=n.target.getElementsByTagName("img")[0]||n.target).cloneNode(!0):a.drawCanvas(),n.dataTransfer.setDragImage(o,i,l);var s={layerType:Pt.TEMPLATE,mouseOffset:{left:i,top:l},modelAttributes:{hash:e,isBlocked:t}};n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("modelData",JSON.stringify(s))},a.drawCanvas=function(){var e=a.props,t=e.templateWidth,n=e.templateHeight,r=document.createElement("canvas"),o=r.getContext("2d"),i={width:parseInt(t),height:parseInt(n)};r.height=i.height,o.fillStyle="#ffffff",o.fill(),o.fillRect(0,0,i.width,i.height);var l=new window.Image;return l.src=r.toDataURL(),l.width=i.width,l.height=i.height,l.style.position="absolute",l.style.display="block",l.style.top="-9999px",l.style.left="0",l.style.width=i.width+"px",l.style.height=i.height+"px",l.style.zIndex=99999,window.document.body.appendChild(l),setTimeout((function(){window.document.body.removeChild(l)})),l},a.applyTemplate=function(e){a.props.slidesLength>=2?a.props.showConfirmPopin(e):e?a.props.onApplyTemplate(e):a.props.onStartFromBlank()},xn(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Rn(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldLoadWorkspaceTemplates,n=e.loadWorkspaceTemplates,a=e.workspaceTemplates,r=e.selectedType,o=e.loadTemplates,i=e.width,l=e.height,s=e.sizeVariation,c=e.isCustom;a.size||r!==Mt.a.MY_TEMPLATES||o(i,l,Mt.a.STATIC,s,c),t&&n()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.width,a=t.height,r=t.loadTemplates,o=t.shouldLoadWorkspaceTemplates,i=t.workspaceTemplates,l=t.sizeVariation,s=t.isCustom,c=t.loadWorkspaceTemplates;n===e.width&&a===e.height||(r(n,a,null,l,s),c()),e.shouldLoadWorkspaceTemplates&&!o&&i.size&&r(n,a,Mt.a.MY_TEMPLATES,l,s)}},{key:"render",value:function(){var e=this.props,t=e.selectedType,n=e.loadingStatic,a=e.loadingAnimated,r=e.templateWidth,o=e.templateHeight,i=e.colNumber,s=e.workspaceTemplates,c=e.templateList,u=e.areTemplatesDisabled,d=e.areTemplatesLimited,p=e.onScroll,f=e.scrollTop,h=e.shouldLoadWorkspaceTemplates,m=l.a.createElement(ze.a,{skin:F.a.GREY});if(h||!s.size&&t===Mt.a.MY_TEMPLATES)return m;var b=0===c.size?l.a.createElement("div",{className:wn.a.noTemplatesMessage},l.a.createElement(W.a,{label:U.a.noTemplates,size:K.a.NORMAL,skin:F.a.L_BLUE})):null,g=l.a.createElement(On,{templateList:c,colNumber:i,templateWidth:r,templateHeight:o,selectedType:t,hasLimitedAccess:d,hasNoAccess:u,scrollTop:f,onItemClickHandler:this.applyTemplate,onTemplateDragStart:this.onTemplateDragStart,onScroll:p});(t===Mt.a.STATIC&&n||t===Mt.a.ANIMATED&&a)&&(g=m);var y=void 0;return y=t===Mt.a.MY_TEMPLATES?l.a.createElement("div",{className:wn.a.myTemplatesMessage},l.a.createElement(W.a,{label:U.a.editorMyTemplatesTopMessage,size:K.a.NORMAL,skin:F.a.L_BLUE})):l.a.createElement(Xt,null),l.a.createElement("div",{className:wn.a.templatesPanel},l.a.createElement("div",{className:wn.a.templatesPanelContent},l.a.createElement(Mn,{tool:Tn.a.templates}),l.a.createElement(en,null),y,b,g))}}]),t}(i.Component);Dn.propTypes={templateList:Lt.a.list,colNumber:o.a.number,templateWidth:o.a.number,templateHeight:o.a.number,sizeVariation:o.a.string,selectedType:o.a.string,loadingAnimated:o.a.bool,loadingStatic:o.a.bool,isCustom:o.a.bool,loadTemplates:o.a.func,loadCategories:o.a.func,showConfirmPopin:o.a.func,areTemplatesDisabled:o.a.bool.isRequired,areTemplatesLimited:o.a.bool.isRequired,onApplyTemplate:o.a.func.isRequired,onStartFromBlank:o.a.func.isRequired,scrollTop:o.a.number,onScroll:o.a.func.isRequired,width:o.a.number.isRequired,height:o.a.number.isRequired,slidesLength:o.a.number.isRequired,shouldLoadWorkspaceTemplates:o.a.bool,loadWorkspaceTemplates:o.a.func,workspaceTemplates:o.a.instanceOf(le.List)},Dn.defaultProps={templateList:Object(le.List)(),loadTemplates:function(){},loadCategories:function(){},showConfirmPopin:function(){},colNumber:2,templateWidth:300,templateHeight:250,sizeVariation:null,isCustom:!1,selectedType:Mt.a.STATIC,loadingStatic:!1,loadingAnimated:!1,scrollTop:0,shouldLoadWorkspaceTemplates:!1,loadWorkspaceTemplates:function(){},workspaceTemplates:new le.List};var jn=Dn,Nn=n(1211),An=Object(rt.createSelector)([function(e){return e.bannerCreator.editor.templates.templateList},function(e){return e.bannerCreator.editor.templates.selectedCategory},function(e){return e.bannerCreator.editor.templates.searchValue},function(e){return e.bannerCreator.editor.templates.selectedType},Jt.a,function(e){return e.bannerCreator.editor.banner.banner.width},function(e){return e.bannerCreator.editor.banner.banner.height}],(function(e,t,n,a,r,o,i){if(a===Mt.a.MY_TEMPLATES)return r.filter((function(e){var t=e.width,n=e.height;return Math.round(t)===Math.round(o)&&Math.round(n)===Math.round(i)}));if(n){for(var l=Object(le.List)(),s=n.split(" "),c=0;c<e.size;c++){var u=e.get(c),d=u.get("tags");if(d.length>0)for(var p=function(e){var t=d[e];if(-1!==s.findIndex((function(e){return Object(Nn.a)(e,t)})))return l=l.push(u),"break"},f=0;f<d.length;f++){if("break"===p(f))break}}return l}return 0===t?e:e.filter((function(e){return parseInt(e.get("category"))===parseInt(t)}))})),_n=n(746),Bn=n(505),Hn=n(712),Un=Object(rt.createSelector)([function(e){return e.bannerCreator.myBanners.banners.allItems},function(e){return e.bannerCreator.myBanners.banners.isFetchingAll},function(e){return e.bannerCreator.library.templates.templateList},function(e){return e.bannerCreator.editor.banner.banner.width},function(e){return e.bannerCreator.editor.banner.banner.height},Qt.a],(function(e,t,n,a,r,o){if(o.bmWorkspaceTemplates!==$t.a.YES||!n.size||t||!e.size)return new le.List;var i=new le.List;return n.forEach((function(t){var n=e.find((function(e){return e.id===parseInt(t)}));n&&Math.round(n.width)===Math.round(a)&&Math.round(n.height)===Math.round(r)&&(i=i.push(n))})),i.sortBy((function(e){return new Date(e.date_last_update).getTime()})).reverse()})),zn=n(463),Gn=n(795),Fn=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Wn=Object(rt.createSelector)([function(e){return e.bannerCreator.library.templates.templatesLoaded},function(e){return e.bannerCreator.myBanners.banners.isFetchingAll},function(e){return e.bannerCreator.editor.banner.banner.width},function(e){return e.bannerCreator.editor.banner.banner.height},function(e){return e.bannerCreator.editor.banner.banner.sizeVariation},function(e){return e.bannerCreator.editor.templates},Qt.a,An,_n.a,Un,zn.a,Gn.a],(function(e,t,n,a,r,o,i,l,s,c,u,d){var p=o.categories,f=o.selectedType,h=o.selectedSize,m=o.loadingAnimated,b=o.loadingStatic,g=o.scrollTop,y=i.bmStaticTemplates,v=i.bmAnimatedTemplates,E=i.bmWorkspaceTemplates,S=void 0,O=void 0;if(h){var C=h.split("x"),w=Fn(C,2);S=w[0],O=w[1],S=parseInt(S),O=parseInt(O)}var T=S/O,k=3;S>310?k=T>2?1:T<.6?2:S<1e3||O>1e3?2:1:S<310&&(k=T>2?1:T<.1?4:T<.5?O>1e3?2:4:2);var I=void 0,L=void 0;switch(f){case Mt.a.STATIC:I="no"===y,L="limited"===y;break;case Mt.a.ANIMATED:I="no"===v,L="limited"===v;break;case Mt.a.MY_TEMPLATES:L=I="no"===E}return{categories:p,selectedType:f,templateList:l,workspaceTemplates:c,selectedSize:h,loadingAnimated:m,loadingStatic:b,templateWidth:S,templateHeight:O,colNumber:k,width:n,height:a,sizeVariation:r,areTemplatesDisabled:I,areTemplatesLimited:L,slidesLength:s,scrollTop:g,userServiceType:u,isCustom:d,shouldLoadWorkspaceTemplates:!e||t}})),Vn=Object(s.c)(Wn,(function(e){return{loadTemplates:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e(Object(ae.d)(a,t,n,r,o))},loadWorkspaceTemplates:function(){e(Object(Hn.c)()),e(Object(Bn.m)(!0,!0))},loadCategories:function(){e(Object(ae.c)())},onApplyTemplate:function(t){e(Object(ae.a)(t))},onStartFromBlank:function(){e(Object(ae.i)())},showConfirmPopin:function(t){e(Object(ae.h)(t))},onScroll:function(t){e(Object(ae.f)(t.scrollTop))}}}))(jn),qn=n(500),Kn=n(1462),Yn=n(1564),Xn=n(456),Zn=l.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},l.a.createElement("path",{d:"M12,19v1a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V14a2,2,0,0,1,2-2H5V4A2,2,0,0,1,7,2H20a2,2,0,0,1,2,2V17a2,2,0,0, 1-2,2Zm0-2h8V4H7v8h3a2,2,0,0,1,2,2Zm5.47-5.32L15.35,9.56l-2.12,2.12-1.41-1.41,2.12-2.12L11.82,6h5.65Z"})),Jn=n(2497),Qn=n.n(Jn),$n=n(1404),ea=n(2498),ta=n.n(ea),na=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function aa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ra=ie.a.bind(ta.a),oa=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=aa(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onChange=function(e){var t={gradColors:e.steps,backgroundRotation:parseInt(e.gradientRotation)||360,type:e.isRadialGradient?"rgrad":"lgrad",rgradPos:e.alignMode?Object(fe.k)(e.alignMode):a.props.background.rgradPos};a.props.onChange(t)},aa(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),na(t,[{key:"componentDidMount",value:function(){var e=this.props.background,t=e.backgroundRotation,n=e.rgradPos,a=e.gradColors,r=e.type;if("rgrad"!==r&&"lgrad"!==r){var o="rgrad"===r,i={steps:a,gradientRotation:parseInt(t)||360,isRadialGradient:o,rgradPos:n};this.onChange(i)}}},{key:"render",value:function(){var e=this.props.background,t=e.backgroundRotation,n=e.rgradPos,a=e.gradColors,r="rgrad"===e.type;return l.a.createElement("div",{className:ta.a.gradientGeneratorPanel},l.a.createElement(Be.a,null,l.a.createElement($n.a,{steps:a||[{c:"#ffffff",p:"0"},{c:"#000000",p:"100"}],isRadialGradient:r,gradientRotation:parseInt(t)||360,alignMode:Object(fe.d)(n),onChange:this.onChange}),l.a.createElement("div",{className:ra(ta.a.controls,"clearfix")},l.a.createElement("div",{className:ta.a.controlButton},l.a.createElement(V.a,{label:U.a.select,width:"80px",lineHeight:"32px",height:"32px",onClick:this.props.onOK,size:"small",skin:"blue"})),l.a.createElement("div",{className:ta.a.controlButton},l.a.createElement(V.a,{label:U.a.cancel,lineHeight:"32px",height:"32px",width:"80px",onClick:this.props.onCancel,size:"small",skin:"greyDark"})))))}}]),t}(i.Component);oa.propTypes={onOK:o.a.func,onCancel:o.a.func,onChange:o.a.func,background:o.a.shape({gradColors:o.a.array,type:o.a.string,backgroundRotation:o.a.number,rgradPos:o.a.string})},oa.defaultProps={onOK:function(){},onCancel:function(){},onChange:function(){},background:{}};var ia=oa,la=n(2499),sa=n.n(la),ca=n(116),ua=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var da=ie.a.bind(sa.a),pa=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCustomColorSelect=function(e){var t=n.props.onColorSelect;n.setState({colorPickerOpen:!1,customColor:e}),t("custom",e)},n.onCustomColorCancel=function(){n.setState({colorPickerOpen:!1})},n.onCustomColorChange=function(e){n.props.onColorSelect("customChange",e),n.setState({customColor:e})},n.onGradientGeneratorOK=function(){n.setState({gradientGeneratorOpen:!1})},n.onGradientGeneratorChange=function(e){n.props.onColorSelect(e)},n.onGradientGeneratorCancel=function(){n.setState({gradientGeneratorOpen:!1}),n.props.onColorSelect(n.state.gradientWhenGeneratorOpened)},n.openGradientGenerator=function(e){!0===n.state.gradientGeneratorOpen?n.setState({gradientGeneratorOpen:!1}):(n.props.previousBackground.gradColors||n.props.onColorSelect({gradColors:[{c:"#ffffff",p:"0"},{c:"#000000",p:"100"}],backgroundRotation:360,isRadialGradient:!1}),n.setState({gradientGeneratorOpen:!0,gradientWhenGeneratorOpened:e}))},n.openColorPicker=function(){n.setState({colorPickerOpen:!0,customColor:n.props.currentColor})},n.state={colorPickerOpen:!1,gradientGeneratorOpen:!1,customColor:e.currentColor,gradientWhenGeneratorOpened:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ua(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.type,a=t.color,r=t.onColorSelect,o=t.previousBackground,i=null,s=null;switch(n){case"color":i=l.a.createElement("div",{className:sa.a.colorPreset,style:{background:a},onClick:function(){r(n,a)}});break;case"gradient":i=l.a.createElement("div",{className:sa.a.colorPreset,style:{background:Object(fe.v)(a)},onClick:function(){r(a)}});break;case"transparent":s=da("colorPreset","transparent"),i=l.a.createElement("div",{className:s,onClick:function(){r(n)}},ca.a.transparentBackground);break;case"custom":s=da("colorPreset","custom");var c=this.state.colorPickerOpen?l.a.createElement(Be.a,{style:{width:"310px"}},l.a.createElement(Ae.a,{color:this.state.customColor,onChange:this.onCustomColorChange,onOk:this.onCustomColorSelect,onCancel:this.onCustomColorCancel})):null;i=l.a.createElement("div",null,l.a.createElement("div",{className:s,onClick:this.openColorPicker},ca.a.startBlank),c);break;case"customGradient":s=da("colorPreset","custom");var u=this.state.gradientGeneratorOpen?l.a.createElement(ia,{onOK:this.onGradientGeneratorOK,onChange:this.onGradientGeneratorChange,onCancel:this.onGradientGeneratorCancel,background:this.props.previousBackground}):null;i=l.a.createElement("div",null,l.a.createElement("div",{className:s,onClick:function(){return e.openGradientGenerator(o)}},ca.a.startBlank),u)}return i}}]),t}(i.Component);pa.propTypes={color:o.a.oneOfType([o.a.string,o.a.object]),currentColor:o.a.oneOfType([o.a.string,o.a.object]),type:o.a.oneOf(["color","gradient","custom","transparent","customGradient"]),onColorSelect:o.a.func.isRequired,previousBackground:o.a.shape({gradColors:o.a.array,type:o.a.string,backgroundRotation:o.a.number,rgradPos:o.a.string})},pa.defaultProps={color:"#ffffff",currentColor:"",type:"color",previousBackground:{}};var fa=pa,ha=[{type:"customGradient",key:0},{type:"lgrad",gradColors:[{c:"#ffffff",p:"0"},{c:"#e1e6ec",p:"100"}],key:1},{type:"lgrad",gradColors:[{c:"#d8dfe3",p:"0"},{c:"#aeb8bd",p:"100"}],key:2},{type:"lgrad",gradColors:[{c:"#2a2a2a",p:"0"},{c:"#000000",p:"100"}],key:3},{type:"lgrad",gradColors:[{c:"#ffb43d",p:"0"},{c:"#ff8e3d",p:"100"}],key:4},{type:"lgrad",gradColors:[{c:"#ffe65d",p:"0"},{c:"#f7c34a",p:"100"}],key:5},{type:"lgrad",gradColors:[{c:"#cbff5a",p:"0"},{c:"#81d545",p:"100"}],key:6},{type:"lgrad",gradColors:[{c:"#51bd49",p:"0"},{c:"#378631",p:"100"}],key:7},{type:"lgrad",gradColors:[{c:"#73e5dc",p:"0"},{c:"#34e0d2",p:"100"}],key:8},{type:"lgrad",gradColors:[{c:"#60ccff",p:"0"},{c:"#009cff",p:"100"}],key:9},{type:"lgrad",gradColors:[{c:"#0084ff",p:"0"},{c:"#0d55b9",p:"100"}],key:10},{type:"lgrad",gradColors:[{c:"#1d3e59",p:"0"},{c:"#0b253d",p:"100"}],key:11},{type:"lgrad",gradColors:[{c:"#5b2b7f",p:"0"},{c:"#2d1440",p:"100"}],key:12},{type:"lgrad",gradColors:[{c:"#7e68df",p:"0"},{c:"#533db2",p:"100"}],key:13},{type:"lgrad",gradColors:[{c:"#a28dff",p:"0"},{c:"#7961e6",p:"100"}],key:14},{type:"lgrad",gradColors:[{c:"#f3eaff",p:"0"},{c:"#dbc2ff",p:"100"}],key:15},{type:"lgrad",gradColors:[{c:"#ff7da4",p:"0"},{c:"#f6346f",p:"100"}],key:16},{type:"lgrad",gradColors:[{c:"#ff6569",p:"0"},{c:"#ef3a3f",p:"100"}],key:17},{type:"lgrad",gradColors:[{c:"#f64a22",p:"0"},{c:"#c7090f",p:"100"}],key:18},{type:"lgrad",gradColors:[{c:"#524139",p:"0"},{c:"#332924",p:"100"}],key:19},{type:"lgrad",gradColors:[{c:"#a58557",p:"0"},{c:"#806846",p:"100"}],key:20},{type:"lgrad",gradColors:[{c:"#e5ba7d",p:"0"},{c:"#bf9150",p:"100"}],key:21},{type:"lgrad",gradColors:[{c:"#fff8ee",p:"0"},{c:"#f5e7d3",p:"100"}],key:22},{type:"lgrad",gradColors:[{c:"#a9bcc6",p:"0"},{c:"#6c7b83",p:"100"}],key:23},{type:"lgrad",gradColors:[{c:"#04bbc6",p:"0"},{c:"#903af3",p:"100"}],key:24},{type:"lgrad",gradColors:[{c:"#44deff",p:"0"},{c:"#2942ff",p:"100"}],key:25},{type:"lgrad",gradColors:[{c:"#44deff",p:"0"},{c:"#21ff7e",p:"100"}],key:26},{type:"lgrad",gradColors:[{c:"#f5e7d3",p:"0"},{c:"#fffc54",p:"100"}],key:27},{type:"lgrad",gradColors:[{c:"#eda05b",p:"0"},{c:"#c52519",p:"100"}],key:28},{type:"lgrad",gradColors:[{c:"#eaf8eb",p:"0"},{c:"#8bfbf9",p:"100"}],key:29},{type:"lgrad",gradColors:[{c:"#e2f1fb",p:"0"},{c:"#eea8af",p:"100"}],key:30},{type:"lgrad",gradColors:[{c:"#26f8fd",p:"0"},{c:"#c3baf8",p:"100"}],key:31},{type:"lgrad",gradColors:[{c:"#b7e1e8",p:"0"},{c:"#ffd6f5",p:"100"}],key:32},{type:"lgrad",gradColors:[{c:"#eef3f5",p:"0"},{c:"#f93d5f",p:"100"}],key:33},{type:"lgrad",gradColors:[{c:"#5166c7",p:"0"},{c:"#1eb2cd",p:"100"}],key:34},{type:"rgrad",gradColors:[{c:"#ffffff",p:"0"},{c:"#e1e6ec",p:"100"}],key:35},{type:"rgrad",gradColors:[{c:"#d8dfe3",p:"0"},{c:"#aeb8bd",p:"100"}],key:36},{type:"rgrad",gradColors:[{c:"#2a2a2a",p:"0"},{c:"#000000",p:"100"}],key:37},{type:"rgrad",gradColors:[{c:"#ffb43d",p:"0"},{c:"#ff8e3d",p:"100"}],key:38},{type:"rgrad",gradColors:[{c:"#ffe65d",p:"0"},{c:"#f7c34a",p:"100"}],key:39},{type:"rgrad",gradColors:[{c:"#cbff5a",p:"0"},{c:"#81d545",p:"100"}],key:40},{type:"rgrad",gradColors:[{c:"#51bd49",p:"0"},{c:"#378631",p:"100"}],key:41},{type:"rgrad",gradColors:[{c:"#73e5dc",p:"0"},{c:"#34e0d2",p:"100"}],key:42},{type:"rgrad",gradColors:[{c:"#60ccff",p:"0"},{c:"#009cff",p:"100"}],key:43},{type:"rgrad",gradColors:[{c:"#0084ff",p:"0"},{c:"#0d55b9",p:"100"}],key:44},{type:"rgrad",gradColors:[{c:"#1d3e59",p:"0"},{c:"#0b253d",p:"100"}],key:45},{type:"rgrad",gradColors:[{c:"#5b2b7f",p:"0"},{c:"#2d1440",p:"100"}],key:46},{type:"rgrad",gradColors:[{c:"#7e68df",p:"0"},{c:"#533db2",p:"100"}],key:47},{type:"rgrad",gradColors:[{c:"#a28dff",p:"0"},{c:"#7961e6",p:"100"}],key:48},{type:"rgrad",gradColors:[{c:"#f3eaff",p:"0"},{c:"#dbc2ff",p:"100"}],key:49},{type:"rgrad",gradColors:[{c:"#ff7da4",p:"0"},{c:"#f6346f",p:"100"}],key:50},{type:"rgrad",gradColors:[{c:"#ff6569",p:"0"},{c:"#ef3a3f",p:"100"}],key:51},{type:"rgrad",gradColors:[{c:"#f64a22",p:"0"},{c:"#c7090f",p:"100"}],key:52},{type:"rgrad",gradColors:[{c:"#524139",p:"0"},{c:"#332924",p:"100"}],key:53},{type:"rgrad",gradColors:[{c:"#a58557",p:"0"},{c:"#806846",p:"100"}],key:54},{type:"rgrad",gradColors:[{c:"#e5ba7d",p:"0"},{c:"#bf9150",p:"100"}],key:55},{type:"rgrad",gradColors:[{c:"#fff8ee",p:"0"},{c:"#f5e7d3",p:"100"}],key:56},{type:"rgrad",gradColors:[{c:"#a9bcc6",p:"0"},{c:"#6c7b83",p:"100"}],key:57},{type:"rgrad",gradColors:[{c:"#04bbc6",p:"0"},{c:"#903af3",p:"100"}],key:58},{type:"rgrad",gradColors:[{c:"#44deff",p:"0"},{c:"#2942ff",p:"100"}],key:59},{type:"rgrad",gradColors:[{c:"#44deff",p:"0"},{c:"#21ff7e",p:"100"}],key:60},{type:"rgrad",gradColors:[{c:"#f5e7d3",p:"0"},{c:"#fffc54",p:"100"}],key:61},{type:"rgrad",gradColors:[{c:"#eda05b",p:"0"},{c:"#c52519",p:"100"}],key:62},{type:"rgrad",gradColors:[{c:"#eaf8eb",p:"0"},{c:"#8bfbf9",p:"100"}],key:63},{type:"rgrad",gradColors:[{c:"#e2f1fb",p:"0"},{c:"#eea8af",p:"100"}],key:64},{type:"rgrad",gradColors:[{c:"#26f8fd",p:"0"},{c:"#c3baf8",p:"100"}],key:65},{type:"rgrad",gradColors:[{c:"#b7e1e8",p:"0"},{c:"#ffd6f5",p:"100"}],key:66},{type:"rgrad",gradColors:[{c:"#eef3f5",p:"0"},{c:"#f93d5f",p:"100"}],key:67},{type:"rgrad",gradColors:[{c:"#5166c7",p:"0"},{c:"#1eb2cd",p:"100"}],key:68}],ma=n(1729),ba=n.n(ma),ga=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ya=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ga(t,[{key:"render",value:function(){var e=this,t=ha.map((function(t){var n=t,a="customGradient"===t.type?"customGradient":"gradient";return l.a.createElement("div",{key:t.key,className:ba.a.colorPreset},l.a.createElement(fa,{type:a,color:n,previousBackground:e.props.backgroundObj,onColorSelect:e.props.onGradientSelect}))}));return l.a.createElement("div",{className:ba.a.colorPanel},t)}}]),t}(i.Component);ya.propTypes={backgroundObj:o.a.shape({gradColors:o.a.array,type:o.a.string,backgroundRotation:o.a.number,rgradPos:o.a.string}),onGradientSelect:o.a.func},ya.defaultProps={backgroundObj:{},onGradientSelect:function(){}};var va=ya,Ea=Object(s.c)((function(e){var t=e.bannerCreator.editor.banner.banner.backgroundColor,n=t.gradColors,a=t.type,r=t.rgradPos,o=t.backgroundRotation;return{backgroundObj:{gradColors:n,type:a,backgroundRotation:parseInt(o),rgradPos:r}}}),(function(e){return{onGradientSelect:function(t){var n={};n.type=t.type,n.gradColors=t.gradColors,n.backgroundRotation=t.backgroundRotation||"270",n.rgradPos=t.rgradPos,e(Object(z.e)(n))}}}))(va),Sa=n(2500),Oa=n.n(Sa),Ca=n(461),wa=n(822),Ta=n(589),ka=n(765),Ia=n(544),La=n(559),Pa=function(e,t){var n=La.a.MIDDLE_CENTER;switch(t){case ka.a.LEFT:switch(e){case ka.a.TOP:n=La.a.TOP_LEFT;break;case ka.a.MIDDLE:n=La.a.MIDDLE_LEFT;break;case ka.a.BOTTOM:n=La.a.BOTTOM_LEFT}break;case ka.a.CENTER:switch(e){case ka.a.TOP:n=La.a.TOP_CENTER;break;case ka.a.MIDDLE:n=La.a.MIDDLE_CENTER;break;case ka.a.BOTTOM:n=La.a.BOTTOM_CENTER}break;case ka.a.RIGHT:switch(e){case ka.a.TOP:n=La.a.TOP_RIGHT;break;case ka.a.MIDDLE:n=La.a.MIDDLE_RIGHT;break;case ka.a.BOTTOM:n=La.a.BOTTOM_RIGHT}}return n},Ma=function(e){var t=ka.a.CENTER,n=ka.a.CENTER;switch(e){case La.a.TOP_LEFT:t=ka.a.TOP,n=ka.a.LEFT;break;case La.a.TOP_CENTER:t=ka.a.TOP,n=ka.a.CENTER;break;case La.a.TOP_RIGHT:t=ka.a.TOP,n=ka.a.RIGHT;break;case La.a.MIDDLE_LEFT:t=ka.a.MIDDLE,n=ka.a.LEFT;break;case La.a.MIDDLE_CENTER:t=ka.a.MIDDLE,n=ka.a.CENTER;break;case La.a.MIDDLE_RIGHT:t=ka.a.MIDDLE,n=ka.a.RIGHT;break;case La.a.BOTTOM_LEFT:t=ka.a.BOTTOM,n=ka.a.LEFT;break;case La.a.BOTTOM_CENTER:t=ka.a.BOTTOM,n=ka.a.CENTER;break;case La.a.BOTTOM_RIGHT:t=ka.a.BOTTOM,n=ka.a.RIGHT}return{verticalAlign:t,horizontalAlign:n}},Ra=n(2501),xa=n.n(Ra),Da=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ja(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Na=ie.a.bind(xa.a),Aa=[{value:Ia.a.EXACT_FIT,text:U.a.exactFit},{value:Ia.a.TILE,text:U.a.tile},{value:Ia.a.SCALE_CROP,text:U.a.scaleCrop},{value:Ia.a.NO_SCALE,text:U.a.noScale},{value:Ia.a.MAINTAIN_ASPECT,text:U.a.maintainAspect}],_a=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=ja(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onAlignModeChange=function(e){var t=Ma(e),n=t.verticalAlign,r=t.horizontalAlign;a.props.onPropertyChange({verticalAlign:n,horizontalAlign:r})},a.onScaleModeChange=function(e){a.onPropertyChange("scaleMode",e)},a.onScaleChange=function(e){a.onPropertyChange("contentScale",e)},a.onOffsetXChange=function(e){a.onPropertyChange("contentOffsetX",e)},a.onOffsetYChange=function(e){a.onPropertyChange("contentOffsetY",e)},a.onPropertyChange=function(e,t){a.props.onPropertyChange(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))},a.getAlignTool=function(){var e=a.props,t=e.scaleMode,n=e.verticalAlign,r=e.horizontalAlign;return t===Ia.a.TILE||t===Ia.a.EXACT_FIT?null:l.a.createElement("div",{className:xa.a.alignTool},l.a.createElement("p",{className:xa.a.text},U.a.align,":"),l.a.createElement(Ta.a,{skin:F.a.L_BLUE,selected:Pa(n,r),onPositionSelect:a.onAlignModeChange}))},a.getScaleMode=function(){var e=a.props.scaleMode,t=e===Ia.a.TILE||e===Ia.a.EXACT_FIT;return l.a.createElement("div",{className:Na(xa.a.scaleMode,{withMargin:t})},l.a.createElement("p",{className:xa.a.text},U.a.scaleMode,":"),l.a.createElement(Ge.a,{items:Aa,value:e,width:"140px",onChange:a.onScaleModeChange,skin:F.a.L_BLUE,size:K.a.MEDIUM}))},a.getTileSettings=function(){var e=a.props,t=e.scaleMode,n=e.contentOffsetX,r=e.contentOffsetY,o=e.contentScale;return t!==Ia.a.TILE?null:l.a.createElement("div",{className:xa.a.tileSettings},l.a.createElement("div",{className:xa.a.group},l.a.createElement("span",{className:xa.a.label},U.a.tileZoom),l.a.createElement("div",{className:xa.a.sliderContainer},l.a.createElement("div",{className:xa.a.slider},l.a.createElement(We.a,{onChange:a.onScaleChange,value:o,skin:F.a.L_BLUE,min:10})),l.a.createElement("p",{className:xa.a.label},o," %"))),l.a.createElement("div",{className:xa.a.group},l.a.createElement("p",{className:xa.a.label},U.a.offset," X"),l.a.createElement("div",{className:xa.a.sliderContainer},l.a.createElement("div",{className:xa.a.slider},l.a.createElement(We.a,{onChange:a.onOffsetXChange,value:n,skin:F.a.L_BLUE})),l.a.createElement("p",{className:xa.a.label},n," %"))),l.a.createElement("div",{className:xa.a.group},l.a.createElement("p",{className:xa.a.label},U.a.offset," Y"),l.a.createElement("div",{className:xa.a.sliderContainer},l.a.createElement("div",{className:xa.a.slider},l.a.createElement(We.a,{onChange:a.onOffsetYChange,value:r,skin:F.a.L_BLUE})),l.a.createElement("p",{className:xa.a.label},r," %"))))},ja(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Da(t,[{key:"render",value:function(){return l.a.createElement("div",{className:xa.a.imageSettingsContainer},l.a.createElement("div",{className:xa.a.row},this.getScaleMode(),this.getAlignTool()),l.a.createElement("div",{className:xa.a.row},this.getTileSettings()))}}]),t}(i.Component);_a.propTypes={scaleMode:o.a.oneOf([Ia.a.EXACT_FIT,Ia.a.MAINTAIN_ASPECT,Ia.a.NO_SCALE,Ia.a.SCALE_CROP,Ia.a.TILE]),verticalAlign:o.a.oneOf([ka.a.TOP,ka.a.MIDDLE,ka.a.BOTTOM]),horizontalAlign:o.a.oneOf([ka.a.LEFT,ka.a.CENTER,ka.a.RIGHT]),contentOffsetX:o.a.number,contentOffsetY:o.a.number,contentScale:o.a.number,onPropertyChange:o.a.func},_a.defaultProps={scaleMode:Ia.a.MAINTAIN_ASPECT,verticalAlign:ka.a.MIDDLE_CENTER,horizontalAlign:ka.a.MIDDLE_CENTER,contentOffsetX:0,contentOffsetY:0,contentScale:0,onPropertyChange:function(){}};var Ba=_a,Ha=Object(s.c)((function(e){var t=e.bannerCreator.editor.banner.banner.backgroundColor;return{scaleMode:t.scaleMode,verticalAlign:t.verticalAlign,horizontalAlign:t.horizontalAlign,contentOffsetX:t.contentOffsetX,contentOffsetY:t.contentOffsetY,contentScale:t.contentScale}}),(function(e){return{onPropertyChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(z.e)(t))}}}))(Ba),Ua=n(819),za=n(534),Ga=n(464),Fa=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Wa(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Va=ie.a.bind(Oa.a),qa=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Wa(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onImageClick=function(e){var t=a.props,n=t.onImageClick,r=t.showUpgradePopin,o=t.serviceType,i=t.placement;if(e.blocked){Ga.a.trackEvent("Triggered image Modal"),r("limitImages".concat(Object(fe.b)(o)))}else{var l={};i===Ft.a.BACKGROUND?l.applyBackgroundImage=!0:l.addImage=!0,e.statsLink&&Object(za.a)({page:"banner-creator/send-unsplash-download-event",url:e.statsLink}),n(e,l)}},a.onImageDragStart=function(e,t){var n=a.props,r=n.onImageDragStart,o=n.showUpgradePopin,i=n.serviceType,l=n.placement;e.blocked?(Ga.a.trackEvent("Triggered image Modal"),o("limitImages".concat(Object(fe.b)(i)))):l===Ft.a.ADD_PHOTOS&&r(e,t)},a.getImagesPanel=function(){var e=a.props,t=e.selectedImagesSource,n=e.showImageSettings,r=e.onImageSettingsClick,o=e.placement;switch(t){case qn.a.STOCK_PHOTOS:return l.a.createElement(wa.a,{onImageDragStart:a.onImageDragStart,onImageClick:a.onImageClick,imageSettingsEnabled:n,onImageSettingsClick:r,placement:o});case qn.a.MY_IMAGES:return l.a.createElement(Ua.a,{onImageDragStart:a.onImageDragStart,onImageClick:a.onImageClick,imageSettingsEnabled:n,onImageSettingsClick:r,placement:o});case qn.a.IMAGE_SETTINGS:return l.a.createElement(Ha,null);default:return null}},Wa(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fa(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedImagesSource,n=e.showImageSettingsTab,a=e.onImageSourceChange;n||t!==qn.a.IMAGE_SETTINGS||a(qn.a.STOCK_PHOTOS)}},{key:"render",value:function(){var e=this.props,t=e.selectedImagesSource,n=e.showImageSettingsTab,a=e.placement,r=e.onImageSourceChange,o=[{text:U.a.stockPhotos,value:qn.a.STOCK_PHOTOS},{text:U.a.myImages,value:qn.a.MY_IMAGES}];n&&o.push({text:U.a.imageSettings,value:qn.a.IMAGE_SETTINGS});var i=void 0;return i=a===Ft.a.ADD_PHOTOS||a===Ft.a.BACKGROUND?F.a.TRANSPARENT_WHITE:F.a.TAB_BLUE,l.a.createElement("div",{className:Va("imagesPanelContainer","imagesPanel-"+a),"data-qa":v.M},l.a.createElement("div",{className:Oa.a.imagesTabs},l.a.createElement(Zt.b,{items:o,onItemSelect:r,selectedValue:t,skin:i})),this.getImagesPanel())}}]),t}(i.Component);qa.propTypes={selectedImagesSource:o.a.oneOf([qn.a.STOCK_PHOTOS,qn.a.MY_IMAGES,qn.a.IMAGE_SETTINGS]),onImageSourceChange:o.a.func,showImageSettings:o.a.bool,showImageSettingsTab:o.a.bool,onImageSettingsClick:o.a.func,onImageDragStart:o.a.func,onImageClick:o.a.func,showUpgradePopin:o.a.func,serviceType:o.a.oneOf([Ca.a.FREE,Ca.a.BASIC,Ca.a.PRO,Ca.a.BUSINESS,Ca.a.STARTER,Ca.a.TEAM,Ca.a.PLUS]),placement:o.a.oneOf([Ft.a.IMAGES_MODAL,Ft.a.ADD_PHOTOS,Ft.a.BACKGROUND,Ft.a.GENERATOR])},qa.defaultProps={selectedImagesSource:qn.a.STOCK_PHOTOS,onImageSourceChange:function(){},showImageSettings:!1,showImageSettingsTab:!1,onImageSettingsClick:function(){},onImageDragStart:function(){},onImageClick:function(){},showUpgradePopin:function(){},serviceType:Ca.a.FREE,placement:Ft.a.ADD_PHOTOS};var Ka,Ya=qa,Xa=Object(s.c)((function(e,t){var n=t.placement,a=e.bannerCreator.editor,r=a.banner.banner.backgroundColor.type;return{selectedImagesSource:a.tools.imagesPanel.selectedImagesSource,serviceType:Object(zn.a)(e),showImageSettingsTab:n===Ft.a.BACKGROUND&&r===ue.b.IMAGE,showImageSettings:n===Ft.a.BACKGROUND}}),(function(e){return{onImageSourceChange:function(t,n){e(Object(Xn.r)(n))},onImageSettingsClick:function(){e(Object(Xn.r)(qn.a.IMAGE_SETTINGS))},showUpgradePopin:function(t){e(Object(_.h)(t))}}}))(Ya),Za=n(498),Ja={NON_COLORS:"nonColors",PALETTE_COLORS:"paletteColors",RECENT_COLORS:"recentColors",DEFAULT_COLORS:"defaultColors"},Qa=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Qa(t,[{key:"getColors",value:function(e){var t=this.props.colors[e],n=this.props,a=n.onOkColorPicker,r=n.onOpenColorPicker,o=n.onCancelColorPicker,i=n.currentColor,s=n.onColorSelect;return t.map((function(t,n){var c="color";"custom"!==t&&"transparent"!==t||(c=t);var u={};(n+1)%4==0&&(u.marginRight="0");var d=e+"-"+t;return l.a.createElement("div",{key:d,className:ba.a.colorPreset,style:u},l.a.createElement(fa,{type:c,color:t,onOkColorPicker:a,onOpenColorPicker:r,onCancelColorPicker:o,onColorSelect:s,currentColor:i}))}))}},{key:"render",value:function(){var e=this.props.colors,t=[],n=void 0;for(var a in e)if(a in e&&e[a].size>0){switch(a){case Ja.PALETTE_COLORS:n=U.a.colorPalette;break;case Ja.RECENT_COLORS:n=U.a.recentColors;break;case Ja.DEFAULT_COLORS:n=U.a.defaultPresets;break;default:n=null}var r=n?l.a.createElement("div",{className:ba.a.colorCategory},l.a.createElement(W.a,{label:n,size:K.a.NORMAL})):null,o=this.getColors(a);t.push(l.a.createElement("div",{key:a+"-container"},r,o))}return l.a.createElement("div",{className:ba.a.colorPanel},t,l.a.createElement("div",{className:"clearfix"}))}}]),t}(i.Component);er.propTypes={colors:o.a.shape((Ka={},$a(Ka,Ja.NON_COLORS,o.a.instanceOf(le.List)),$a(Ka,Ja.PALETTE_COLORS,o.a.instanceOf(le.List)),$a(Ka,Ja.RECENT_COLORS,o.a.instanceOf(le.List)),$a(Ka,Ja.DEFAULT_COLORS,o.a.instanceOf(le.List)),Ka)),currentColor:o.a.oneOfType([o.a.string,o.a.object]),onOkColorPicker:o.a.func,onCancelColorPicker:o.a.func,onOpenColorPicker:o.a.func,onColorSelect:o.a.func.isRequired},er.defaultProps={onOkColorPicker:function(){},onCancelColorPicker:function(){},onOpenColorPicker:function(){},currentColor:"",colors:null};var tr=er,nr=["custom","transparent","#ffffff","#000000","#da2727","#ff5722","#ff9800","#ffc107","#cddc39","#8bc34a","#4caf50","#009688","#00bcd4","#2196f3","#3f51b5","#673ab7","#9c27b0","#e91e63","#7d8c93","#905945"],ar=n(1077),rr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function or(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var lr=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=ir(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onColorSelect=function(e,t){var n={};switch(e){case"transparent":n.type="none";break;case"color":n.type="solid",n.scolor=t;break;case"custom":case"customChange":n.type="solid",n.scolor=t,"custom"===e&&a.forceUpdate()}a.props.onItemClick(n)},a.getColors=function(){var e;return or(e={},Ja.NON_COLORS,new le.List(nr.slice(0,4))),or(e,Ja.PALETTE_COLORS,new le.List(a.props.colorPalette)),or(e,Ja.RECENT_COLORS,new le.List(ar.a.getColors().slice(0,8))),or(e,Ja.DEFAULT_COLORS,new le.List(nr.slice(4))),e},ir(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),rr(t,[{key:"getCurrentColor",value:function(){var e=this.props.bannerBackground,t=e,n="";return"solid"===t.type&&(0===t.scolor.indexOf("rgb")&&(t=t.set("scolor",Object(fe.x)(e.scolor).color)),n=t.scolor.length<7?"#"+t.scolor:t.scolor),n||"#ffffff"}},{key:"render",value:function(){return l.a.createElement(tr,{colors:this.getColors(),onColorSelect:this.onColorSelect,currentColor:this.getCurrentColor()})}}]),t}(i.Component);lr.propTypes={onItemClick:o.a.func,colorPalette:o.a.array,bannerBackground:o.a.instanceOf(Za.a)},lr.defaultProps={onItemClick:function(){},colorPalette:null,bannerBackground:new Za.a};var sr=lr,cr=n(2502),ur=n.n(cr),dr=n(877),pr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var fr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pr(t,[{key:"render",value:function(){var e=this.props,t=e.onTextureSelect,n=e.onItemSettingsClick,a=this.props.images.map((function(e){return l.a.createElement("div",{key:e.name,className:ur.a.texture},l.a.createElement(dr.a,{placement:Ft.a.TEXTURES,imagePath:e.thumbSrc,onClick:function(){t(e)},width:96,height:96,containerWidth:96,containerHeight:96,settingsEnabled:!0,displayInfoIcon:!1,onSettingsClick:n}))}));return l.a.createElement("div",{className:ur.a.texturesPanel},a,l.a.createElement("div",{className:"clearfix"}))}}]),t}(i.Component);fr.propTypes={images:o.a.arrayOf(o.a.shape({src:o.a.string.isRequired,loaded:o.a.bool.isRequired})).isRequired,onTextureSelect:o.a.func.isRequired,onItemSettingsClick:o.a.func},fr.defaultProps={onItemSettingsClick:function(){}};var hr=fr,mr=["texture_1","texture_2","texture_3","texture_4","texture_5","texture_6","texture_7","texture_8","texture_9","texture_10","texture_11","texture_12","texture_13","texture_14","texture_15","texture_16","texture_17","texture_18","texture_19","texture_20","texture_21","texture_22","texture_23","texture_24","texture_25","texture_26","texture_27","texture_28","texture_29","texture_30","texture_31","texture_32","33.png","34.png","35.png","36.png","37.png","39.png","40.png","41.png","42.png","43.png","44.png","45.png","46.png","47.png","48.png","49.png","50.png","51.png","52.png","53.png","54.png","55.png","56.png","57.png","58.png","59.png","60.png","62.png","63.png","64.png","65.png","100.png","101.png","102.png","103.png","104.png","105.png","106.png","107.png","108.png","109.png","110.png","111.png","112.png","113.png","114.png","115.png","116.png","117.png","118.png","119.png","120.png","121.png","122.png","123.png","124.png","125.png","126.png","127.png","128.png","129.png","130.png","131.png","132.png","133.png","134.png","135.png"],br=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var gr=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onTextureSelect=e.onTextureSelect.bind(e),e.state=e.calculateInitialState(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),br(t,[{key:"onTextureSelect",value:function(e){var t={type:"image"};t.url=e.src,t.scaleMode="tile",t.contentScale=100,this.props.onItemClick(t)}},{key:"calculateInitialState",value:function(){return{images:mr.map((function(e){return{loaded:!1,name:e,thumbSrc:"//cdn.bannersnack.com/textures/thumbs/"+e,src:"//cdn.bannersnack.com/textures/images/"+e}}))}}},{key:"render",value:function(){return l.a.createElement(hr,{images:this.state.images,onTextureSelect:this.onTextureSelect,onItemSettingsClick:this.props.onItemSettingsClick})}}]),t}(i.Component);gr.propTypes={onItemSettingsClick:o.a.func,onItemClick:o.a.func},gr.defaultProps={onItemSettingsClick:function(){},onItemClick:function(){}};var yr=gr,vr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Er(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Sr=[{text:U.a.colors,value:"colors"},{text:U.a.gradients,value:"gradients"},{text:U.a.textures,value:"textures"},{text:U.a.images,value:"images"}],Or=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Er(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={selectedBackgroundItem:"colors"},a.onItemSettingsClick=function(){a.setState({selectedBackgroundItem:"images"}),a.props.goToImageSettings(),a.refTest.scrollIntoView({behavior:"smooth"})},a.onBackgroundItemChange=function(e){a.setState({selectedBackgroundItem:Sr[e].value})},a.goToResizePanel=function(){var e=a.props,t=e.resizePanelIndex;(0,e.goToResizePanel)(t)},Er(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vr(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onItemClick,a=t.colorPalette,r=t.bannerBackground,o=this.state.selectedBackgroundItem,i=l.a.createElement(Zt.b,{items:Sr,onItemSelect:this.onBackgroundItemChange,selectedValue:o}),s=null;switch(o){case"colors":s=l.a.createElement(tn.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,autoHide:!1},l.a.createElement(sr,{onItemClick:n,colorPalette:a,bannerBackground:r}));break;case"gradients":s=l.a.createElement(tn.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,autoHide:!1},l.a.createElement(Ea,null));break;case"textures":s=l.a.createElement(tn.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,autoHide:!1},l.a.createElement(yr,{ref:function(t){e.refTest=t},onItemClick:n,onItemSettingsClick:this.onItemSettingsClick}));break;case"images":s=l.a.createElement(Xa,{placement:Ft.a.BACKGROUND})}return l.a.createElement("div",{className:Qn.a.backgroundPanel},l.a.createElement(Mn,{tool:Tn.a.background}),l.a.createElement("div",{className:Qn.a.resizeButton,onClick:this.goToResizePanel},l.a.createElement("span",{className:Qn.a.icon},Zn),l.a.createElement("span",{className:Qn.a.label},U.a.resizeTool)),i,l.a.createElement("div",{className:Qn.a.backgroundPanelContent},s))}}]),t}(i.Component);Or.propTypes={goToImageSettings:o.a.func,onItemClick:o.a.func,goToResizePanel:o.a.func,colorPalette:o.a.array,resizePanelIndex:o.a.number,bannerBackground:o.a.instanceOf(Za.a)},Or.defaultProps={goToImageSettings:function(){},onItemClick:function(){},goToResizePanel:function(){},colorPalette:null,resizePanelIndex:0,bannerBackground:new Za.a};var Cr=Or,wr=Object(rt.createSelector)([function(e){return e.bannerCreator.editor.banner.banner}],(function(e){return e?e.backgroundColor:{}})),Tr=Object(s.c)((function(e){var t=Object(Kn.a)(e),n=Object(zn.a)(e),a=wr(e);return{resizePanelIndex:t,colorPalette:Object(Yn.a)(e),serviceType:n,bannerBackground:a}}),(function(e){return{onItemClick:function(t){e(Object(z.e)(t))},goToImageSettings:function(){e(Object(Xn.r)(qn.a.IMAGE_SETTINGS))},goToResizePanel:function(t){e(Object(Xn.u)(t))}}}))(Cr),kr=n(2503),Ir=n.n(kr),Lr=n(480),Pr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Mr=ie.a.bind(Ir.a),Rr=function(e){var t=e>48?.8:1;return parseInt(Object(Lr.a)(e*t,10,48))+"px"},xr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Pr(t,[{key:"onTextClick",value:function(e){var t=e.alignment,n=e.title,a=e.fontFamily,r=e.fontSize,o=e.fontWeight,i=e.fontStyle,l=e.color,s=e.layerTitle,c=e.width,u=e.height,d=e.provider,p=e.fontUrl,f=e.fontFaceUrl,h=e.fontPrefix;this.props.onTextClickHandler({alignment:t,fontSize:r,fontWeight:o,color:l,text:n,layerTitle:s,width:c,height:u,fontFamily:a,fontStyle:i,fontType:d,fontUrl:p,fontFaceUrl:f,fontPrefix:h})}},{key:"render",value:function(){var e=this,t=this.props,n=t.textPresets,a=t.onTextDragHandler,r=n.map((function(t){var n=t.title,r=t.fontFamily,o=t.fontSize,i=t.fontWeight,s=t.fontStyle,c=t.type,u={fontFamily:'"'+(t.fontPrefix||"")+r+'"',fontSize:Rr(o),fontWeight:i,fontStyle:s},d=l.a.createElement("div",{className:Mr(t.type),onClick:function(n){e.onTextClick(t,n)}},t.title);return l.a.createElement("div",{draggable:"true",key:n+"-"+c+"-"+o,style:u,onDragStart:function(e){a(t,e)}},d)}));return l.a.createElement("div",{className:Ir.a.textList},r,l.a.createElement("div",{className:Ir.a.line}))}}]),t}(i.Component);xr.propTypes={textPresets:o.a.instanceOf(le.List),onTextClickHandler:o.a.func.isRequired,onTextDragHandler:o.a.func.isRequired},xr.defaultProps={textPresets:new le.List};var Dr=xr,jr=n(2504),Nr=n.n(jr),Ar=n(672),_r=n(2505),Br=n.n(_r),Hr=n(460),Ur=n(1422),zr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Gr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Fr=ie.a.bind(Br.a),Wr=5,Vr=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Gr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={visible:!1,loaded:!1,error:!1},a.onClick=function(){var e=a.props,t=e.hash;e.loading||a.props.onClickHandler(t)},a.onImageError=function(){a.setState({error:!0})},a.onImageLoad=function(){a.setState({loaded:!0})},a.onMouseDown=function(e){2!==e.button&&(e.preventDefault(),window.addEventListener("mousemove",a.onMouseMove),a.mouseDownEvent={clientX:e.clientX,clientY:e.clientY,target:e.target})},a.onMouseMove=function(e){if(a.mouseDownEvent){var t=a.props,n=t.onDragStart,r=t.hash,o=e.clientX,i=e.clientY,l=a.mouseDownEvent,s=l.clientX,c=l.clientY;if(Math.abs(o-s)>Wr||Math.abs(i-c)>Wr)window.removeEventListener("mousemove",a.onMouseMove),n(r,{x:s,y:c})}},a.onMouseUp=function(){window.removeEventListener("mousemove",a.onMouseMove)},a.timeoutIsInView=null,Gr(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),zr(t,[{key:"componentDidMount",value:function(){var e=this;this.timeoutIsInView=setTimeout((function(){var t=e.props.scroll,n=t.scrollTop,a=t.clientHeight,r=e.refPresetPlaceholder,o=r.offsetTop,i=r.offsetHeight;Object(Ur.a)(o,i,n,a)&&e.setState({visible:!0})}),50)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.state.visible;if(!t){var n=this.props.scroll,a=n.scrollTop,r=n.clientHeight;clearTimeout(this.timeoutIsInView),this.timeoutIsInView=setTimeout((function(){var n=e.refPresetPlaceholder,o=n.offsetTop,i=n.offsetHeight;!t&&Object(Ur.a)(o,i,a,r)&&e.setState({visible:!0})}),50)}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutIsInView),window.removeEventListener("mousemove",this.onMouseMove)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hash,a=t.dragging,r=t.loading,o=this.state,i=o.loaded,s=o.visible,c=o.error,u=null;return s?c||(u=l.a.createElement("div",{className:Fr({presetContainer:!0,loaded:i}),onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},l.a.createElement("img",{alt:"presentation",src:"//cdn.bannersnack.com/banners/"+n+"/images/png",ref:function(t){e.refImage=t},onError:this.onImageError,onLoad:this.onImageLoad,onClick:this.onClick,className:Fr(Br.a.image,{dragging:a,loading:r})}))):u=l.a.createElement("div",{className:Fr({presetContainer:!0,loaded:i}),ref:function(t){e.refPresetPlaceholder=t}}),u}}]),t}(i.Component);Vr.propTypes={hash:o.a.string,onClickHandler:o.a.func.isRequired,scroll:o.a.instanceOf(Hr.a),onDragStart:o.a.func,dragging:o.a.bool,loading:o.a.bool},Vr.defaultProps={hash:"",scroll:new Hr.a,onDragStart:function(){},dragging:!1,loading:!1};var qr=Vr,Kr=n(2506),Yr=n.n(Kr),Xr=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Zr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Jr=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Zr(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.renderTextPreset=function(e){var t=a.props,n=t.scroll,r=t.draggingHash,o=t.loadingHash,i=t.onPresetClick,s=t.onPresetDrag;return l.a.createElement(qr,{hash:e.hash,key:e.hash,scroll:n,onClickHandler:i,onDragStart:s,dragging:r===e.hash,loading:o===e.hash})},Zr(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Xr(t,[{key:"componentDidMount",value:function(){this.props.onComponentDidMount()}},{key:"render",value:function(){var e=this.props,t=e.textPresets;return e.loadingTextPresets?l.a.createElement(ze.a,null):l.a.createElement("div",{className:Yr.a.presetList},t.map(this.renderTextPreset))}}]),t}(i.Component);Jr.propTypes={scroll:o.a.instanceOf(Hr.a),textPresets:o.a.instanceOf(le.List),onPresetClick:o.a.func,onPresetDrag:o.a.func,draggingHash:o.a.string,loadingHash:o.a.string,onComponentDidMount:o.a.func,loadingTextPresets:o.a.bool},Jr.defaultProps={scroll:new Hr.a,onPresetClick:function(){},onPresetDrag:function(){},draggingHash:"",loadingHash:"",textPresets:new le.List,onComponentDidMount:function(){},loadingTextPresets:!1};var Qr=Jr,$r=Object(s.c)((function(e){var t=e.bannerCreator.editor,n=t.tools,a=t.drag.textPresetHash;return{scroll:n.textPresetsScroll,draggingHash:a,loadingHash:n.loadingHash,textPresets:n.textPresets}}),(function(e){return{onPresetClick:function(t){e(Object(Xn.j)(t))},onPresetLoadError:function(){e(Object(_.g)(U.a.errorPreset))},onPresetDrag:function(t,n){e(Object(Xn.e)(t,n))},onComponentDidMount:function(){e(Object(Xn.f)())}}}))(Qr),eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},to=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function no(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ao=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=no(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onResize=function(){clearTimeout(a.onResizeTimeout),a.onResizeTimeout=setTimeout((function(){a.refScrollArea&&a.props.onScroll(a.refScrollArea.getValues())}),50)},a.onTextDrag=function(e,t){var n=a.props,r=n.zoom,o=n.backgroundColor,i=e.alignment,l=e.fontFamily,s=e.fontWeight,c=e.fontStyle,u=e.width,d=e.height,p=e.provider,f=e.fontUrl,h=e.fontFaceUrl,m=e.fontPrefix,b=t.target.getBoundingClientRect(),g=Math.round((t.clientX-b.left)*r),y=Math.round((t.clientY-b.top)*r),v=Object(we.a)(o)?"#ffffff":"#000000",E=a.getRatio(),S={layerType:"text",mouseOffset:{left:g,top:y},modelAttributes:{alignment:i,fontFamily:l,fontPrefix:m,fontSize:Math.round(e.fontSize*E),fontWeight:s,fontStyle:c,fontUrl:f,fontFaceUrl:h,fontType:p,layerTitle:e.layerTitle,color:v,text:e.title,width:Math.round(u*E),height:Math.round(d*E)}};t.dataTransfer.setDragImage(a.getDragImage(t.target,e),g,y),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("modelData",JSON.stringify(S))},a.onScrollFrame=function(e){clearTimeout(a.onScrollFrameTimeout),a.onScrollFrameTimeout=setTimeout((function(){a.props.onScroll(e)}),50)},a.onTextClick=function(e){var t=a.props,n=t.onTextClick,r=t.backgroundColor,o=e.fontSize,i=e.height,l=e.width,s=a.getRatio(),c=Object(we.a)(r)?"#ffffff":"#000000",u={fontSize:Math.round(o*s),height:Math.round(i*s),width:Math.round(l*s),color:c};n(eo({},e,u))},a.getRatio=function(){var e=a.props,t=e.bannerWidth,n=e.bannerHeight;return Object(ge.a)(t,n)},a.loadAllFonts=function(){a.props.textPresets.forEach((function(e){var t=e.fontFamily,n=e.fontWeight,a=e.provider,r=e.fontUrl,o=e.fontFaceUrl,i=e.fontStyle,l=e.fontPrefix;Object(Ar.a)(t,n,a,r,o,i,l)}))},no(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),to(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.onScroll,a=t.scrollTop;a?setTimeout((function(){e.refScrollArea.scrollTop(a)}),0):this.refScrollArea&&n(this.refScrollArea.getValues()),window.addEventListener("resize",this.onResize),this.props.onComponentDidMount(),this.loadAllFonts()}},{key:"componentDidUpdate",value:function(e){this.props.textPresets!==e.textPresets&&this.loadAllFonts()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.onScrollFrameTimeout),clearTimeout(this.onResizeTimeout),window.removeEventListener("resize",this.onResize)}},{key:"getDragImage",value:function(e,t){if(!e)return null;var n=this.props.zoom,a=e.cloneNode(!0);if(a){var r=this.getRatio(),o=t.fontSize,i=t.fontFamily,l=t.fontWeight,s=t.fontStyle,c=t.width,u=t.height,d=r*n;a.style.fontSize=Math.round(o*d)+"px",a.style.fontFamily='"'+i+'"',a.style.fontWeight=l,a.style.fontStyle=s,a.style.width=Math.round(c*d)+"px",a.style.height=Math.round(u*d)+"px",a.style.lineHeight="1.4",a.style.textAlign="center",a.style.color="#000000",a.style.overflow="hidden",a.style.background="rgba(0,0,0,0.01)";var p=document.createElement("DIV");p.style.width=a.style.width,p.style.height=a.style.height,p.style.position="absolute",p.style.left="-9990px",p.style.top="-9000px",p.style.zIndex=9999,p.appendChild(a),window.document.body.appendChild(p),setTimeout((function(){window.document.body.removeChild(p)}))}return a}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:Nr.a.textPanelContainer},l.a.createElement(Mn,{tool:Tn.a.text}),l.a.createElement(tn.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,autoHide:!1,onScrollFrame:this.onScrollFrame,ref:function(t){e.refScrollArea=t}},l.a.createElement(Dr,{textPresets:this.props.textPresets,onTextClickHandler:this.onTextClick,onTextDragHandler:this.onTextDrag}),l.a.createElement($r,null)))}}]),t}(i.Component);ao.propTypes={bannerHeight:o.a.number,bannerWidth:o.a.number,onTextClick:o.a.func,onComponentDidMount:o.a.func,onScroll:o.a.func,zoom:o.a.number.isRequired,textPresets:o.a.instanceOf(le.List),scrollTop:o.a.number,backgroundColor:o.a.instanceOf(Za.a)},ao.defaultProps={bannerHeight:0,bannerWidth:0,onTextClick:function(){},onScroll:function(){},scrollTop:0,backgroundColor:new Za.a,onComponentDidMount:function(){},textPresets:new le.List};var ro=ao,oo=Object(rt.createSelector)([function(e){return e.bannerCreator.library.typography.typographyOptions}],(function(e){return e.map((function(e){var t=e.fontFamily,n=e.fontSize,a=e.fontWeight,r=e.fontStyle,o=e.type,i=e.provider,l=e.fontUrl,s=e.fontFaceUrl,c=e.fontPrefix,u=function(e,t){var n=void 0,a=void 0,r=void 0;switch(e){case"heading":r=32,n=240,a=45;break;case"subheading":r=24,n=210,a=34;break;case"body":default:r=16,n=90,a=22}return{width:n*t/r,height:a*t/r}}(o,n),d=u.width,p=u.height;return{alignment:"center",color:"#000",fontFamily:t,fontSize:n,fontWeight:a,fontStyle:r,title:U.a[o+"Text"],layerTitle:U.a[o],width:d,height:p,type:o,provider:i,fontUrl:l,fontFaceUrl:s,fontPrefix:c}}))})),io=Object(s.c)((function(e){var t=e.bannerCreator.editor,n=t.stage.zoom,a=t.banner.banner,r=a.height,o=a.width,i=a.backgroundColor,l=t.tools.textPresetsScroll.scrollTop;return{textPresets:oo(e),bannerHeight:r,bannerWidth:o,zoom:n,scrollTop:l,backgroundColor:i}}),(function(e){return{onComponentDidMount:function(){e(Object(x.d)())},onTextClick:function(t){e(Object(z.a)(ue.b.TEXT,t))},onScroll:function(t){e(Object(Xn.v)(t))}}}))(ro),lo=n(1402),so=n(980),co=n(2507),uo=n.n(co),po=n(428),fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ho=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function mo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var bo=2,go=.8,yo=300,vo=250,Eo=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=mo(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onButtonClick=function(e){var t=a.props,n=t.limitedAccess,r=t.onButtonClick,o=so.a.find((function(t){return t.key===e})),i=o.premium,l=o.properties,s=l.labelStyle,c=l.height,u=l.width,d=a.getRatio(),p={labelStyle:fo({},s,{fontSize:Math.round(s.fontSize*d)}),height:Math.round(c*d),width:Math.round(u*d)};r(fo({},l,p),i&&n)},a.onItemDrag=function(e,t){var n=a.props,r=n.limitedAccess,o=n.zoom,i=so.a.find((function(e){return e.key===t})).premium,l=e;l.stopPropagation();var s=so.a[t-1].properties,c=s,u=c.labelStyle,d=c.height,p=c.width,f=a.getRatio(),h={labelStyle:fo({},u,{fontSize:Math.round(u.fontSize*f)}),height:Math.round(d*f),width:Math.round(p*f)};s=fo({},s,h);var m=l.target.getBoundingClientRect(),b=Math.round((l.clientX-m.left)*(s.width/m.width)*o),g=Math.round((l.clientY-m.top)*(s.height/m.height)*o),y={layerType:"button",mouseOffset:{left:b,top:g},modelAttributes:s,isBlocked:i&&r};l.dataTransfer.setDragImage(a.getDragImage(s),b,g),l.dataTransfer.effectAllowed="move",l.dataTransfer.setData("modelData",JSON.stringify(y))},a.getRatio=function(){var e=a.props,t=e.bannerWidth,n=e.bannerHeight,r=Math.min(t/yo,n/vo);return Math.min(Math.max(r,go),bo)},mo(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ho(t,[{key:"getDragImage",value:function(e){var t=this.props.zoom,n=document.createElement("DIV"),a=document.createElement("DIV");if(e){n.style.fontSize=e.labelStyle.fontSize*t+"px",n.style.fontFamily=e.labelStyle.fontFamily,n.style.fontWeight=e.labelStyle.fontWeight,n.style.width=e.width*t+"px",n.style.height=e.height*t+"px",n.style.textAlign="center",n.style.color=e.labelStyle.color,n.innerHTML=e.buttonLabel,a.style.width=e.width*t+"px",a.style.height=e.height*t+"px",a.style.lineHeight=Math.round(e.height*t)+"px";var r=0;e.border&&(r=e.border.weight,a.style.border=r+"px solid "+e.border.color,a.style.borderRadius=e.border.radius+"px");var o=Object(po.g)(e.backgroundColor,r);o.backgroundColor&&(a.style.backgroundColor=o.backgroundColor),o.background&&(a.style.background=o.background),o.backgroundImage&&(a.style.backgroundImage=o.backgroundImage),n.style.lineHeight=Math.round((e.height-2*r)*t)+"px",a.appendChild(n);var i=document.createElement("DIV");i.style.width=e.width,i.style.height=e.height,i.style.position="absolute",i.style.left="-9999px",i.style.top="-9999px",i.style.zIndex=99999,i.appendChild(a),window.document.body.appendChild(i),setTimeout((function(){window.document.body.removeChild(i)}))}return a}},{key:"render",value:function(){return l.a.createElement("div",{className:uo.a.buttonsPanelContainer},l.a.createElement(Mn,{tool:Tn.a.button}),l.a.createElement(tn.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,autoHide:!1},l.a.createElement(lo.a,{itemClickHandler:this.onButtonClick,itemDragHandler:this.onItemDrag,isButtonLimited:this.props.limitedAccess})))}}]),t}(i.Component);Eo.propTypes={bannerHeight:o.a.number,bannerWidth:o.a.number,limitedAccess:o.a.bool,onButtonClick:o.a.func,zoom:o.a.number},Eo.defaultProps={bannerHeight:0,bannerWidth:0,limitedAccess:!0,onButtonClick:function(){},zoom:1};var So=Eo,Oo=Object(s.c)((function(e){var t=e.bannerCreator.editor,n=t.banner.banner;return{bannerHeight:n.height,bannerWidth:n.width,limitedAccess:Object(Qt.a)(e).bmButtons===$t.a.LIMITED,zoom:t.stage.zoom}}),(function(e){return{onButtonClick:function(t,n){e(Object(z.a)(ue.b.BUTTON,t,{isBlocked:n}))}}}))(So),Co=n(2508),wo=n.n(Co),To=n(1154),ko=n.n(To),Io=n(1204),Lo=n(114),Po=n(837),Mo=n(1472),Ro=function(e){for(var t=e.elements.filter((function(e){return"slide"===e.type})),n=0;n<t.length;n++){var a=t[n];if(a&&a.elements.length>0)return!1}return!0},xo=n(393),Do=n(660),jo=n(1548),No=n(772),Ao=n(411),_o=n(1079),Bo=n(1078),Ho=n(520),Uo=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var zo=ie.a.bind(wo.a),Go=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onPreviewClick=function(e){var t=n.props,a=t.json,r=t.selectedSlideJson,o=t.selectedSlideIndex,i=t.showPreviewPopin,l=t.access,s=t.onBannerEmpty;Ro(a)?s():(l===$t.a.LIMITED&&Ga.a.trackEvent("Tried to add magic animator"),n.selectedPreset=e,n.json=a,n.selectedSlideIndex=o,n.numberOfSlides=a.elements.filter((function(e){return e.type===it.a.SLIDE})).length,n.initialStopSlideOnSelectedSlide=r.properties.stopSlide,n.updateJson(),i())},n.onNextPreviewClick=function(){if(!n.isLastPreset()){var e=Object.values(Po.a);n.selectedPreset=e[e.indexOf(n.selectedPreset)+1],n.updateJson()}},n.onPreviousPreviewClick=function(){if(!n.isFirstPreset()){var e=Object.values(Po.a);n.selectedPreset=e[e.indexOf(n.selectedPreset)-1],n.updateJson()}},n.onApplyButtonClick=function(){if(!n.hasAccessToPreset(n.selectedPreset))return window.open(Ho.b,"_blank"),void Object(jo.a)();n.json.elements[n.selectedSlideIndex].properties.stopSlide=n.initialStopSlideOnSelectedSlide,n.props.applyNewData(n.json),n.setState({currentSlideHasTransitions:n.selectedPreset!==Po.a.NONE}),Ga.a.trackEvent("Magic animate applied",{preset:n.selectedPreset}),n.hidePreviewPopin()},n.getPopinSize=function(){var e=n.json.properties,t=e.width,a=e.height;return{modalWidth:Math.max(Math.min(t+100,window.innerWidth-200),600),modalHeight:Math.min(a+200,window.innerHeight-200)}},n.getPopinScale=function(){var e=n.json.properties,t=e.width,a=e.height,r=n.getPopinSize(),o=r.modalWidth,i=r.modalHeight,l=1,s=1;return t>o-50&&(l=Math.floor((o-50)/t*100)/100),a>i-100&&(s=Math.floor((i-100)/a*100)/100),Math.min(l,s)},n.getPreviewPopin=function(){var e=n.state.applyOnAllSlides,t=null;if(n.props.previewPopinVisible&&n.json){var a=n.json.properties,r=a.width,o=a.height,i=n.getPopinSize(),s=i.modalWidth,c=i.modalHeight,u=n.getPopinScale(),d=e?U.a.magicAnimateApplyOnAllSlidesNote:U.a.magicAnimateApplyOnCurrentSlideNote,p=n.hasAccessToPreset(n.selectedPreset)?U.a.applyAndUse:U.a.upgradeToApply,f=n.numberOfSlides>1?l.a.createElement("div",{className:wo.a.checkbox},l.a.createElement(Ne.a,{checked:e,skin:F.a.BLUE,shape:xe.a.ROUNDED_RECTANGLE,checkBoxStyle:{marginRight:"7px"},onChange:n.toggleApplyOnAllSlides},l.a.createElement("span",{className:wo.a.checkboxLabel},l.a.createElement(W.a,{skin:F.a.DARK_GREY,size:K.a.NORMAL,label:U.a.applyOnAllSlides})))):null,h=l.a.createElement(Lo.a,{onClick:n.onNextPreviewClick,skin:F.a.WHITE_TRANSPARENT,disabled:n.isLastPreset(),className:wo.a.arrowBtn},_o.a),m=l.a.createElement(Lo.a,{onClick:n.onPreviousPreviewClick,skin:F.a.WHITE_TRANSPARENT,disabled:n.isFirstPreset(),className:wo.a.arrowBtn},Bo.a);t=l.a.createElement(q.a,{width:s+"px",onClose:n.hidePreviewPopin,padding:"0px",onNextClick:n.onNextPreviewClick,onBackClick:n.onPreviousPreviewClick},l.a.createElement("div",{className:wo.a.previewPopinContent,style:{minHeight:c+"px"},"data-qa":v.q},l.a.createElement("div",{className:ko.a.previewPopin},l.a.createElement("div",{className:ko.a.header},l.a.createElement(W.a,{size:K.a.LARGE,label:U.a.previewHeader+": "+Object(fe.b)(n.selectedPreset),skin:F.a.WHITE}),l.a.createElement(qe.b,{placement:xo.a.BOTTOM,title:U.a.replayTooltip},l.a.createElement("div",{className:ko.a.refreshIcon},l.a.createElement(Ao.a,{onClick:n.replayPreview,size:K.a.XLARGE,skin:F.a.DARK_GREY,icon:No.a})))),l.a.createElement("div",{className:wo.a.previewPopinBody},m,l.a.createElement(Do.a,{json:n.json,startSlide:e?0:n.selectedSlideIndex,width:r,height:o,zoom:u,showOnlyOneSlide:!1,ref:function(e){n.refPreviewIFrame=e}}),h)),l.a.createElement("div",{className:wo.a.previewPopinBottom},l.a.createElement("div",{className:wo.a.left},f,l.a.createElement("div",{className:wo.a.note},l.a.createElement(W.a,{skin:F.a.GREY,size:K.a.NORMAL,label:d}))),l.a.createElement("div",{className:wo.a.right},l.a.createElement("div",{className:wo.a.button},l.a.createElement(Lo.a,{size:K.a.MEDIUM,skin:F.a.ACCENT_GREY,onClick:n.hidePreviewPopin},U.a.cancel)),l.a.createElement("div",{className:wo.a.button},l.a.createElement(Lo.a,{size:K.a.MEDIUM,skin:F.a.BLUE,onClick:n.onApplyButtonClick},p))))))}return t},n.isLastPreset=function(){var e=Object.values(Po.a);return e.indexOf(n.selectedPreset)===e.length-1},n.isFirstPreset=function(){return 0===Object.values(Po.a).indexOf(n.selectedPreset)},n.replayPreview=function(){n.refPreviewIFrame&&n.refPreviewIFrame.renderBanner()},n.hasAccessToPreset=function(e){if(e===Po.a.NONE)return!0;switch(n.props.access){case $t.a.YES:return!0;case $t.a.LIMITED:return e===Po.a.APLHA;case $t.a.NO:default:return!1}},n.toggleApplyOnAllSlides=function(){n.setState((function(e){return{applyOnAllSlides:!e.applyOnAllSlides}})),n.json=n.props.json,setTimeout((function(){n.updateJson()}),0)},n.updateJson=function(){var e=n.state,t=n.selectedSlideIndex,a=n.initialStopSlideOnSelectedSlide,r=e.applyOnAllSlides&&n.numberOfSlides>1;n.json=Object(Mo.a)(n.json,n.selectedPreset,{applyOnAllSlides:r,selectedSlideIndex:t,initialStopSlideOnSelectedSlide:a}),n.forceUpdate()},n.hidePreviewPopin=function(){n.props.hidePreviewPopin(),n.clearThisData()},n.clearThisData=function(){n.selectedPreset=null,n.json=null,n.selectedSlideIndex=0,n.initialStopSlideOnSelectedSlide=!1,n.numberOfSlides=1},n.state={applyOnAllSlides:!1,currentSlideHasTransitions:e.currentSlideHasTransitions},n.clearThisData(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Uo(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.currentSlideHasTransitions!==t.currentSlideHasTransitions?{currentSlideHasTransitions:e.currentSlideHasTransitions}:null}}]),Uo(t,[{key:"getPresetList",value:function(){var e=this,t=this.state.currentSlideHasTransitions,n=[],a=function(a){if(a in Io.a){var r=a===Po.a.NONE,o=null;e.hasAccessToPreset(a)||(o=l.a.createElement(ln.a,{type:rn.a.PREMIUM,container:on.a.MAGIC_ANIMATE}));var i=r&&!t;n.push(l.a.createElement("div",{key:a,className:zo("preset",{disabled:i}),onClick:function(){e.onPreviewClick(a)}},l.a.createElement("div",{className:wo.a.logo},r?l.a.createElement("div",{className:wo.a.noneIcon}):a.charAt(0).toUpperCase()),l.a.createElement("div",{className:wo.a.title},Object(fe.b)(a)),l.a.createElement("div",{className:wo.a.preview},l.a.createElement(Lo.a,{size:K.a.SMALL,skin:F.a.WHITE},U.a.preview)),o))}};for(var r in Io.a)a(r);return n}},{key:"render",value:function(){var e=this.getPreviewPopin();return l.a.createElement("div",{className:wo.a.magicAnimatePanel},l.a.createElement(Mn,{tool:Tn.a.animator}),l.a.createElement(tn.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,autoHide:!1},l.a.createElement("div",{className:wo.a.subtitle},l.a.createElement(W.a,{skin:F.a.PURE_WHITE,size:K.a.NORMAL,label:U.a.magicAnimateToolSubtitle1})),l.a.createElement("div",{className:wo.a.subtitle},l.a.createElement(W.a,{skin:F.a.SEMI_TRANSPARENT_WHITE,size:K.a.NORMAL,label:U.a.magicAnimateToolSubtitle2})),l.a.createElement("div",{className:wo.a.presets},this.getPresetList()),e))}}]),t}(i.Component);Go.propTypes={json:o.a.object.isRequired,selectedSlideJson:o.a.object.isRequired,showPreviewPopin:o.a.func,hidePreviewPopin:o.a.func,onBannerEmpty:o.a.func,applyNewData:o.a.func,access:o.a.oneOf([$t.a.YES,$t.a.LIMITED,$t.a.NO]),previewPopinVisible:o.a.bool.isRequired,currentSlideHasTransitions:o.a.bool.isRequired,selectedSlideIndex:o.a.number.isRequired},Go.defaultProps={showPreviewPopin:S.a,hidePreviewPopin:S.a,applyNewData:S.a,onBannerEmpty:S.a,access:$t.a.NO};var Fo=Go,Wo=n(413),Vo=n(634),qo=Object(s.c)((function(e){var t=e.bannerCreator.editor,n=t.banner,a=n.banner,r=n.selectedSlideId,o=n.bannerPathMap,i=t.tools.previewMagicAnimatePopinVisible,l=a.getIn(o[r]).getJson(),s=a.getJson(),c=s.elements.filter((function(e){return e.type===it.a.SLIDE})).findIndex((function(e){return e.properties.id===l.properties.id})),u=function(e){var t=e.properties,n=e.elements;if(t.transition.type!==Wo.a.NONE)return!0;for(var a=0;a<n.length;a++){var r=n[a].properties,o=r.buildIn,i=r.buildMid,l=r.buildOut;if(o&&o.type!==Wo.a.NONE||i&&i.type!==Wo.a.NONE||l&&l.type!==Wo.a.NONE)return!0}return!1}(l),d=Object(Qt.a)(e).bmMagicAnimator;return{json:s,selectedSlideJson:l,selectedSlideIndex:c,previewPopinVisible:i,access:d,currentSlideHasTransitions:u}}),(function(e){return{showPreviewPopin:function(){e(Object(Xn.y)())},hidePreviewPopin:function(){e(Object(Xn.g)())},applyNewData:function(t){e(Object(z.d)(t))},onBannerEmpty:function(){e(Object(Vo.h)(U.a.yourBannerIsEmpty,U.a.magicAnimateBannerEmptyPopinMessage))}}}))(Fo),Ko=n(818),Yo=n(2509),Xo=n.n(Yo),Zo=n(1738),Jo=n(1702),Qo=n(1700),$o=n(2510),ei=n.n($o),ti=n(2511),ni=n.n(ti),ai=n(1136),ri=n(692),oi=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ii(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var li=ie.a.bind(ni.a),si=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=ii(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={dropDownVisible:!1},a.getSelectedCount=function(){var e=a.props.selectedItemsList;return l.a.createElement("div",{className:ni.a.selectedSizeCount},e.size)},a.getDropdownButton=function(){var e=a.props,t=e.selectedItemsList,n=e.dropdownButtonTitle;return l.a.createElement("div",{className:li(ni.a.dropdownButton,{disabled:!t.size}),onClick:a.toggleDropdown},l.a.createElement("span",null,n),l.a.createElement("span",{className:ni.a.arrow},ai.a))},a.getDropDownItem=function(e){var t=a.props,n=t.onRemoveItem,r=t.deleteItemTooltipTitle,o=e.title,i=e.description,s=e.variation;return l.a.createElement("div",{className:ni.a.listItem,key:""+o+i+s},l.a.createElement("span",{className:ni.a.leftSide,title:o},o),l.a.createElement("div",{className:ni.a.rightSide},l.a.createElement("span",null,i),l.a.createElement(qe.b,{placement:Ze.a.RIGHT,skin:F.a.WHITE_SHADOW,title:r,noTransparency:!0,boldTitle:!0},l.a.createElement("div",{className:ni.a.removeButton,onClick:function(){n(e)}},ri.a))))},a.getDropdown=function(){var e=a.state.dropDownVisible,t=a.props.selectedItemsList;return e&&t.size?l.a.createElement("div",{className:ni.a.dropdown},l.a.createElement(tn.a,{skin:F.a.TRANSPARENT_WHITE,autoHeightMax:264,autoHide:!1,size:K.a.SMALL},t.map(a.getDropDownItem))):null},a.toggleDropdown=function(){a.setState((function(e){return{dropDownVisible:!e.dropDownVisible}}),(function(){a.state.dropDownVisible?document.addEventListener("mousedown",a.handleClickOutside):document.removeEventListener("mousedown",a.handleClickOutside)}))},a.handleClickOutside=function(e){if(a.componentRef){var t=a.componentRef.current;t&&!t.contains(e.target)&&a.toggleDropdown()}},a.componentRef=l.a.createRef(),ii(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),oi(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){return l.a.createElement("div",{className:ni.a.container,ref:this.componentRef},this.getSelectedCount(),this.getDropdownButton(),this.getDropdown())}}]),t}(i.Component);si.propTypes={selectedItemsList:o.a.instanceOf(le.List),dropdownButtonTitle:o.a.string,deleteItemTooltipTitle:o.a.string,onRemoveItem:o.a.func},si.defaultProps={selectedItemsList:new le.List,dropdownButtonTitle:"Selected",deleteItemTooltipTitle:"Remove item",onRemoveItem:S.a};var ci=si,ui=n(493),di=n(530);function pi(e){var t=e.selectedSizeList,n=e.onSelectedDeselectClick,a=e.onSizeDeselect,r=e.allItemsAreSelected,o=t.map((function(e){var t=e.label,n=e.variation,a=e.measureUnit,r=e.width,o=e.height,i=g.a.PX;return{title:t,description:Object(ui.b)(Object(ui.a)(i,a,r),di.a[a])+" x "+Object(ui.b)(Object(ui.a)(i,a,o),di.a[a])+" "+a,variation:n,measureUnit:a,width:r,height:o}}));return l.a.createElement("div",{className:ei.a.container},l.a.createElement("div",{className:ei.a.leftSide},l.a.createElement(ci,{selectedItemsList:o,dropdownButtonTitle:U.a.selected,deleteItemTooltipTitle:U.a.removeSize,onRemoveItem:function(e){var t=e.width,n=e.height,r=e.variation,o=e.measureUnit;a({width:t,height:n,variation:r,measureUnit:o})}})),l.a.createElement("div",{className:ei.a.rightSide},l.a.createElement(He.a,{skin:F.a.WHITE_UNDERLINED,onClick:n},r?U.a.deselectAll:U.a.selectAll)))}var fi=pi;pi.propTypes={selectedSizeList:o.a.instanceOf(le.List),onSelectedDeselectClick:o.a.func,onSizeDeselect:o.a.func,allItemsAreSelected:o.a.bool},pi.defaultProps={selectedSizeList:new le.List,onSelectedDeselectClick:S.a,onSizeDeselect:S.a,allItemsAreSelected:!1};var hi=n(922),mi=Object(rt.createSelector)([hi.a],(function(e){var t=e.custom,n=e.displayAds,a=e.socialMedia,r=e.documents;return t.concat(n,a,r)})),bi=Object(rt.createSelector)([mi,function(e){return e.bannerCreator.editor.tools.resizePanel.selectedSizes}],(function(e,t){return t.size?e.filter((function(e){var n=e.presetSize,a=n.width,r=n.height,o=n.measureUnit,i=e.variation;return t.find((function(e){return e.width===a&&e.height===r&&e.variation===i&&e.measureUnit===o}))})).map((function(e){var t=e.presetSize,n=e.variation,a=e.label;return{width:t.width,height:t.height,measureUnit:t.measureUnit,variation:n,label:a}})):new le.List})),gi=Object(s.c)((function(e){var t=bi(e),n=mi(e);return{selectedSizeList:t,allItemsAreSelected:t.size+1===n.size}}),(function(e){return{onSelectedDeselectClick:function(){e(Object(Xn.p)())},onSizeDeselect:function(t){e(Object(Xn.q)(t))}}}))(fi),yi=function(e){var t=e.visible,n=e.bannerIsSaving,a=e.onCancelClick,r=e.onSaveClick;if(!t)return null;var o=[l.a.createElement(Lo.a,{key:"cancel",minWidth:"108px",size:K.a.MEDIUM,skin:F.a.ACCENT_GREY,disabled:n,onClick:a},U.a.cancel),l.a.createElement(Lo.a,{key:"saveAndContinue",minWidth:"108px",size:K.a.MEDIUM,skin:F.a.BLUE,readOnly:n,onClick:r},n?l.a.createElement(ze.a,{skin:F.a.WHITE,type:K.a.SMALL}):U.a.saveAndContinue)],s=l.a.createElement(i.Fragment,null,l.a.createElement("div",{style:{marginBottom:"20px",fontWeight:500}},l.a.createElement(W.a,{label:U.a.resizeGenerateUnsavedItemBody1,skin:F.a.GREY})),l.a.createElement("div",null,l.a.createElement(W.a,{label:U.a.resizeGenerateUnsavedItemBody2,skin:F.a.GREY})));return l.a.createElement(q.a,{header:U.a.resizeGenerateUnsavedItemHeader,onClose:a,buttons:o},s)};yi.propTypes={visible:o.a.bool,bannerIsSaving:o.a.bool,onCancelClick:o.a.func,onSaveClick:o.a.func},yi.defaultProps={visible:!1,bannerIsSaving:!1,onCancelClick:function(){},onSaveClick:function(){}};var vi=yi,Ei=Object(s.c)((function(e){var t=e.bannerCreator.editor,n=t.tools;return{bannerIsSaving:t.general.savingState===Ke.a.SAVING,visible:n.resizePanel.unsavedChangesPopinVisible}}),(function(e){return{onCancelClick:function(){e(Object(Xn.h)())},onSaveClick:function(){e(Object(Xn.n)())}}}))(vi),Si=n(1740),Oi=n(446),Ci=n(477),wi=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ki(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ii=ie.a.bind(Xo.a),Li=[{value:1,category:Qo.a.CUSTOM,text:U.a.customSizes},{value:2,category:Qo.a.DISPLAY_ADS,text:U.a.display},{value:3,category:Qo.a.SOCIAL_MEDIA,text:U.a.socialMedia},{value:4,category:Qo.a.DOCUMENTS,text:U.a.print}],Pi=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=ki(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={selectedTab:1},a.onScrollFrame=function(e){a.props.onComponentWillUnmount(e.scrollTop)},a.onTabClick=function(e,t){a.refScrollArea.scrollTop(a.refsCardsContainer[t].offsetTop)},a.onGenerateSetClick=function(){var e,t=a.props,n=t.baseUrl,r=t.hasUnsavedChanges,o=t.showUnsavedChangesPopin,i=t.bannerHash,l=t.selectedSizes,s=t.showBannerEmptyPopin,c=t.bannerIsEmpty,u=t.overlayLayers,d=t.showRemoveOverlayElementsPopin;if(c)s();else if(u.size)d(u);else if(r)o();else{var p=l.map((function(e){return e.width+"x"+e.height+"\n            "+(e.variation?"_"+e.variation:"_")+(e.measureUnit?"_"+e.measureUnit:"")})).toSet().join(",");Ci.a.push({pathname:""+n+I.a.GENERATE+"/",search:Object(Oi.a)("",(e={},Ti(e,L.d.FROM,i),Ti(e,L.d.SIZES,p),e))})}},a.setSelectedTab=function(){for(var e=a.props.scrollTop,t=void 0,n=1;n<Li.length;n++){if(e<a.refsCardsContainer[Li[n].value].offsetTop){t=n;break}t=Li.length}a.setState({selectedTab:t})},a.getSizesCards=function(e){return a.props.sizes[e].map((function(t){var n=e===Qo.a.CUSTOM,r=t.label,o=t.presetSize,i=t.presetSize,s=i.width,c=i.height,u=i.measureUnit,d=t.thumbSize,p=t.selected,f=t.temp,h=t.current,m=t.useTransparentBackground,b=t.variation,y=s+"-"+c+"-"+(b||""),v=g.a.PX,E=Object(ui.b)(Object(ui.a)(v,u,s),di.a[u]),S=Object(ui.b)(Object(ui.a)(v,u,c),di.a[u]);return l.a.createElement("div",{className:Xo.a.preset,key:t.key,ref:function(e){a.refsCardContainer[y]=e}},l.a.createElement(Zo.a,{label:r,size:o,variation:b,isCustom:n,thumbSize:d,selected:p,useSvg:!dt.b,isTemp:f,current:h,measureUnit:u,visualWidth:E,visualHeight:S,useTransparentBackground:m,skin:F.a.WHITE_BORDER,overlaySkin:F.a.TRANSPARENT_DARKER}))}))},a.getSizesCardsContainer=function(){return Li.map((function(e,t){var n=0===t?null:l.a.createElement("div",{className:Xo.a.title},l.a.createElement("span",null,e.text)),r=e.category===Qo.a.CUSTOM?l.a.createElement("div",{className:Ii(Xo.a.preset,Xo.a.customSize),key:"custom-size"},l.a.createElement(Si.a,{mode:Jo.a.ADD_SIZE_ONLY,skinFor:w.a.EDITOR})):null,o=a.getSizesCards(e.category);return l.a.createElement("div",{className:Xo.a.container,key:e.value},n,l.a.createElement("div",{className:Xo.a.cardsContainer,ref:function(t){a.refsCardsContainer[e.value]=t}},r,o))}))},a.refsCardsContainer={},a.refsCardContainer={},ki(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),wi(t,[{key:"componentDidMount",value:function(){this.refScrollArea.scrollTop(this.props.scrollTop),this.setSelectedTab()}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.setSelectedTab()}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedSizes,a=t.smartResize,r=t.toggleSmartResize,o=n.size,i=this.getSizesCardsContainer(),s=Ko.b.div({enter:{y:0,opacity:1,transition:{duration:150}},exit:{y:56,opacity:0,transition:{duration:150}}}),c=o?l.a.createElement(s,{className:Xo.a.bottomContainer,key:"resizePanelBottomContainer"},l.a.createElement(Lo.a,{borderRadius:"4px",skin:F.a.BLUE,size:K.a.LARGE,minWidth:"100%",onClick:this.onGenerateSetClick},U.a.resizePanelGenerateASetButton)):null;return l.a.createElement("div",{className:Ii("resizeContainer",{hasSelectedSizes:o}),"data-qa":v.s},l.a.createElement(Mn,{tool:Tn.a.resize}),l.a.createElement("div",{className:Xo.a.topCheckbox},l.a.createElement(Ne.a,{checked:a,shape:xe.a.ROUNDED_RECTANGLE,onChange:r,skin:F.a.BLUE_WHITE},l.a.createElement("span",{className:Xo.a.label},U.a.scaleLayers))),l.a.createElement(gi,null),l.a.createElement("div",{className:Xo.a.sizeTabs},l.a.createElement(Zt.b,{items:Li,onItemSelect:this.onTabClick,selectedValue:this.state.selectedTab,skin:F.a.TRANSPARENT_WHITE})),l.a.createElement(tn.a,{style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100,autoHide:!1,onScrollFrame:this.onScrollFrame,ref:function(t){e.refScrollArea=t}},i),l.a.createElement(Ko.a,null,c),l.a.createElement(Ei,null))}}]),t}(i.Component);Pi.propTypes={baseUrl:o.a.string.isRequired,bannerHash:o.a.string.isRequired,hasUnsavedChanges:o.a.bool,bannerIsEmpty:o.a.bool,overlayLayers:o.a.instanceOf(le.List),onComponentWillUnmount:o.a.func,scrollTop:o.a.number,selectedSizes:o.a.instanceOf(le.List),showBannerEmptyPopin:o.a.func,showRemoveOverlayElementsPopin:o.a.func,sizes:o.a.shape({custom:o.a.instanceOf(le.List),displayAds:o.a.instanceOf(le.List),socialMedia:o.a.instanceOf(le.List),documents:o.a.instanceOf(le.List)}),showUnsavedChangesPopin:o.a.func,smartResize:o.a.bool,toggleSmartResize:o.a.func},Pi.defaultProps={hasUnsavedChanges:!1,bannerIsEmpty:!1,scrollTop:0,selectedSizes:new le.List,overlayLayers:new le.List,onComponentWillUnmount:S.a,showBannerEmptyPopin:S.a,sizes:{},showUnsavedChangesPopin:S.a,showRemoveOverlayElementsPopin:S.a,smartResize:!0,toggleSmartResize:S.a};var Mi=Pi,Ri=function(e,t,n){var a=n.width,r=n.height,o=n.sizeVariation;return e.reduce((function(e,n){var i=n.presetSize,l=n.variation,s=t.some((function(e){return e.width===i.width&&e.height===i.height&&e.variation===l&&e.measureUnit===i.measureUnit})),c=Math.round(a)===Math.round(i.width)&&Math.round(r)===Math.round(i.height)&&l===o;return e.push(n.merge({selected:s,current:c}))}),new le.List)},xi=Object(rt.createSelector)([hi.a,function(e){return e.bannerCreator.editor.tools.resizePanel.selectedSizes},function(e){return e.bannerCreator.editor.banner.banner}],(function(e,t,n){var a=e.displayAds,r=e.socialMedia,o=e.documents,i=e.custom,l=Ri(a,t,n),s=Ri(r,t,n),c=Ri(o,t,n);return{custom:Ri(i,t,n),displayAds:l,socialMedia:s,documents:c}})),Di=Object(rt.createSelector)([function(e){return e.bannerCreator.editor.banner.banner}],(function(e){var t=e.backgroundColor;if(t.type===pt.a.IMAGE&&t.url)return!1;for(var n=0;n<e.elements.size;n++){var a=e.elements.get(n);if(a.elementType===it.a.LAYER||a.elements.size)return!1}return!0})),ji=n(82),Ni=Object(s.c)((function(e){var t=e.bannerCreator.editor,n=t.tools.resizePanel,a=n.scrollTop,r=n.smartResize,o=t.history.unsavedChanges,i=t.banner,l=i.hash,s=i.banner.status,c=xi(e),u=bi(e),d=Di(e),p=Object(ot.a)(e);return{baseUrl:Object(N.a)(e).url,hasUnsavedChanges:o||"temp"===s,scrollTop:a,sizes:c,selectedSizes:u,bannerHash:l,bannerIsEmpty:d,overlayLayers:p,smartResize:r}}),(function(e){return{onComponentWillUnmount:function(t,n){e(Object(Xn.t)(t,n))},showUnsavedChangesPopin:function(){e(Object(Xn.z)())},showBannerEmptyPopin:function(){e(Object(Vo.h)(ji.b.bannerEmpty,ji.b.bannerEmptyMessage))},showRemoveOverlayElementsPopin:function(t){var n=t.reduce((function(e,t,n){return e+" "+(0===n?":\n":"")+"\n                "+t.layerName}),ji.b.overlayNotSupportedMessage);e(Object(Vo.h)(ji.b.overlayNotSupported,n))},toggleSmartResize:function(){e(Object(Xn.m)())}}}))(Mi),Ai="interface",_i="transform",Bi="edit",Hi={interfaceTab:[{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"C"},title:U.a.copy},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"V"},title:U.a.paste},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"Z"},title:U.a.undoTooltip},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:U.a.shift,thirdKey:"Z"},title:U.a.redoTooltip},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"S"},title:U.a.save},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:U.a.shift,thirdKey:"S"},title:U.a.saveAs},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"+"},title:U.a.zoomIn},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"-"},title:U.a.zoomOut},{command:{firstKeyMac:U.a.spacebar,firstKey:U.a.spacebar,secondKey:U.a.toolsPanelDrag},title:U.a.stagePan},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"0"},title:U.a.zoomOriginalSize},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"*"},title:U.a.zoomFitToStage},{command:{firstKeyMac:U.a.shift,firstKey:U.a.shift,secondKey:"R"},title:U.a.ruler}],transformTab:[{command:{firstKeyMac:U.a.toolsPanelDrag,firstKey:U.a.toolsPanelDrag},title:U.a.move},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:U.a.toolsPanelDrag},title:U.a.moveWithoutSnap},{command:{firstKeyMac:U.a.toolsPanelArrowKeys,firstKey:U.a.toolsPanelArrowKeys},title:U.a.moveByPx},{command:{firstKeyMac:U.a.shift,firstKey:U.a.shift,secondKey:U.a.toolsPanelArrowKeys},title:U.a.MoveByTenPx},{command:{firstKeyMac:U.a.toolsPanelDrag,firstKey:U.a.toolsPanelDrag,secondKey:U.a.toolsPanelCornerHandle},title:U.a.scale},{command:{firstKeyMac:U.a.shift,firstKey:U.a.shift,secondKey:U.a.scale},title:U.a.freeScale},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"G"},title:U.a.groupInspectorTooltip},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:U.a.shift,thirdKey:"G"},title:U.a.ungroupInspectorTooltip},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"A"},title:U.a.selectAll}],editTab:[{command:{firstKeyMac:"F",firstKey:"F"},title:U.a.fill},{command:{firstKeyMac:"T",firstKey:"T"},title:U.a.textInspectorTooltip},{command:{firstKeyMac:"B",firstKey:"B"},title:U.a.border},{command:{firstKeyMac:"L",firstKey:"L"},title:U.a.layersInspectorTooltip},{command:{firstKeyMac:"A",firstKey:"A"},title:U.a.actions},{command:{firstKeyMac:"S",firstKey:"S"},title:U.a.transitions},{command:{firstKeyMac:U.a.toolsPanelCommand,firstKey:U.a.toolsPanelCtrl,secondKey:"D"},title:U.a.duplicate},{command:{firstKeyMac:U.a.backspace,firstKey:U.a.backspace,secondKey:U.a.deleteInspectorTooltip,or:U.a.toolsPanelOr},title:U.a.deleteInspectorTooltip}]},Ui=n(2512),zi=n.n(Ui),Gi=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Fi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Wi=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Fi(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={selectedValue:a.props.selectedValue,selectedItem:a.props.selectedItem},a.changeTab=function(e,t){a.setState({selectedItem:e,selectedValue:t})},Fi(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Gi(t,[{key:"commandText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"+";return t?l.a.createElement("div",{className:zi.a.commandBackground},l.a.createElement("div",{className:zi.a.command},e)):l.a.createElement(i.Fragment,null,l.a.createElement("div",{className:zi.a.plus},n),l.a.createElement("div",{className:zi.a.commandBackground},l.a.createElement("div",{className:zi.a.command},e)))}},{key:"render",value:function(){var e=this,t=[{text:U.a.interface,value:Ai},{text:U.a.transform,value:_i},{text:U.a.edit,value:Bi}],n=l.a.createElement(Zt.b,{items:t,selectedTab:this.state.selectedItem,selectedValue:this.state.selectedValue,onItemSelect:this.changeTab}),a=void 0;switch(this.state.selectedValue){case Ai:a=Hi.interfaceTab.map((function(t){var n={fontSize:t.fontSize,fontWeight:t.fontWeight},a=navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)?e.commandText(t.command.firstKeyMac,!0):e.commandText(t.command.firstKey,!0),r=t.command.secondKey?e.commandText(t.command.secondKey,!1):null,o=t.command.thirdKey?e.commandText(t.command.thirdKey,!1):null;return l.a.createElement("div",{key:t.title,className:zi.a.shortcutDetails},l.a.createElement("div",{className:zi.a.shortcut,style:n},t.title),a,r,o)}));break;case _i:a=Hi.transformTab.map((function(t){var n={fontSize:t.fontSize,fontWeight:t.fontWeight},a=navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)?e.commandText(t.command.firstKeyMac,!0):e.commandText(t.command.firstKey,!0),r=t.command.secondKey?e.commandText(t.command.secondKey,!1):null,o=t.command.thirdKey?e.commandText(t.command.thirdKey,!1):null;return l.a.createElement("div",{key:t.title,className:zi.a.shortcutDetails},l.a.createElement("div",{className:zi.a.shortcut,style:n},t.title),a,r,o)}));break;case Bi:a=Hi.editTab.map((function(t){var n={fontSize:t.fontSize,fontWeight:t.fontWeight},a=navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)?e.commandText(t.command.firstKeyMac,!0):e.commandText(t.command.firstKey,!0),r=t.command.secondKey?e.commandText(t.command.secondKey,!1,t.command.or||"+"):null,o=t.command.thirdKey?e.commandText(t.command.thirdKey,!1):null;return l.a.createElement("div",{key:t.title,className:zi.a.shortcutDetails},l.a.createElement("div",{className:zi.a.shortcut,style:n},t.title),a,r,o)}))}return l.a.createElement("div",{className:zi.a.shortcutsList},l.a.createElement(Mn,{tool:Tn.a.shortcuts}),n,l.a.createElement("div",{className:zi.a.shortcuts},a))}}]),t}(i.Component);Wi.propTypes={selectedItem:o.a.number,selectedValue:o.a.string},Wi.defaultProps={selectedItem:1,selectedValue:Ai};var Vi=Wi,qi=Object(s.c)((function(){return{selectedValue:Ai,selectedItem:1}}),null)(Vi),Ki=n(482),Yi=n(479),Xi=n(455),Zi=n(2513),Ji=n.n(Zi),Qi=n(1465),$i=n(511),el=n(1400),tl=n(1483),nl=n(1482),al=n(1388),rl=n(798),ol=n(575),il=n(1390),ll=ie.a.bind(Ji.a),sl=-352,cl=42,ul=function(e){var t=e.selectedElementsPanelItem,n=e.onElementClick,a=e.onLoad,r=e.elementsPanelItems,o=e.searchValue,s=e.allFilteredElements,c=e.searchElements,u=e.requestingImages;function d(){c(o)}Object(i.useEffect)(a,[]);var p,f,h=r.map((function(e){var a=t===e.key,r=a?0:"346px",o=il.a.includes(t)?l.a.createElement("div",{className:Ji.a.searchSectionContainer},l.a.createElement(rl.a,null)):null,s=a?l.a.createElement(i.Fragment,null,l.a.createElement(al.a,{background:e.background,label:e.label,onBackClick:function(){n(null)}}),o,function(e){var t=$i.a.MY_UPLOADS,n=$i.a.STOCK_PHOTOS,a=$i.a.LOGOS,r=$i.a.SHAPES,o=$i.a.ICONS,i=$i.a.ILLUSTRATIONS,s=$i.a.WIDGETS,c=$i.a.RECENTLY_USED,u=$i.a.FAVORITES,d=void 0;switch(e.key){case n:d=l.a.createElement(wa.a,null);break;case t:d=l.a.createElement(Ua.a,null);break;case a:case r:case o:case i:d=l.a.createElement(Qi.a,{tabKey:e.key});break;case c:d=l.a.createElement(tl.a,null);break;case u:d=l.a.createElement(nl.a,null);break;case s:d=l.a.createElement(el.a,null)}return d}(e)):null;return l.a.createElement("section",{key:e.key,className:ll(Ji.a.elementSection,{visible:a}),style:{transform:"translateX("+r+")"}},s)}));return l.a.createElement("div",null,(p=t?sl+"px":0,f=void 0,f=o?l.a.createElement("div",{style:{minHeight:"calc(100% - "+cl+"px)",height:"calc(100% - "+cl+"px)"},className:Ji.a.searchResultsContainer},l.a.createElement(ol.a,{items:s,columns:3,infiniteScroll:!0,handleInfiniteScroll:d,loading:u,searchValue:o,itemsHeight:"100%"})):l.a.createElement(tn.a,{style:{minHeight:"calc(100% - "+cl+"px)",height:"calc(100% - "+cl+"px)"},autoHeight:!1,autoHeightMax:100,autoHide:!1},l.a.createElement("div",{className:Ji.a.elementsPanel},r.map((function(e){var t=e.key,a=e.icon,r=e.label,o=e.background,s=e.separatorAfter?l.a.createElement("hr",{key:"separator",className:Ji.a.separator}):null;return l.a.createElement(i.Fragment,{key:"fragment-"+t},l.a.createElement("div",{key:t,className:Ji.a.element,onClick:function(){return n(t)}},l.a.createElement("div",{style:{backgroundColor:o},className:Ji.a.elementIcon},a),l.a.createElement("div",{className:Ji.a.elementLabel},r)),s)})))),l.a.createElement("div",{className:ll(Ji.a.elementsPanelContainer,{visible:!t}),style:{transform:"translateX("+p+")"}},l.a.createElement(Mn,{tool:Tn.a.elements}),l.a.createElement("div",{className:Ji.a.searchContainer},l.a.createElement(rl.a,null)),f)),h)};ul.propTypes={onLoad:o.a.func,onElementClick:o.a.func,elementsPanelItems:o.a.instanceOf(le.List),selectedElementsPanelItem:o.a.string,searchValue:o.a.string,allFilteredElements:o.a.instanceOf(le.List),searchElements:o.a.func,requestingImages:o.a.bool.isRequired},ul.defaultProps={onLoad:S.a,onElementClick:S.a,elementsPanelItems:new le.List,selectedElementsPanelItem:null,searchValue:"",allFilteredElements:new le.List,searchElements:S.a};var dl=ul,pl=n(879),fl=n(1145),hl=n(878),ml=n(1586),bl=n(564),gl=Object(rt.createSelector)([function(e){return Object(fl.a)(e)},function(e){return Object(pl.a)(e)},function(e){return e.bannerCreator.contentLibrary.stockPhotos},function(e){return Object(hl.a)(e)},function(e){return e.bannerCreator.contentLibrary.search}],(function(e,t,n,a,r){var o=!(n.adstock.requesting||n.pexels.requesting||n.pixabay.requesting||n.unsplash.requesting),i=r.page,l=r.filter,s=l===bl.a.PHOTOS||l===bl.a.ALL,c=!(n.adstock.page&&n.pexels.page&&n.pixabay.page&&n.unsplash.page);if(!i||s&&c)return new le.List;var u=i;u>1&&(u=o?u:u-1);var d=new le.List,p=u*ml.a,f=new le.List,h=new le.List,m=new le.List;s&&(f=t.splice(p),h=a.splice(p)),l!==bl.a.ILLUSTRATIONS&&l!==bl.a.ALL||(m=e.splice(p));for(var b=0;b<p;b++)m.get(b)&&(d=d.push(m.get(b))),h.get(b)&&(d=d.push(h.get(b))),f.get(b)&&(d=d.push(f.get(b)));return d})),yl=n(1146),vl=Object(s.c)((function(e){var t=e.bannerCreator.contentLibrary;return{elementsPanelItems:t.elementsPanelItems,selectedElementsPanelItem:t.selectedElementsPanelItem,searchValue:t.search.value,allFilteredElements:gl(e),requestingImages:Object(yl.a)(e)}}),(function(e){return{onLoad:function(){e(Object(Yi.c)()),e(Object(Xi.h)())},searchElements:function(t){e(Object(Yi.h)(t,!0))},onElementClick:function(t){e(Object(Yi.j)(t))}}}))(dl),El=n(1735),Sl=n(1466),Ol=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Cl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wl=ie.a.bind(In.a);var Tl=function(e){var t=e.visible,n=e.selectedTool,a=e.onCloseHandler,r=e.backgroundBlink,o=e.selectedElementsPanelItem,s=Object(i.useState)([]),c=Ol(s,2),u=c[0],d=c[1];Object(i.useEffect)((function(){Object(Ar.a)("Open Sans",[800,700,600,400],Ki.a.GOOGLE)})),Object(i.useEffect)((function(){u.includes(n)||d([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(u),[n]))}),[u,n]);var p=El.a.findIndex((function(e){return e.name===n})),f=El.a.map((function(e,t){var a,r=n===e.name,s=t>p?1:-1,c=r||u.includes(e.name)?l.a.createElement(i.Fragment,null,l.a.createElement("div",{className:wl(In.a.toolPanelContent,(a={},Cl(a,o,!!o&&n===Tn.a.elements),Cl(a,n,!!n),a))},function(e){var t=null;switch(e){case Tn.a.templates:t=l.a.createElement(Vn,null);break;case Tn.a.background:t=l.a.createElement(Tr,null);break;case Tn.a.text:t=l.a.createElement(io,null);break;case Tn.a.elements:t=l.a.createElement(vl,null);break;case Tn.a.button:t=l.a.createElement(Oo,null);break;case Tn.a.animator:t=l.a.createElement(qo,null);break;case Tn.a.resize:t=l.a.createElement(Ni,null);break;case Tn.a.shortcuts:t=l.a.createElement(qi,null);break;case Tn.a.feed:t=l.a.createElement(Sl.a,null)}return t}(e.name))):null;return l.a.createElement("section",{key:e.name,"data-qa":""+v.y+Object(fe.b)(e.name),className:wl("panelSection",{visible:r}),style:{transform:"translateY("+(r?0:20*s+"px")+")"}},c)}));return l.a.createElement("div",{className:wl("toolPanel",{toolPanelVisible:t,backgroundBlink:r}),"data-qa":v.y},f,l.a.createElement("div",{className:In.a.toolPanelCloseButton,onClick:a},ca.a.arrowLeft))};Tl.propTypes={onCloseHandler:o.a.func.isRequired,selectedTool:o.a.oneOf([Tn.a.background,Tn.a.button,Tn.a.elements,Tn.a.templates,Tn.a.text,Tn.a.animator,Tn.a.resize,Tn.a.shortcuts,Tn.a.feed]),visible:o.a.bool,backgroundBlink:o.a.bool,selectedElementsPanelItem:o.a.string},Tl.defaultProps={selectedTool:Tn.a.templates,visible:!0,backgroundBlink:!1,selectedElementsPanelItem:null};var kl=Tl,Il=n(2514),Ll=n.n(Il),Pl=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ml=ie.a.bind(Ll.a),Rl=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Pl(t,[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.badgeNew,a=e.icon,r=e.iconName,o=e.onClickHandler,i=n?l.a.createElement("div",{className:Ll.a.badge},l.a.createElement(Je.a,{skin:F.a.ORANGE,size:K.a.XSMALL,text:U.a.new.toUpperCase()})):null;return l.a.createElement("div",{className:Ml("toolBarIconButton",{selected:t}),onClick:o},l.a.createElement("div",{className:Ll.a.icon},a),l.a.createElement("div",{className:Ll.a.iconName},r),i)}}]),t}(i.Component);Rl.propTypes={selected:o.a.bool,badgeNew:o.a.bool,icon:o.a.node.isRequired,iconName:o.a.string.isRequired,onClickHandler:o.a.func.isRequired},Rl.defaultProps={selected:!1,badgeNew:!1};var xl=Rl,Dl=n(2515),jl=n.n(Dl),Nl=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Al(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _l=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Al(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={toolbarHeight:0},a.setToolbarHeight=function(){a.toolBarRef&&a.setState({toolbarHeight:a.toolBarRef.clientHeight})},Al(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Nl(t,[{key:"componentDidMount",value:function(){this.setToolbarHeight(),window.addEventListener("resize",this.setToolbarHeight)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setToolbarHeight)}},{key:"onItemClick",value:function(e,t){this.props.onTabSelect(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedTab,a=t.isPanelVisible,r=t.toolBarItems,o=r.filter((function(e){return e.bottom})).reverse(),i=r.map((function(t,i){var s=t.name,c=void 0,u=void 0;if(t.bottom){c=jl.a.bottomTab,u={bottom:56*o.findIndex((function(e){return e.name===s}))+"px"}}else{var d=r.get(i+1);d&&d.bottom&&(u={marginBottom:56*o.size})}return l.a.createElement("div",{key:s,className:c,style:u},l.a.createElement("div",null,l.a.createElement(xl,{width:"56px",height:"56px",onClickHandler:function(){return e.onItemClick(i,s)},ref:"item"+i,icon:t.icon,iconName:t.text,skin:F.a.WHITE,iconSize:K.a.LARGE,selected:i===n&&a,badgeNew:t.new})))})),s=void 0,c=o.findIndex((function(e){return e.name===r.get(n).name}));s=c>-1?this.state.toolbarHeight-56*(c+1):56*n;var u=a?l.a.createElement("div",{className:jl.a.selectedTab,style:{transform:"translateY("+s+"px)"}}):null;return l.a.createElement("div",{className:jl.a.toolBar,ref:function(t){e.toolBarRef=t},"data-qa":v.x},u,i)}}]),t}(i.Component);_l.propTypes={onTabSelect:o.a.func.isRequired,isPanelVisible:o.a.bool,toolBarItems:o.a.instanceOf(le.List).isRequired,selectedTab:o.a.number},_l.defaultProps={isPanelVisible:!0,selectedTab:0};var Bl=_l,Hl=n(2516),Ul=n.n(Hl),zl=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Gl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Fl=ie.a.bind(Ul.a),Wl=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Gl(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.initToolsList=function(){var e=a.props,t=e.bannerLoaded,n=e.bannerStatus,r=e.onTabChange,o=e.isCustomSize,i=e.toolsList;if(t)if("temp"===n&&o)r(i.findIndex((function(e){return e.name===Tn.a.background})));else if("temp"===n&&!o){var l=i.findIndex((function(e){return e.name===Tn.a.templates}));i.get(l).locked||r(l)}},Gl(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),zl(t,[{key:"componentDidMount",value:function(){this.props.bannerHash&&this.initToolsList()}},{key:"componentDidUpdate",value:function(e){var t=this.props.bannerHash;e.bannerHash!==t&&this.initToolsList()}},{key:"render",value:function(){var e=this.props,t=e.bannerLoaded,n=e.onToggleToolPanel,a=e.selectedTab,r=e.onTabChange,o=e.toolPanelVisibility,i=e.toolsList,s=e.backgroundBlink,c=e.selectedElementsPanelItem;return t?l.a.createElement("div",{className:Fl("tools",{collapsed:!o})},l.a.createElement(Bl,{onTabSelect:r,selectedTab:a,toolBarItems:i,isPanelVisible:o}),l.a.createElement(kl,{visible:o,onCloseHandler:n,selectedTool:i.get(a).name,backgroundBlink:s,selectedElementsPanelItem:c})):null}}]),t}(i.Component);Wl.propTypes={bannerHash:o.a.string,bannerLoaded:o.a.bool,backgroundBlink:o.a.bool,bannerStatus:o.a.string,isCustomSize:o.a.bool,selectedTab:o.a.number,onTabChange:o.a.func,onToggleToolPanel:o.a.func,toolPanelVisibility:o.a.bool,toolsList:o.a.instanceOf(le.List).isRequired,selectedElementsPanelItem:o.a.string},Wl.defaultProps={bannerHash:"",bannerLoaded:!1,backgroundBlink:!1,bannerStatus:null,isCustomSize:!1,selectedTab:0,onTabChange:function(){},onToggleToolPanel:function(){},toolPanelVisibility:!1,selectedElementsPanelItem:null};var Vl=Wl,ql=n(1155),Kl=function(e){return e.bannerCreator.editor},Yl=Object(rt.createSelector)([ql.a,Qt.a,Gn.a,function(e){return Kl(e).tools.selectedTab},function(e){return Kl(e).tools.panelCollapsed},function(e){return Kl(e).banner.hash},function(e){return Kl(e).banner.banner.status},function(e){return Kl(e).banner.bannerLoaded},function(e){return Kl(e).tools.backgroundBlink},function(e){return e.bannerCreator.contentLibrary.selectedElementsPanelItem}],(function(e,t,n,a,r,o,i,l,s,c){var u=a;return null===u&&(u=n||"temp"!==i?1:0),{bannerHash:o,bannerLoaded:l,bannerStatus:i,isCustomSize:n,toolPanelVisibility:!r,selectedTab:u,toolsList:e,featuresAccess:t,backgroundBlink:s,selectedElementsPanelItem:c}})),Xl=Object(s.c)(Yl,(function(e){return{onToggleToolPanel:function(){e(Object(Xn.B)())},onTabChange:function(t,n){e(Object(Xn.u)(t,n))}}}))(Vl),Zl=n(1421),Jl=n(717),Ql=function(e){return{type:Jl.i,payload:{adBanner:e}}},$l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var es=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.keyHandler=function(e){var t=e.ctrlKey||e.metaKey,a=n.props,r=a.appMode,o=a.bannerStatus,i=a.myMainWorkspaceSelected,l=a.folderId,s=a.saveBannerClick,c=a.onShowSavePopin,u=a.onSaveBanner,d=a.cropMode,p=e.which,f=r===w.a.GENERATOR;if(t&&p===y.a.s&&!f&&!d){if("temp"===o){var h={ctrls:!0};i&&(h.folderId=l||null),c(h)}else e.shiftKey?s():u();e.preventDefault()}},n.animationTimeline=new a.TimelineLite({immediateRender:!1,smoothChildTiming:!0}),n.refTools=l.a.createRef(),n.refStage=l.a.createRef(),n.refSlides=l.a.createRef(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.appMode,n=e.getUserCustomFonts,a=e.hashToLoad,r=e.newBanner,o=e.unsavedChanges,i=e.getGoogleFonts,l=e.resetStockPhotosState,s=e.loadBannerJson;if(window.onbeforeunload=o?function(){return!0}:null,window.addEventListener("keydown",this.keyHandler),l(),n(),i(),t!==w.a.GENERATOR){var c=Object(E.a)("hash"),u=Object(E.a)("new"),d=Object(E.a)("from"),p=L.d.MEASURE_UNIT,f=L.d.WIDTH,h=L.d.HEIGHT,m=L.d.SIZE_VARIATION;a?s(c):u?r(null,Object(E.a)(f),Object(E.a)(h),null,Object(E.a)(p),Object(E.a)(m)):d&&r(d,null,null,"1"===Object(E.a)("live"),Object(E.a)(L.d.MEASURE_UNIT),Object(E.a)(m))}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.hashToLoad,a=t.appMode,r=t.loadBannerJson,o=t.bannerLoaded,i=t.unsavedChanges,l=t.hash,s=t.isInTeam,c=t.showErrorPopin,u=t.deleteRecovery;e.hashToLoad!==n&&n&&(e.hash&&e.withRecovery&&u(e.hash).catch(S.a),r(n)),e.bannerLoaded!==o&&o&&(s&&a===w.a.EDITOR&&l&&!this.intervalEditStatus&&(this.intervalEditStatus=setInterval((function(){h(l,!0,c)}),3e4),h(l,!0,c)),this.animateEditor()),window.onbeforeunload=i?function(){return!0}:null}},{key:"componentWillUnmount",value:function(){this.animationTimeline&&this.animationTimeline.kill();var e=this.props,t=e.appMode,n=e.isInTeam,a=e.hash,r=e.leaveEditor,o=e.withRecovery,i=e.deleteRecovery;window.onbeforeunload=null,window.removeEventListener("keydown",this.keyHandler),this.intervalEditStatus&&clearInterval(this.intervalEditStatus),t!==w.a.GENERATOR&&(r(),n&&setTimeout((function(){return h(a,!1)}),3e4),a&&o&&i(a).catch(S.a))}},{key:"animateEditor",value:function(){var e=this.refTools.current,t=this.refStage.current,n=this.refSlides.current;if(e&&t&&n){var a="Power3.easeOut",r=e.offsetWidth,o=n.offsetWidth;this.animationTimeline.from(e,.6,{transform:"translateX(-"+r+"px)",ease:a}).from(n,.5,{opacity:0,transform:"translateX("+o+"px)",ease:a,delay:"-0.4"}).from(t,.3,{opacity:0,delay:"-0.3",ease:a}).delay(.6),window.animationTimeline=this.animationTimeline}}},{key:"render",value:function(){var e=this.props,t=e.appMode,n=e.bannerLoaded,a=e.unsavedChanges;return t===w.a.GENERATOR?[l.a.createElement(Tt.a,{key:"stageContainer"}),l.a.createElement(kt.a,{key:"previewContainer"})]:n?l.a.createElement(m.a,{className:C.a.appError},l.a.createElement("table",{id:"editorContainer",className:C.a.editorTable},l.a.createElement("tbody",null,l.a.createElement("tr",{className:C.a.editor,"data-qa":v.p},l.a.createElement("td",null,l.a.createElement("div",{style:{height:"100%"},ref:this.refTools},l.a.createElement(m.a,{className:C.a.errorSideBar,vertical:!0},l.a.createElement(Xl,null)))),l.a.createElement("td",null,l.a.createElement("div",{style:{height:"100%"},ref:this.refStage},l.a.createElement(m.a,{className:C.a.errorStage,vertical:!0},l.a.createElement(Tt.a,null))),l.a.createElement(kt.a,null),l.a.createElement(Ct,null),l.a.createElement(Pe,null),l.a.createElement(re,null),l.a.createElement(ke,null),l.a.createElement(D.a,null),l.a.createElement(M.a,null),l.a.createElement(j.a,null),l.a.createElement(P.a,null),l.a.createElement(c.a,{when:a,message:U.a.unsavedChangesLost})),l.a.createElement("td",null,l.a.createElement("div",{style:{height:"100%"},ref:this.refSlides},l.a.createElement(m.a,{className:C.a.errorSlidesAndLayers,vertical:!0},l.a.createElement(wt.a,null)))))))):null}}]),t}(i.Component);es.propTypes={isInTeam:o.a.bool.isRequired,unsavedChanges:o.a.bool,appMode:o.a.oneOf(Object.values(w.a)).isRequired,hash:o.a.oneOfType([o.a.string,o.a.number]),hashToLoad:o.a.string,bannerLoaded:o.a.bool.isRequired,resetStockPhotosState:o.a.func.isRequired,getUserCustomFonts:o.a.func.isRequired,showErrorPopin:o.a.func.isRequired,loadBannerJson:o.a.func.isRequired,newBanner:o.a.func.isRequired,bannerStatus:o.a.string,myMainWorkspaceSelected:o.a.bool,folderId:o.a.number,saveBannerClick:o.a.func,onShowSavePopin:o.a.func,onSaveBanner:o.a.func,leaveEditor:o.a.func.isRequired,cropMode:o.a.bool,getGoogleFonts:o.a.func,withRecovery:o.a.bool,deleteRecovery:o.a.func},es.defaultProps={unsavedChanges:!1,hash:null,hashToLoad:null,bannerStatus:null,myMainWorkspaceSelected:!0,folderId:null,saveBannerClick:S.a,onShowSavePopin:S.a,onSaveBanner:S.a,cropMode:!1,getGoogleFonts:S.a,withRecovery:!1,deleteRecovery:S.a};var ts={width:10,height:10},ns={width:3e3,height:3e3};t.default=Object(s.c)((function(e){var t=e.bannerCreator,n=t.user.data.isInTeam,a=t.editor,r=a.banner,o=r.hash,i=r.hashToLoad,l=r.bannerLoaded,s=r.banner,c=a.history,u=c.unsavedChanges,d=c.lastRecoveryDate,p=a.stage.cropElementId,f=t.generator,h=f.save.savingState,m=f.history.unsavedChanges,g=t.myBanners.filters.folderId,y=Object(A.a)(e),v=Object(B.a)(e),E=v===w.a.GENERATOR?m&&h!==b.a.SAVED:u,S=null;return s&&(S=s.status),{unsavedChanges:E,isInTeam:n,appMode:v,bannerLoaded:l,hash:o,hashToLoad:i,bannerStatus:S,myMainWorkspaceSelected:y,folderId:g,cropMode:!!p,withRecovery:!!d}}),(function(e){return{resetStockPhotosState:function(){e(Object(Yi.g)())},loadBannerJson:function(t){return e(function(){var n=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(r,o){try{var i=t[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))}}(regeneratorRuntime.mark((function n(a,r){var o,i,l,s,c,d,p,f,h,m,b;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=Object(N.a)(r()),i=o.url,n.prev=1,n.next=4,Object(R.a)({hash:t},{json:!0,progressStatus:{status:!0},workspaceId:!0,jsonRecovery:!0,adBanner:{schemaId:!0,sampleDataId:!0,sampleDataRow:!0}});case 4:l=n.sent,s=l.json,c=l.progressStatus,d=l.workspaceId,p=l.jsonRecovery,f=l.adBanner,h=c?c.status:T.a.UNMARKED,e(Object(z.w)(s,null,h,d)),p&&e(Object(z.w)(p,null,h,d,!0)),f&&e(Ql(f)),n.next=25;break;case 16:if(n.prev=16,n.t0=n.catch(1),(m=new u.a(n.t0)).code!==k.a.BANNER_IN_USE){n.next=22;break}return e(Object(_.g)(m.message,m.code,{onCloseRedirectTo:""+i+I.a.MY_BANNERS})),n.abrupt("return");case 22:b=""+i+I.a.CREATE_NEW,setTimeout((function(){e(Object(_.c)()),H.c.push(b)}),5e3),e(Object(_.g)(n.t0.res,n.t0.code,{onCloseRedirectTo:b}));case 25:case"end":return n.stop()}}),n,void 0,[[1,16]])})));return function(e,t){return n.apply(this,arguments)}}())},newBanner:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:g.a.PX,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=Math.max(ts.width,Math.min(ns.width,n)),s=Math.max(ts.height,Math.min(ns.height,a));e(Object(_.b)(t,l,s,r,o,i))},getUserCustomFonts:function(){e(Object(x.e)(!0,!0))},getGoogleFonts:function(){e(Object(x.k)())},showErrorPopin:function(t,n){e(Object(_.g)(t,n))},saveBannerClick:function(){e(Object(G.e)("saveAsNewButton"))},onShowSavePopin:function(t){e(Object(G.i)(t))},onSaveBanner:function(){e(Object(G.g)(null,{ctrls:!0}))},leaveEditor:function(){e(Object(G.d)())},deleteRecovery:Zl.a}}))(es)},448:function(e,t,n){"use strict";var a=n(65),r=n(474),o=Object(a.createSelector)([r.a,function(e){return e.bannerCreator.editor.banner.selectedSlideId}],(function(e,t){return e.find((function(e){return e.id===t})).duration}));t.a=o},476:function(e,t,n){"use strict";var a=n(65),r=n(433),o=n(56),i=n(7),l=Object(a.createSelector)([r.a],(function(e){return e===o.a.GENERATOR?i.a.LIGHT_GREY:i.a.DARK_BLUE}));t.a=l},492:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(65),r=n(474),o=function(e){return Object(r.b)(e.elements)},i=Object(a.createSelector)([function(e){return e.bannerCreator.generator.jsons.current.first().banner}],o);t.a=i},504:function(e,t,n){"use strict";n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"m",(function(){return y})),n.d(t,"o",(function(){return v})),n.d(t,"f",(function(){return E})),n.d(t,"j",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"l",(function(){return w})),n.d(t,"a",(function(){return T}));var a=n(439),r=n(539),o=n(437),i=n(391),l=n(875),s=n(799),c=n(484),u=function(e){return{type:a.bb,payload:{activeTab:e}}},d=function(e){return{type:a.ab,payload:{activeElement:e}}},p=function(){return function(e,t){var n=t(),r=n.bannerCreator.generator,o=r.slides.selectedSlideIndex,i=r.sidebar.replacingElement.layerType,s=r.bulkEditor.selectedElement,c=Object(l.a)(n).element;e({type:a.e,payload:{selectedSlideIndex:o,bannersetElementId:s,replacingElementLayerType:i,element:c}})}},f=function(){return{type:a.f}},h=function(){return function(e,t){var n=t().bannerCreator.generator,r=n.bulkEditor.selectedElement,l=n.sidebar.replacingElement;l.bannersetElementId||r===i.a?e(function(e,t){return function(n,a){var r=a().bannerCreator.generator.slides.selectedSlideIndex,l=e.layerType,s=e.svgContent;if(t===i.a)n(Object(o.d)(e,!0));else if(l===i.b.IMAGE||l===i.b.SVG)if(s){var c={svgContent:s,originalWidth:e.originalWidth,originalHeight:e.originalHeight,colorGroups:e.colorGroups};n(Object(o.f)(e,c,r))}else n(Object(o.e)(t,e,!0));else if(l===i.b.SHAPE||l===i.b.EMBED)n(Object(o.c)(t,e,!0));else if(l===i.b.BUTTON){var u=e.toJS(),d=u.labelSettings,p=d.buttonLabel,h=d.fontFamily,m=d.fontWeight,b=d.color,g=d.letterSpacing,y=d.labelShadow,v=d.fontDesign,E=d.fontStyle,S=u.styleSettings,O=S.backgroundColor,C={border:S.border,backgroundColor:O,buttonLabel:p,labelStyle:{color:b,fontFamily:h,fontWeight:m,letterSpacing:g,fontDesign:v,fontStyle:E},labelShadow:y,dropShadow:S.dropShadow};n(Object(o.t)(t,C,null,!0))}n(f())}}(l,r)):e({type:a.R})}},m=function(e){return{type:a.vb,payload:{tab:e}}},b=function(){return{type:a.H}},g=function(e,t){return{type:a.ib,payload:{selectedSlideIndex:e,props:t}}},y=function(e){return{type:a.wb,payload:{dragging:e}}},v=function(){return function(e,t){var n=t().bannerCreator.generator,o=n.bulkEditor.selectedElement,i=n.slides.selectedSlideIndex,l=Object(r.a)(t());e({type:a.Gb,payload:{selectedLayerElementId:o,selectedSlideIndex:i,setJsonSelectedElementProps:l}})}},E=function(){return function(e,t){var n=t().bannerCreator.generator,r=n.bulkEditor.selectedElement,o=n.slides.selectedSlideIndex;e({type:a.v,payload:{selectedLayerElementId:r,selectedSlideIndex:o}})}},S=function(e){return{type:a.cb,payload:e}},O=function(e,t){return{type:a.qb,payload:{panelToOpen:e,props:t}}},C=function(e){return function(t,n){var a=n(),o=a.bannerCreator.generator.jsons.bannersetJson.backgroundColor,l=Object(s.a)(a),c=Object(r.a)(a),u=null,d=null,p=null,f=null,h=null,m=null,b=null;if(l===i.a)u=o.url,d=o.hqUrl,f=o.originalWidth,h=o.originalHeight,m=o.type;else{p=c.layerType,b=c.bannersetElementId;var g=c.backgroundColor||c;u=g.url,d=g.hqUrl,m=g.type,f=g.originalWidth,h=g.originalHeight}t(O(e,{url:u,hqUrl:d,backgroundType:m,layerType:p,originalWidth:f,originalHeight:h,bannersetElementId:b}))}},w=function(){return function(e,t){var n=t(),a=Object(r.a)(n),o=a.elementCategory,i=a.bannersetElementId,s=a.layerType,c=a.colorGroups,u=Object(l.a)(n),d=u.svgContent,p=u.element,f=p.originalWidth,h=p.originalHeight;e(O(o,{bannersetElementId:i,elementCategory:o,layerType:s,svgContent:d,originalWidth:f,originalHeight:h,colorGroups:c}))}},T=function(){return function(e,t){var n=Object(r.a)(t()),a={bannersetElementId:n.bannersetElementId,layerType:n.layerType,labelSettings:n.labelSettings,styleSettings:n.styleSettings};e(O(c.a.BUTTON,a))}}},512:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(566),r=n(552),o=n(391),i=n(793),l=n(56),s=function(e,t,n){return t!==l.a.GENERATOR&&t!==l.a.GENERATE&&(!(n&&void 0!==n.bmMultipleSlides&&"no"===n.bmMultipleSlides)&&a.a.layers[e].indexOf("showOnAllSlides")>-1)},c=function(e,t){switch(e){case o.b.SVG:case o.b.IMAGE:return t!==l.a.GENERATOR&&t!==l.a.GENERATE;default:return!0}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayType;switch(e){case r.a.iconNames.text:return t.lang===i.a.BR?210:200;case r.a.iconNames.color:if(n===o.b.SVG)return 210;if(n===o.b.SHAPE||n===o.b.EMBED){var a=new Set([i.a.RO,i.a.HU,i.a.JA,i.a.IT,i.a.ES,i.a.BR]);return a.has(t.lang)?255:200}return 200;case r.a.iconNames.transition:return 230;case r.a.iconNames.action:case r.a.iconNames.layers:case r.a.iconNames.settings:case r.a.iconNames.border:default:return 200}}},513:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"l",(function(){return i})),n.d(t,"n",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return y}));var a=n(430),r=n(1234),o=function(e){return{type:a.Ub,payload:{height:e}}},i=function(e,t){return{type:a.Wb,payload:{width:e,mode:t}}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:a.Fc,payload:{onMouseMove:e}}},s=function(e){return{type:a.Vb,payload:{scrollProps:e}}},c=function(e,t){return{type:a.yb,payload:{buildType:e,elementId:t}}},u=function(){return{type:a.L}},d=function(){return{type:a.s}},p=function(){return{type:a.W}},f=function(){return{type:a.yc}},h=function(e,t){return function(n,o){var i=Object(r.a)(o().bannerCreator.editor.banner,e.id);n({type:a.Dc,payload:{layers:i,dragElementType:t}})}},m=function(){return{type:a.Ec}},b=function(e){return function(t,n){var r=n().bannerCreator.editor.timeline,o=r.layersDragged,i=r.changingLayerDragPosition;t({type:a.Cc,payload:{duration:e,layersDragged:o,changingLayerDragPosition:i}})}},g=function(e){return{type:a.Ab,payload:{newPosition:e}}},y=function(e){return{type:a.Bb,payload:{newValue:e}}}},542:function(e,t,n){"use strict";var a=n(388),r=n(391),o=n(441),i=n(468),l=n(426),s=n(795),c=n(1081),u=n(452),d=n(921),p=n(410),f=n(482),h=n(965),m=n(1139),b=n(496),g=function(e,t,n){var a=m.a[t],r=h.a.find((function(e){return e.fontName===n})).fontFormat;e.fontUrl="//cdn.bannersnack.com".substring(2)+"/fonts/bannersnack/"+n+"/"+a+"/"+n+"."+r},y=function(e,t,n,a){var r=a.find((function(e){return e.fontFamily===n}));if(r&&r.subFamilies){var o=r.subFamilies.find((function(e){return e.weight===t}));o&&(e.fontUrl=o.url,e.fontFaceUrl=o.fontFaceUrl)}},v=function(e,t){var n=Object(b.a)(e);return n.elements.forEach((function(e){e.elements.forEach((function(e){if(e.layerType===r.b.TEXT){var n=e.fontType,a=e.fontWeight,o=e.fontFamily;n!==f.a.BANNERSNACK||e.fontUrl?n!==f.a.CUSTOM||e.fontUrl||e.fontFaceUrl||y(e,a,o,t):g(e,a,o)}else if(e.layerType===r.b.BUTTON){var i=e.labelSettings,l=i.fontType,s=i.fontWeight,c=i.fontFamily;l!==f.a.BANNERSNACK||e.labelSettings.fontUrl?l!==f.a.CUSTOM||e.labelSettings.fontUrl||e.labelSettings.fontFaceUrl||y(e.labelSettings,s,c,t):g(e.labelSettings,s,c)}}))})),n},E=n(893),S=n(796);var O,C,w=(O=regeneratorRuntime.mark((function e(t,n){var a,r,o,i,l,s,c,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=void 0,r={},e.prev=2,!t){e.next=7;break}return e.next=6,Object(S.a)(t);case 6:a=e.sent;case 7:return e.next=9,Promise.all(n.map((function(e){return Object(S.a)(e)})));case 9:for(o=e.sent,i=!0,l=!1,s=void 0,e.prev=13,c=o[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)d=u.value,r[d.hash]=d;e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),l=!0,s=e.t0;case 21:e.prev=21,e.prev=22,!i&&c.return&&c.return();case 24:if(e.prev=24,!l){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:e.next=34;break;case 31:return e.prev=31,e.t1=e.catch(2),e.abrupt("return",Promise.reject(e.t1));case 34:return e.abrupt("return",{bannerSetJson:a,banners:r});case 35:case"end":return e.stop()}}),e,void 0,[[2,31],[13,17,21,29],[22,,24,28]])})),C=function(){var e=O.apply(this,arguments);return new Promise((function(t,n){return function a(r,o){try{var i=e[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(l)}("next")}))},function(e,t){return C.apply(this,arguments)}),T=n(913),k=n(836),I=n(1063),L=n(838),P=n(741),M=n(596),R=n(691),x=n(797),D=n(439);n.d(t,"d",(function(){return U})),n.d(t,"c",(function(){return F})),n.d(t,"j",(function(){return W})),n.d(t,"g",(function(){return V})),n.d(t,"b",(function(){return q})),n.d(t,"h",(function(){return K})),n.d(t,"a",(function(){return Y})),n.d(t,"e",(function(){return X})),n.d(t,"i",(function(){return Z})),n.d(t,"f",(function(){return J}));var j=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function N(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(r,o){try{var i=t[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))}}var A,_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.a.SLIDE,a=!0,r=!1,i=void 0;try{for(var l,s=t.elements[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var c=l.value;if(n===o.a.SLIDE){if(c.bannersetElementId===e.bannersetElementId)return!0}else if(n===o.a.LAYER){var u=!0,d=!1,p=void 0;try{for(var f,h=c.elements[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value;if(m.bannersetElementId===e.bannersetElementId)return!0}}catch(e){d=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw p}}}}}catch(e){r=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw i}}return!1},B=function(){var e=N(regeneratorRuntime.mark((function e(t,n){var a,l,s,u,d,p,f,h,m,b,g,y,S,O,C,w,L,P,M,R,x,D,N,A,B,H,U,z,G,F,W,V,q,K,Y,X,Z,J,Q,$,ee,te,ne,ae,re,oe,ie,le,se,ce,ue,de,pe,fe,he,me,be,ge,ye,ve,Ee,Se=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)(n);case 2:if(a=e.sent,l=a.name,s=a.parentId,u=a.animated,d=a.banners,p=a.workspaceId,f=a.adBanner,h=Se&&a.jsonRecovery||a.json,m=a.progressStatus?a.progressStatus.status:"",b=void 0,g={},!h){e.next=140;break}d.forEach((function(e,t){g[t]=new T.a(Se&&e.jsonRecovery||e.json)})),y=t.bannerCreator.library.typography.fontList,S=new k.a(v(h,y)),O={elements:{},layers:{}},C=!0,w=!1,L=void 0,e.prev=16,P=Object.keys(g)[Symbol.iterator]();case 18:if(C=(M=P.next()).done){e.next=72;break}R=M.value,x=!0,D=!1,N=void 0,e.prev=23,A=g[R].banner.elements.entries()[Symbol.iterator]();case 25:if(x=(B=A.next()).done){e.next=55;break}if(H=B.value,U=j(H,2),z=U[0],G=U[1],!(O.elements[G.bannersetElementId]||_(G,S))){e.next=52;break}for(O.elements[G.bannersetElementId]=1,F=!0,W=!1,V=void 0,e.prev=36,q=G.elements.entries()[Symbol.iterator]();!(F=(K=q.next()).done);F=!0)Y=K.value,X=j(Y,2),Z=X[0],J=X[1],O.layers[G.bannersetElementId]||_(J,S,o.a.LAYER)?O.layers[J.bannersetElementId]=1:function(){S=S.update("lastElementId",(function(e){return e+1}));var e=J.toJS();e.bannersetElementType=J.layerType===r.b.IMAGE?i.a.UPLOAD_IMAGES:J.layerType,e.bannersetElementId=S.lastElementId,e=Object(I.b)(e),S=S.updateIn(["elements",z,"elements"],(function(t){return t.push(e)})),g[R]=g[R].setIn(["banner","elements",z,"elements",Z,"bannersetElementId"],S.lastElementId)}();e.next=44;break;case 40:e.prev=40,e.t0=e.catch(36),W=!0,V=e.t0;case 44:e.prev=44,e.prev=45,!F&&q.return&&q.return();case 47:if(e.prev=47,!W){e.next=50;break}throw V;case 50:return e.finish(47);case 51:return e.finish(44);case 52:x=!0,e.next=25;break;case 55:e.next=61;break;case 57:e.prev=57,e.t1=e.catch(23),D=!0,N=e.t1;case 61:e.prev=61,e.prev=62,!x&&A.return&&A.return();case 64:if(e.prev=64,!D){e.next=67;break}throw N;case 67:return e.finish(64);case 68:return e.finish(61);case 69:C=!0,e.next=18;break;case 72:e.next=78;break;case 74:e.prev=74,e.t2=e.catch(16),w=!0,L=e.t2;case 78:e.prev=78,e.prev=79,!C&&P.return&&P.return();case 81:if(e.prev=81,!w){e.next=84;break}throw L;case 84:return e.finish(81);case 85:return e.finish(78);case 86:Q=!0,$=!1,ee=void 0,e.prev=89,te=S.elements.entries()[Symbol.iterator]();case 91:if(Q=(ne=te.next()).done){e.next=123;break}if(ae=ne.value,re=j(ae,2),oe=re[0],ie=re[1],!O.elements[ie.bannersetElementId]){e.next=119;break}for(le=function(e){O.layers[e.bannersetElementId]||(S=S.updateIn(["elements",oe,"elements"],(function(t){return t.filterNot((function(t){return t.bannersetElementId===e.bannersetElementId}))})))},se=!0,ce=!1,ue=void 0,e.prev=101,de=ie.elements[Symbol.iterator]();!(se=(pe=de.next()).done);se=!0)fe=pe.value,le(fe);e.next=109;break;case 105:e.prev=105,e.t3=e.catch(101),ce=!0,ue=e.t3;case 109:e.prev=109,e.prev=110,!se&&de.return&&de.return();case 112:if(e.prev=112,!ce){e.next=115;break}throw ue;case 115:return e.finish(112);case 116:return e.finish(109);case 117:e.next=120;break;case 119:S=S.deleteIn(["elements",oe]);case 120:Q=!0,e.next=91;break;case 123:e.next=129;break;case 125:e.prev=125,e.t4=e.catch(89),$=!0,ee=e.t4;case 129:e.prev=129,e.prev=130,!Q&&te.return&&te.return();case 132:if(e.prev=132,!$){e.next=135;break}throw ee;case 135:return e.finish(132);case 136:return e.finish(129);case 137:b=S,e.next=162;break;case 140:for(he={},d.forEach((function(e,t){he[t]=e.json})),b=Object(E.a)(he,{setHash:n,name:l}),me=!0,be=!1,ge=void 0,e.prev=146,ye=Object.keys(he)[Symbol.iterator]();!(me=(ve=ye.next()).done);me=!0)Ee=ve.value,g[Ee]=new T.a(he[Ee]);e.next=154;break;case 150:e.prev=150,e.t5=e.catch(146),be=!0,ge=e.t5;case 154:e.prev=154,e.prev=155,!me&&ye.return&&ye.return();case 157:if(e.prev=157,!be){e.next=160;break}throw ge;case 160:return e.finish(157);case 161:return e.finish(154);case 162:return e.abrupt("return",{templateId:s,animated:u,name:l,setHash:n,bannersetJson:b,bannersJsons:g,progressStatus:m,workspaceId:p,recovery:!Se&&(!!a.jsonRecovery||d.some((function(e){return e.jsonRecovery}))),adBanner:f});case 163:case"end":return e.stop()}}),e,void 0,[[16,74,78,86],[23,57,61,69],[36,40,44,52],[45,,47,51],[62,,64,68],[79,,81,85],[89,125,129,137],[101,105,109,117],[110,,112,116],[130,,132,136],[146,150,154,162],[155,,157,161]])})));return function(t,n){return e.apply(this,arguments)}}(),H=function(e,t){return function(n,a){var r=a(),o=Object(u.a)(r).url,i=r.bannerCreator.app.sizePresets,s=i.displayAds,c=i.socialMedia,d=i.documents;n({type:D.J,promise:B(r,e,t),meta:{onFailure:function(){p.c.push(""+o+l.a.GENERATOR_CHOOSE_SIZES)}},payload:{sizePresets:s.concat(c,d),recovery:t}})}},U=(A=N(regeneratorRuntime.mark((function e(t,n){var r,o,i,l,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new a.List;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,e.next=3,w(s,t);case 3:return o=e.sent,i=o.banners,l=o.bannerSetJson,u?l?(delete l.name,delete l.hash,r=new k.a(v(l,d))):r=Object(E.a)(i):r=l,e.abrupt("return",{banners:i,bannerSetJson:r,currentUserId:c});case 8:case"end":return e.stop()}}),e,void 0)}))),function(e,t){return A.apply(this,arguments)}),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t,n){var a=n(),r=a.app.user.id,o=a.bannerCreator,i=o.workspace,l=o.app.language,s=o.library.typography.fontList,c=Object(R.a)(a).filter((function(e){return e.selected})).map((function(e){var t=e.presetSize,n=t.width,a=t.height,r=t.measureUnit;return{width:n,height:a,variation:e.variation,measureUnit:r}})).toJS(),u=[],d=null;if(e&&"blank"!==e){var p=Object(x.a)(a),f=!0,h=!1,m=void 0;try{for(var b,g=p[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){var y=b.value;if(y.id===e){d=y.hash;var v=!0,E=!1,S=void 0;try{for(var O,C=c[Symbol.iterator]();!(v=(O=C.next()).done);v=!0){var w=O.value,T=w.width,k=w.height,I=w.variation,P=w.measureUnit,M=Object(L.a)(y.templates,Math.round(T),Math.round(k),I,P);-1===u.indexOf(M.hash)&&u.push(M.hash)}}catch(e){E=!0,S=e}finally{try{!v&&C.return&&C.return()}finally{if(E)throw S}}break}}}catch(e){h=!0,m=e}finally{try{!f&&g.return&&g.return()}finally{if(h)throw m}}}t({type:D.Q,promise:u.length?U(u,l,d,r,!0,s):Promise.resolve(),payload:{sizes:c,templateId:e,userId:i.selectedUserId}})}},G=function(){return function(e,t){var n=t(),a=n.bannerCreator,r=a.myBanners.translation,o=r.name,i=r.currentLanguage,l=a.app.sizePresets,s=l.displayAds,c=l.socialMedia,u=l.documents,p=Object(d.a)(n),f=Object(d.b)(n),h=i.to.toUpperCase()+" - "+o;e({type:D.N,payload:{setName:h,bannersetJson:f,banners:p,sizePresets:s.concat(c,u)}})}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,a){var r=a(),o=Object(u.a)(r).url,i=r.bannerCreator.generator.general,s=i.isWhiteLabel,c=i.wlData,d=i.templateSetId,f=i.selectedSizes,h=i.translated;e?n(H(e,t)):d?n(z(d)):s&&f.size&&!parseInt(c.generator_use_templates)?n(z("blank")):h?n(G()):p.c.push(""+o+l.a.GENERATOR_CHOOSE_SIZES)}},W=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a,r){var o=r().bannerCreator.generator,i=o.jsons.current.get(e),l=o.slides.selectedSlideIndex,s=i&&i.hash?i.hash:null;a({type:D.Jb,payload:{sizeIndex:e,jsonBanner:t,bannerHash:s,skipHistory:n,selectedSlideIndex:l}})}},V=function(e){return function(t,n){var a=n().bannerCreator.generator.slides.selectedSlideIndex;t({type:D.T,payload:{bannersetElementId:e,selectedSlideIndex:a}})}},q=function(){return function(e,t){var n=t().bannerCreator,a=n.app,r=a.language,o=a.sizePresets,i=n.generator,l=n.library.typography.fontList,c=i.general,u=c.templateSetId,d=c.selectedSizes,p=i.jsons,f=p.bannersetJson,h=f.hash,m=f.name,b=f.elements,g=p.current,y=b.size,v=d,E=[],S={};if(u&&!h&&1===y){var O=null,C=Object(x.a)(t());if(C){var w=!0,T=!1,k=void 0;try{for(var I,P=C[Symbol.iterator]();!(w=(I=P.next()).done);w=!0){var M=I.value;if(M.id===u){O=M.templates;break}}}catch(e){T=!0,k=e}finally{try{!w&&P.return&&P.return()}finally{if(T)throw k}}}if(O){var R=!0,j=!1,N=void 0;try{for(var A,_=v[Symbol.iterator]();!(R=(A=_.next()).done);R=!0){var B=A.value,H=B.width,z=B.height,G=B.variation,F=!1,W=!0,V=!1,q=void 0;try{for(var K,Y=g[Symbol.iterator]();!(W=(K=Y.next()).done);W=!0){var X=K.value.banner,Z=X.width,J=X.height,Q=X.sizeVariation;if(Math.round(H)===Math.round(Z)&&Math.round(z)===Math.round(J)&&G===Q){F=!0;break}}}catch(e){V=!0,q=e}finally{try{!W&&Y.return&&Y.return()}finally{if(V)throw q}}if(!F){var $=Object(L.a)(O,Math.round(H),Math.round(z),G);$.hash&&(E.push($.hash),S[H+"x"+z+(G?"_"+G:"")]={hash:$.hash,isCustom:Object(s.b)(H,z,G,o)})}}}catch(e){j=!0,N=e}finally{try{!R&&_.return&&_.return()}finally{if(j)throw N}}}}e({type:D.Lb,promise:E.length?U(E,r,null,null,!1,l):Promise.resolve(),payload:{sizes:v,bannerSetName:m,sizesHashesLinks:S}})}},K=function(){return function(e,t){var n=t(),a=Object(u.a)(n).url;n.bannerCreator.generator.general.selectedSizes.size>0?e({type:D.r}):p.c.push(""+a+l.a.GENERATOR_CHOOSE_SIZES)}},Y=function(e,t){return{type:D.c,payload:{selectedSlideIndex:e,applyOnAllSlides:t}}},X=function(e){return function(t,n){var r=n().bannerCreator.generator,o=r.slides.selectedSlideIndex,i=r.focusMode.jsonIndex,l=r.bulkEditor.selectedElement,s=-1!==i,c=new a.List;c=l&&!s?c.push(l):Object(P.a)(n()),t({type:D.j,payload:{selectedElements:c,property:e,selectedSlideIndex:o,isInFocusMode:s}})}},Z=function(e){return function(t,n){var a=n().bannerCreator,r=a.generator,o=r.slides.selectedSlideIndex,i=r.jsons.bannersetJson,l=a.editor.banner,s=l.selectedLayers,c=l.banner.elements.get(o).elements.find((function(e){return e.id===s.first()})).bannersetElementId,u=Object(M.b)(i,o).find((function(e){return e.bannersetElementId===c}));t({type:D.Hb,payload:{propertyGroup:e,bannersetJsonLayer:u,selectedSlideIndex:o}})}},J=function(e){return{type:D.O,payload:{bannersetElementId:e}}}},551:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(50),s=n.n(l),c=n(394),u=n(535),d=n(531),p=n(393),f=n(17),h=n(7),m=n(658),b=n(489),g=n.n(b),y=n(506),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E=s.a.bind(g.a),S=function(e){var t=e.min,n=e.max,a=e.step,o=e.value,i=e.label,l=e.usePercent,s=e.selectedElementsAreOverlay,b=e.onChange,S=String(a).indexOf(".")>-1?String(a).length-1:0,O=r.a.createElement(d.a,{onChange:function(e){var r=Number.isNaN(parseFloat(e))?o:e,i=s?y.a.OVERLAY:n;return b(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments[4],o=r!==parseInt(e)?parseFloat(e):parseInt(e);return null===o&&(o=a),Math.min(Math.max(o,t),n)}(r,t,i,a))},text:null!==o?String(o):"",maxLength:Math.max(String(t).length,String(n).length)+S,align:p.a.RIGHT,size:f.a.SMALL,isNumeric:!0,editOn:u.a.CLICK,hoverBorder:!0}),C=l&&null!==o?r.a.createElement("span",{className:g.a.percent},r.a.createElement(c.a,{skin:h.a.WHITE,size:f.a.NORMAL,label:"%"})):null,w=void 0;return w=null===o?n<0?0:n/2:o,r.a.createElement("div",{className:E("group","sliderGroup")},r.a.createElement("div",{className:E("clearfix","labelCont")},r.a.createElement(c.a,{skin:h.a.WHITE,size:f.a.NORMAL,label:i}),r.a.createElement("div",{className:g.a.content},r.a.createElement("span",null,O),C)),r.a.createElement(m.a,v({},e,{value:w})))};S.defaultProps={min:0,max:100,usePercent:!1,step:1,selectedElementsAreOverlay:!1,value:null},S.propTypes={onChange:i.a.func.isRequired,value:i.a.number,label:i.a.string.isRequired,min:i.a.number,max:i.a.number,step:i.a.number,usePercent:i.a.bool,selectedElementsAreOverlay:i.a.bool},t.a=S},552:function(e,t,n){"use strict";var a={color:"color",text:"text",action:"action",layers:"layers",settings:"settings",border:"border",time:"time",opacity:"opacity",transition:"transition",group:"group",duplicate:"duplicate",lock:"lock",delete:"delete"};t.a={iconNames:a,all:[a.color,a.text,a.layers,a.action,a.settings,a.opacity,a.transition,a.duplicate,a.lock,a.delete],text:[a.text,a.color,a.layers,a.action,a.transition,a.duplicate,a.lock,a.delete],button:[a.color,a.text,a.border,a.layers,a.action,a.transition,a.duplicate,a.lock,a.delete],image:[a.color,a.settings,a.layers,a.action,a.transition,a.duplicate,a.lock,a.delete],shape:[a.color,a.border,a.layers,a.action,a.transition,a.duplicate,a.lock,a.delete],clipart:[a.color,a.settings,a.layers,a.action,a.transition,a.duplicate,a.lock,a.delete],embed:[a.color,a.settings,a.layers,a.transition,a.duplicate,a.lock,a.delete],youtube:[a.color,a.settings,a.action,a.layers,a.duplicate,a.lock,a.delete],mixed:[a.group,a.action,a.layers,a.transition,a.duplicate,a.lock,a.delete],group:[a.group,a.layers,a.duplicate,a.lock,a.delete],menu:[a.delete],svg:[a.color,a.settings,a.layers,a.action,a.transition,a.duplicate,a.lock,a.delete],slide:[a.time,a.transition,a.duplicate,a.lock,a.delete]}},566:function(e,t,n){"use strict";t.a={color:{shape:["background","opacity","blur","dropShadow"],text:["chooser","presets","recent","opacity","blur","dropShadow"],button:["background","dropShadow"],image:["opacity","blur","adjustColor","dropShadow"],youtube:["adjustColor","blur"],embed:["background","separator","adjustColor","blur","dropShadow"],clipart:["chooser","presets","recent","opacity","blur","dropShadow"],svg:["multiple-colors-chooser","opacity","blur","dropShadow"]},text:{text:["font","align","size","lineHeight","letterSpacing"],button:["chooser","font","size","letterSpacing","dropShadow"],mixt:["chooser","font","size","letterSpacing","dropShadow"]},settings:{clipart:["changeImageButton"],image:["changeImageButton","cropImage","imageScale","resetSize"],svg:["changeImageButton","resetSize"],youtube:["youtubeUrl","startAt","autoplay","loop","displayYoutubeLogo","soundOnMouseOver","hideControls","volume"],embed:["embedCode","useBorder","borderColor","presets","margin","useIframe","scrollbar","autoResize"]},border:{shape:["borderColor","weight","opacity","roundedCorners"],button:["borderColor","weight","opacity","roundedCorners"]},layers:{shape:["sizeAndPosition","alignControls","flip","layerOrder","showOnAllSlides"],text:["sizeAndPosition","alignControls","layerOrder","showOnAllSlides"],button:["sizeAndPosition","alignControls","layerOrder","showOnAllSlides"],image:["sizeAndPosition","alignControls","flip","layerOrder","showOnAllSlides"],youtube:["sizeAndPosition","alignControls","layerOrder","showOnAllSlides"],embed:["sizeAndPosition","alignControls","layerOrder","showOnAllSlides"],clipart:["sizeAndPosition","alignControls","flip","layerOrder","showOnAllSlides"],svg:["sizeAndPosition","alignControls","flip","layerOrder","showOnAllSlides"],group:["sizeAndPosition","alignControls","layerOrder"],mixed:["alignControls","showOnAllSlides"]}}},567:function(e,t,n){"use strict";var a=n(65),r=n(388),o=Object(a.createSelector)([function(e){return e.bannerCreator.editor.banner.banner},function(e){return e.bannerCreator.editor.banner.selectedSlideId}],(function(e,t){if(!(e&&"elements"in e))return Object(r.List)();var n=e.elements.find((function(e){return e.id===t}));return n?n.elements:Object(r.List)()}));t.a=o},575:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(50),s=n.n(l),c=n(388),u=n(973),d=n.n(u),p=n(652),f={1:12,2:12,3:12,4:8,default:6},h=n(480),m=n(445),b=n(387),g=n(402),y=n(7),v=n(742),E=n(386),S=n(613),O=n(823),C=n(877),w=n(754),T=n(681),k=n(57),I=n(680),L=n(626),P=r.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"#fdac22"},r.a.createElement("path",{d:" M9.3,13.3l3.4,2a.6375.6375,0,0,0,.6,0c.2-.1.2-.3.2-.5l-1-4.1h0l3.2-2.8c.2-.1.2-.3.1-.5s-.2-.3-.4-.3l-4.2 -.4h0L9.5,2.8a.56667.56667,0,0,0-1,0L6.9,6.7h0L2.7,7a.44637.44637,0,0,0-.4.3.43974.43974,0,0,0,.1.5l3.2, 2.8h0l-1,4.1c0,.2,0,.4.2.5a.6375.6375,0,0,0,.6,0l3.4-2A1.0873,1.0873,0,0,1,9.3,13.3Z ",transform:"translate(-2.25858 -2.5)"})),M=r.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"#fff"},r.a.createElement("path",{d:" M9,4.8l1,2.4.3.7H11l2.6.2L11.7,9.8l-.5.5.2.7.6,2.5-1.9-1.2a1.48611,1.48611,0,0,0-.9-.2,2.91986,2.91986,0,0, 0-.9.2L6.4,13.5,6.8,11l.2-.7-.6-.5-2-1.7L7,7.9l.7-.1L8,7.2,9,4.8M9,2.5a.54993.54993,0,0,0-.5.3L6.9,6.7l -4.2.4a.44637.44637,0,0,0-.4.3.47109.47109,0,0,0,.1.6l3.2,2.8-1,4.1c0,.2,0,.4.2.5a.36737.36737,0,0,0, .3.1.36737.36737,0,0,0,.3-.1l3.4-2c.1,0,.2-.1.3-.1a.36737.36737,0,0,1,.3.1l3.4,2c.1,0,.2.1.3.1a.36737.36737, 0,0,0,.3-.1c.2-.1.2-.3.2-.5l-1-4.1,3-2.8c.2-.1.2-.3.1-.5s-.2-.3-.4-.3l-4.2-.4-1.6-4A.85027.85027,0,0,0,9, 2.5Z",transform:"translate(-2.23431 -2.5)"})),R=n(584),x=n(976),D=n.n(x),j=function(e){var t=e.isFavorite,n=e.type,a=e.data,o=e.addToFavorites,i=e.removeFromFavorites,l=t?P:M;return r.a.createElement("div",{className:D.a.starContainer,onClick:function(e){e.stopPropagation();var r=a.id,l=a.imagePath,s=a.hash,c=void 0,u=void 0;n===m.a.SVG?(u=I.a.SVG,c="//cdn.bannersnack.com"+S.a.ELEMENTS+r):l?(u=I.a.STOCK_PHOTO,c=l):(u=I.a.MY_UPLOAD,c=Object(L.a)(s)),t?i(u,c,a):o(u,c,a)}},l)};j.propTypes={isFavorite:i.a.bool,type:i.a.oneOf(Object.values(m.a)),data:i.a.instanceOf(Object),addToFavorites:i.a.func,removeFromFavorites:i.a.func},j.defaultProps={isFavorite:!1,type:m.a.SVG,data:new R.a,addToFavorites:k.a,removeFromFavorites:k.a};var N=j,A=n(977),_=n.n(A),B=n(56),H=n(391),U=n(119),z=n(38),G=n(22),F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},V=s.a.bind(_.a),q=function(e){var t=e.type,n=e.data,o=e.metrics,i=e.isFavorite,l=e.isDragging,s=e.onItemClick,c=e.onItemDragStart,u=e.onImageDeleteClick,d=e.addToFavorites,p=e.removeFromFavorites,f=e.skin,h=e.placement,b=e.isBlocked,g=Object(a.useState)(),y=W(g,2),v=y[0],E=y[1];if(!n)return null;var w=m.a.SVG,T=m.a.IMAGE,k=n.id,I=n.uploading,L=o.top,P=o.left,M=o.width,R=o.height,x=o.padding,D=F({},n.toJS(),{originalWidth:n.width,originalHeight:n.height}),j=void 0,A=null,q=function(){var e={};return t===w?e=F({},D,{svgContent:v,layerType:H.b.SVG}):t===T&&(e=F({},D,{layerType:n.type||H.b.IMAGE,url:n.download||n.imagePath})),e},K=function(e){return I||2===e.button||t===w&&!v},Y=function e(t){if(A){var n=t.clientX,a=t.clientY,r=A,o=r.clientX,i=r.clientY;(Math.abs(n-o)>5||Math.abs(a-i)>5)&&(window.removeEventListener("mousemove",e),c(q(),{x:o,y:i}))}};if(t===w){var X="//cdn.bannersnack.com"+S.a.ELEMENTS+k;j=r.a.createElement(O.a,{url:X,passSvgContent:E,skin:f})}else t===T&&(j=r.a.createElement(C.a,F({},D,{placement:h,listWidth:323,imagePosition:{top:L,left:P},containerWidth:M,containerHeight:R,width:M,height:R,onDeleteImageClick:u,skin:f})));var Z;return r.a.createElement("div",{className:V("item",{isDragging:l}),onClick:function(e){K(e)||s(q())},onMouseDown:h!==B.a.GENERATOR?function(e){var t=e.clientX,n=e.clientY,a=e.target;K(e)||(e.preventDefault(),window.addEventListener("mousemove",Y),A={clientX:t,clientY:n,target:a})}:null,onMouseUp:h!==B.a.GENERATOR?function(){window.removeEventListener("mousemove",Y)}:null},r.a.createElement("div",{className:_.a.itemHtml,style:{padding:x},draggable:!1},j),r.a.createElement("div",{className:V(_.a.favoriteIcon,{isFavorite:i})},r.a.createElement(N,{isFavorite:i,type:t,data:n,addToFavorites:d,removeFromFavorites:p})),(Z=n.type,b?r.a.createElement(U.a,{type:z.a.PREMIUM,container:G.a.PHOTOS}):t===m.a.IMAGE&&Z===H.b.SVG?r.a.createElement(U.a,{type:z.a.SVG,container:G.a.PHOTOS}):null))};q.propTypes={type:i.a.oneOf([m.a.IMAGE,m.a.SVG]).isRequired,data:i.a.oneOfType([i.a.instanceOf(T.a),i.a.instanceOf(w.b)]).isRequired,metrics:i.a.shape({top:i.a.number,left:i.a.number,width:i.a.number,height:i.a.number,padding:i.a.number}),onItemClick:i.a.func,onItemDragStart:i.a.func,onImageDeleteClick:i.a.func,skin:i.a.oneOf([y.a.LIGHT_GREY,y.a.DARK_BLUE]),isFavorite:i.a.bool,isBlocked:i.a.bool,isDragging:i.a.bool,addToFavorites:i.a.func.isRequired,removeFromFavorites:i.a.func.isRequired,placement:i.a.oneOf([B.a.EDITOR,B.a.GENERATOR])},q.defaultProps={isFavorite:!1,isDragging:!1,isBlocked:!1,metrics:{top:0,left:0,width:100,height:100,padding:12},onItemClick:k.a,onItemDragStart:k.a,onImageDeleteClick:k.a,skin:y.a.DARK_BLUE,placement:B.a.EDITOR};var K=q,Y=n(455),X=n(456),Z=n(479),J=n(431),Q=n.n(J),$=n(671),ee=n(500),te=function(e,t,n,a,r,o){return JSON.stringify({type:t,id:n,hash:a,source:r,imagePath:o})};var ne=Q()([$.a,te],(function(e,t){var n=JSON.parse(t);return function(e,t,n,a,r,o){var i=m.a.IMAGE,l=m.a.SVG,s=void 0;switch(t){case i:s=r!==ee.a.MY_IMAGES?o:Object(L.a)(a);break;case l:s="//cdn.bannersnack.com"+S.a.ELEMENTS+n}return e.some((function(e){return s===e.path}))}(e,n.type,n.id,n.hash,n.source,n.imagePath)}))(te),ae=n(540),re=n(476),oe=n(433),ie=n(648),le=n(437),se=n(398),ce=function(e,t,n,a,r,o){return JSON.stringify({type:t,id:n,hash:a,source:r,imagePath:o})},ue=Q()([function(e){return e.bannerCreator.editor.drag?e.bannerCreator.editor.drag.replaceElementData:null},ce],(function(e,t){if(!e)return!1;var n=m.a.IMAGE,a=m.a.SVG,r=JSON.parse(t),o=r.type,i=r.id,l=r.hash,s=r.source,c=r.imagePath;switch(o){case n:return s===ee.a.STOCK_PHOTOS?c===e.url:e.hash===l;case a:return i===e.id;default:return!1}}))(ce),de=n(400),pe=function(e,t,n,a,r,o){return JSON.stringify({itemType:t,source:n,premium:a,imagePath:r,hash:o})},fe=n(406).a.LIMITED,he=ee.a.MY_IMAGES,me=Q()([de.a,pe],(function(e,t){var n=e.bmStockPhotos,a=e.bmCliparts,r=JSON.parse(t),o=r.premium,i=r.itemType,l=r.source,s=n===fe&&l&&l!==he;return(a===fe&&i===p.a.ELEMENT||s)&&o}))(pe),be=n(454),ge=n(1083),ye=function(e,t){return t},ve=Q()([function(e){return e.bannerCreator.contentLibrary.categories},function(e){return e.bannerCreator.contentLibrary.subcategories},function(e){return e.bannerCreator.contentLibrary.elements},ye],(function(e,t,n,a){var r=n.find((function(e){return e.id===a}));return r?Object(ge.a)(e,t)[r.parentId]:e.first()}))(ye),Ee=function(e){var t=void 0;switch(e){case"illustrations":t="limitIllustrations";break;case"icons":t="limitIcons";break;case"shapes":t="limitShapes"}return t},Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Oe=Object(E.c)((function(e,t){var n=t.data,a=n.id,r=n.hash,o=n.source,i=n.imagePath,l=n.premium,s=n.type,c=t.type,u=ne(e,c,a,r,o,i),d=ue(e,c,a,r,o,i),p=Object(re.a)(e),f=Object(oe.a)(e),h=me(e,s,o,l,i,r),b=c===m.a.SVG?ve(e,a):null;return{isFavorite:u,isDragging:d,skin:p,placement:f,isBlocked:h,elementCategory:b?b.key:null}}),(function(e,t){return{onItemClick:function(n,a,r,o){var i=t.type,l=t.placement;a===B.a.EDITOR?l===se.a.BACKGROUND?e(r?Object(be.h)("limitImagesFree"):Object(X.c)(n,i)):i===m.a.IMAGE?e(r?Object(be.h)("limitImagesFree"):Object(X.b)(n)):i===m.a.SVG&&e(r?Object(be.h)(Ee(o)):Object(Z.a)(n)):e(Object(le.n)(n.layerType,n))},onItemDragStart:function(n,a,r,o){var i=t.type;if(r)i===m.a.IMAGE?e(Object(be.h)("limitImagesFree")):i===m.a.SVG&&e(Object(be.h)(Ee(o)));else if(t.placement!==se.a.BACKGROUND){var l=Se({},n,{type:n.layerType});e(Object(ie.c)(i,l,a))}},onImageDeleteClick:function(t){e(Object(Y.x)([t]))},addToFavorites:function(t,n,a,r,o){r?t===m.a.IMAGE?e(Object(be.h)("limitImagesFree")):t===m.a.SVG&&e(Object(be.h)(Ee(o))):e(Object(ae.b)(t,n,a))},removeFromFavorites:function(t,n,a){e(Object(ae.j)(t,n,a))}}}),(function(e,t,n){return Se({},n,e,t,{onItemClick:function(n){t.onItemClick(n,e.placement,e.isBlocked,e.elementCategory)},onItemDragStart:function(n,a){t.onItemDragStart(n,a,e.isBlocked,e.elementCategory)},addToFavorites:function(n,a,r){t.addToFavorites(n,a,r,e.isBlocked,e.elementCategory)}})}))(K),Ce=n(1497),we=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Te=function(e){var t=e.children,n=Object(Ce.a)({triggerOnce:!0,threshold:0}),a=we(n,2),o=a[0],i=a[1];return r.a.createElement("div",{ref:o,style:{height:"100%",width:"100%"}},i&&t)};Te.propTypes={children:i.a.node.isRequired};var ke=Te,Ie=n(978),Le=n.n(Ie),Pe=s.a.bind(Le.a),Me=function(e){var t=e.searchValue,n=e.skin,a=b.a.noResultsHeading+' "'+t+'"';return r.a.createElement("div",{className:Pe("noResults",n)},r.a.createElement("div",{className:Le.a.noResultsFirst},a),r.a.createElement("div",null,b.a.noResultsListHeading),r.a.createElement("ul",{className:Le.a.noResultsList},r.a.createElement("li",null,b.a.noResultsListItem1),r.a.createElement("li",null,b.a.noResultsListItem2)))};Me.propTypes={searchValue:i.a.string.isRequired,skin:i.a.oneOf([y.a.LIGHT_GREY,y.a.DARK_BLUE])},Me.defaultProps={skin:y.a.DARK_BLUE};var Re=Me,xe=n(395),De=n(17);function je(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Ne=s.a.bind(d.a),Ae=function(e){var t=e.items,n=e.columns,o=e.hasScroll,i=e.sendContainerHeight,l=e.showItems,s=e.skin,c=e.isInSubcategory,u=e.infiniteScroll,E=e.placement,S=e.handleInfiniteScroll,O=e.loading,C=e.searchValue,w=e.sendScrollRef,T=e.itemsHeight,k=void 0,I=Object(a.useRef)(null),L=Object(a.useRef)(!1),P=Object(a.useMemo)((function(){var e,a,r,o,i,l;return a=(335-12*(e=n))/e,r={},o=t.map((function(t,n){var o=t.data,i=o.height,l=o.width,s=o.type,c=n%e;if(s!==p.a.SEPARATOR){for(var u=Object(h.a)(a*i/l,50,500),d=r[c],b=null,g=0;g<e;g++)r[g]&&r[g]<d&&(b=g,d=r[g]);var y=0;r[b=null!==b?b:c]||0===r[b]?(y=r[b],r[b]=y+u+12):r[b]=u+12;var v=b*(a+12),E=0;return t.type===m.a.SVG&&(E=f[e]||f.default),{containerWidth:a,containerHeight:u,top:y,left:v,padding:E}}var S=0;(r[c]||0===r[c])&&(S=Math.max.apply(Math,je(Object.values(r)))+10);for(var O=0;O<e;O++)r[O]=S+35;return{top:S}})),i=0,(l=Object.values(r)).length&&(i=Math.max.apply(Math,je(l))),{metrics:o,itemsContainerHeight:i}}),[t,n]),M=P.metrics,R=P.itemsContainerHeight;if(Object(a.useEffect)((function(){i(R)}),[R,i]),Object(a.useEffect)((function(){L.current=!1}),[C]),Object(a.useEffect)((function(){w(I)}),[w]),Object(a.useEffect)((function(){if(!L.current&&I.current&&u&&t.size){var e=I.current.getValues().clientHeight;R<e&&(L.current=!0,S())}}),[R,u,t.size,S]),O){var x=s===y.a.LIGHT_GREY?y.a.BLUE:y.a.SEMI_TRANSPARENT_WHITE;return r.a.createElement("div",{className:d.a.itemsListContainer},r.a.createElement(xe.a,{type:De.a.LARGE,skin:x}))}var D=r.a.createElement("div",{className:d.a.itemsList,style:{height:R}},!C||t.size||O?t.map((function(e,t){var n=e.type,a=e.data,o=a.bgColor,i=a.type,u=a.id,f=a.key,h=a.hash,m=M.get(t),g=m.containerWidth,y=m.containerHeight,S=m.top,O=m.left,C=m.padding,w=o===v.a.BLACK?v.a[s]:o;if(i!==p.a.SEPARATOR)return r.a.createElement("div",{className:d.a.item,style:{width:g,height:y,left:O,top:S,backgroundColor:w},key:u||f||h},l&&r.a.createElement(ke,null,r.a.createElement(Oe,{type:n,data:a,metrics:{top:S,left:O,width:g,height:y,padding:C},placement:E})));var T=a.identifier;return r.a.createElement("div",{className:Ne(d.a.separatorElement,s,{isInSubcategory:c}),style:{top:S},key:u},T&&r.a.createElement("p",null,b.a[T]),r.a.createElement("hr",null))})):r.a.createElement(Re,{skin:s,searchValue:C}));if(o){var j=s===y.a.DARK_BLUE?y.a.BLUE:y.a.STAGE_GREY,N={};return T&&(N.height=T),r.a.createElement("div",{className:d.a.itemsListContainer,style:N},r.a.createElement(g.a,{autoHeight:!1,autoHeightMax:100,skin:j,onScrollFrame:function(e){u&&(clearTimeout(k),k=setTimeout((function(){var n=e.clientHeight,a=e.scrollHeight,r=e.scrollTop;u&&n>0&&r>0&&a-(r+n)<1e3&&!O&&t.size&&S()}),50))},ref:I},D))}return r.a.createElement("div",{className:d.a.itemsListContainer},D)};Ae.propTypes={sendContainerHeight:i.a.func,sendScrollRef:i.a.func,showItems:i.a.bool,items:i.a.instanceOf(c.List),hasScroll:i.a.bool,isInSubcategory:i.a.bool,columns:i.a.number,skin:i.a.oneOf([y.a.LIGHT_GREY,y.a.DARK_BLUE]),placement:i.a.oneOf([se.a.EDITOR,se.a.GENERATOR,se.a.BACKGROUND]),infiniteScroll:i.a.bool,handleInfiniteScroll:i.a.func,loading:i.a.bool,searchValue:i.a.string,itemsHeight:i.a.string},Ae.defaultProps={sendContainerHeight:k.a,sendScrollRef:k.a,showItems:!0,items:new c.List,isInSubcategory:!1,hasScroll:!0,columns:4,skin:y.a.DARK_BLUE,placement:se.a.EDITOR,infiniteScroll:!1,handleInfiniteScroll:k.a,loading:!1,searchValue:"",itemsHeight:null};t.a=Ae},589:function(e,t,n){"use strict";var a,r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(50),c=n.n(s),u=n(559),d=n(7),p=n(987),f=n.n(p),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=c.a.bind(f.a),g=(m(a={},u.a.TOP_LEFT,315),m(a,u.a.TOP_CENTER,270),m(a,u.a.TOP_RIGHT,225),m(a,u.a.MIDDLE_LEFT,360),m(a,u.a.MIDDLE_RIGHT,180),m(a,u.a.BOTTOM_LEFT,45),m(a,u.a.BOTTOM_CENTER,90),m(a,u.a.BOTTOM_RIGHT,135),a),y=[u.a.TOP_LEFT,u.a.TOP_CENTER,u.a.TOP_RIGHT,u.a.MIDDLE_LEFT,u.a.MIDDLE_CENTER,u.a.MIDDLE_RIGHT,u.a.BOTTOM_LEFT,u.a.BOTTOM_CENTER,u.a.BOTTOM_RIGHT],v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"onPositionSelect",value:function(e){this.props.disabled||this.props.onPositionSelect(e)}},{key:"checkSelected",value:function(){for(var e in g)if(g[e]===this.props.value)return e;return u.a.MIDDLE_CENTER}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,a=t.skin,r=t.disabled,i=y.slice(0);"rotation"===n&&i.splice(i.indexOf(u.a.MIDDLE_CENTER),1);var l=this.props.selected;"rotation"===n&&(l=this.checkSelected());var s=i.map((function(t){var a,r="rotation"===n?g[t]:t;return o.a.createElement("div",{key:t,className:b((a={},m(a,""+f.a.alignControl,!0),m(a,""+f.a[t],!0),m(a,""+f.a.selected,l===t),a)),onClick:function(){e.onPositionSelect(r)}})}));return o.a.createElement("div",{className:b(f.a.alignTool,a,{disabled:r})},o.a.createElement("div",{className:f.a.lineDivHoriz,style:{left:"12px",top:"5px"}}),o.a.createElement("div",{className:f.a.lineDivHoriz,style:{left:"31px",top:"5px"}}),o.a.createElement("div",{className:f.a.lineDivHoriz,style:{left:"12px",bottom:"5px"}}),o.a.createElement("div",{className:f.a.lineDivHoriz,style:{left:"31px",bottom:"5px"}}),o.a.createElement("div",{className:f.a.lineDivVert,style:{left:"5px",top:"12px"}}),o.a.createElement("div",{className:f.a.lineDivVert,style:{left:"5px",top:"31px"}}),o.a.createElement("div",{className:f.a.lineDivVert,style:{right:"5px",top:"12px"}}),o.a.createElement("div",{className:f.a.lineDivVert,style:{right:"5px",top:"31px"}}),s)}}]),t}(r.Component);v.propTypes={type:l.a.oneOf(["position","rotation"]),onPositionSelect:l.a.func.isRequired,selected:l.a.oneOf(y),skin:l.a.oneOf([d.a.L_BLUE,d.a.BLUE]),value:l.a.number,disabled:l.a.bool},v.defaultProps={type:"position",selected:u.a.MIDDLE_CENTER,skin:d.a.L_BLUE,value:360,disabled:!1},t.a=v},590:function(e,t,n){e.exports={inspectorTransitions:"at3",play:"at4",header:"at5",menu:"at6",body:"at7",timelineMode:"at8",noMenu:"at9",transitionTypesGroup:"ata",transitionTypes:"atb",transitionTypesSelect:"atc",wordsAppearOrder:"atd",tweenType:"ate",tweenTypeLabel:"atf",easeType:"atg",easeTypeLabel:"ath",easeTypeIcons:"ati",direction:"atj",directionLabel:"atk",crossSlide:"atl",crossSlideLabel:"atm",typeOptions:"atn",flexed:"ato",dropDownList:"atp",listElement:"atq",copyPasteContainer:"atr",iconContainer:"ats",shake:"att","fade-in":"atu"}},601:function(e,t,n){"use strict";t.a={PING:"ping",HEARTBEAT:"heartbeat",BACKWARD:"backward",FORWARD:"forward",HORIZONTAL:"horizontal",VERTICAL:"vertical",LEFT_RIGHT:"leftRight",TOP:"top",RIGHT:"right",LEFT:"left"}},602:function(e,t,n){"use strict";t.a={MENU_HEIGHT:48}},618:function(e,t,n){"use strict";var a=n(388),r=n(1395),o=n.n(r),i=n(564),l=n(680),s=n(445);t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t,c=e.value,u=e.filter;u===i.a.PHOTOS?r=r.filter((function(e){return[l.a.MY_UPLOAD,l.a.STOCK_PHOTO,s.a.IMAGE].includes(e.type)})):u===i.a.ILLUSTRATIONS&&(r=r.filter((function(e){return e.type===l.a.SVG})));var d=r.map((function(e,t){var n=e.info||e.data||e||{},a=n.name,r=n.tags;return{index:t,name:a,tags:r?r.toArray():[]}})).toJS();if(c&&d){var p={shouldSort:n,tokenize:!0,findAllMatches:!0,threshold:.3,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["name","tags"]},f=new o.a(d,p);d=f.search(c)}return new a.List(d.map((function(e){return r.get(e.index)})))}},643:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(50),s=n.n(l),c=n(403),u=n(405),d=n(17),p=n(7),f=n(392),h=n(990),m=n.n(h),b=n(806),g=s.a.bind(m.a),y=function(e){var t=e.items,n=e.selectedTab,a=e.onItemClick,o=e.size,i=e.skin,l=e.type,s=e.isUppercase,u=e.tooltipPlacement,h=e.iconSize,y=e.showOnlyTooltip,v=e.useLink,E=0,S=t.map((function(e,t){var l=e.disabled,b=e.value===n;E=b?t:0;var S=p.a.WHITE,O=p.a.LIGHT_GREY;switch(i){case p.a.BLUE:S=p.a.WHITE,O=p.a.LIGHT_GREY;break;case p.a.GREY:S=p.a.DARK_GREY,O=p.a.LIGHT_GREY;break;case p.a.BLACK:S=p.a.WHITE,O=p.a.LIGHT_GREY;break;case p.a.WHITE_GREY:S=p.a.DARK_GREY,O=p.a.LIGHT_GREY}var C=h||(o===d.a.SMALL?d.a.MEDIUM:d.a.LARGE),w=e.svgIcon?r.a.createElement("div",{className:m.a.icon},r.a.createElement(c.a,{size:C,skin:b?S:O},e.svgIcon)):null,T=e.tooltip?r.a.createElement(f.b,{title:e.tooltip,placement:u,preWrap:!0,width:"400px"},r.a.createElement("sup",{className:m.a.help},"?")):null,k=y?null:r.a.createElement("span",{className:g("label",{isUppercase:s})},e.text,T),I=void 0;return I=v?r.a.createElement("a",{key:e.value,className:g("tab","tab-"+e.value,{selected:b,disabled:l,showOnlyTooltip:y}),href:e.href},w,k):r.a.createElement("div",{key:e.value,className:g("tab","tab-"+e.value,{selected:b,disabled:l,showOnlyTooltip:y}),onClick:function(){b||l||a(e.value)}},w,k),y?r.a.createElement(f.b,{key:e.value,title:e.tooltip||e.text,placement:u},I):I})),O="calc(100% / "+S.length+" * "+E+")",C="calc(100% / "+S.length+" - "+(l===b.a.SWITCH?8:0)+"px)";return r.a.createElement("div",{className:g("tabsContainer",o,i,l)},r.a.createElement("div",{className:m.a.select,style:{left:O,width:C}}),S)};y.propTypes={items:i.a.arrayOf(i.a.shape({value:i.a.string,text:i.a.string,svgIcon:i.a.node,href:i.a.string,disabled:i.a.bool})).isRequired,selectedTab:i.a.string,onItemClick:i.a.func.isRequired,size:i.a.oneOf([d.a.NORMAL,d.a.LARGE,d.a.SMALL]),skin:i.a.oneOf([p.a.BLUE,p.a.GREY,p.a.BLACK,p.a.WHITE_GREY]),type:i.a.oneOf([b.a.SWITCH,b.a.BOTTOM_LINE,b.a.TOP_LINE]),isUppercase:i.a.bool,tooltipPlacement:i.a.oneOf([u.a.TOP,u.a.BOTTOM,u.a.LEFT,u.a.RIGHT]),iconSize:i.a.oneOf([d.a.MEDIUM,d.a.LARGE,d.a.SMALL,d.a.XSMALL]),showOnlyTooltip:i.a.bool,useLink:i.a.bool},y.defaultProps={selectedTab:null,size:d.a.NORMAL,skin:p.a.BLUE,type:b.a.SWITCH,isUppercase:!1,tooltipPlacement:u.a.BOTTOM,iconSize:null,showOnlyTooltip:!1,useLink:!1},t.a=y},644:function(e,t,n){"use strict";t.a={LOCK:"lock"}},645:function(e,t,n){"use strict";t.a={MENU_HEIGHT:56}},647:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(0),i=n.n(o),l=n(50),s=n.n(l),c=n(1013),u=n.n(c),d=n(7),p=i.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 16 16"},i.a.createElement("g",{fillRule:"evenodd"},i.a.createElement("path",{d:"M7,7 L10,7 L10,6.4 C10,5.0745166 9.1045695,4 8,4 C7.33082483,4 6.73840852,4.39437255 6.37534912,5 L4.12601749,5 C4.57006028,3.27477279 6.13616057,2 8,2 C10.209139,2 12,3.790861 12,6 L12,7 C12.5522847,7 13,7.44771525 13,8 L13,13 C13,13.5522847 12.5522847,14 12,14 L4,14 C3.44771525,14 3,13.5522847 3,13 L3,8 C3,7.44771525 3.44771525,7 4,7 L7,7 Z"}))),f=i.a.createElement("svg",{viewBox:"0 0 16 16"},i.a.createElement("g",{fillRule:"evenodd"},i.a.createElement("path",{d:"M6,7 L10,7 L10,6.4 C10,5.0745166 9.1045695,4 8,4 C6.8954305,4 6,5.0745166 6,6.4 L6,7 Z M12,7 C12.5522847,7 13,7.44771525 13,8 L13,13 C13,13.5522847 12.5522847,14 12,14 L4,14 C3.44771525,14 3,13.5522847 3,13 L3,8 C3,7.44771525 3.44771525,7 4,7 L4,6 C4,3.790861 5.790861,2 8,2 C10.209139,2 12,3.790861 12,6 L12,7 Z"}))),h=n(17),m=n(570),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=s.a.bind(u.a),v=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onClick=function(){a.props.onClick()},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),b(t,[{key:"getIcon",value:function(){var e=this.props,t=e.isChecked;switch(e.icon){case"lock":return t?f:p;default:return null}}},{key:"render",value:function(){var e=this.props,t=e.isChecked,n=e.skin,a=e.extraStyle,r=e.size,o=e.onMouseDown;return i.a.createElement("div",{className:y(u.a.iconSwitchButton,n),style:a,onMouseDown:o},i.a.createElement("label",null,i.a.createElement("input",{type:m.a.CHECKBOX,name:"switch-button",className:u.a.switchButtonCheckbox,onChange:this.onClick,checked:t}),i.a.createElement("span",{className:y(u.a.switchButtonBackground,n)},i.a.createElement("span",{className:y("switchButton",{checked:t},r)},this.getIcon()))))}}]),t}(o.Component);v.propTypes={skin:r.a.oneOf([d.a.BLUE]),size:r.a.oneOf([h.a.MEDIUM]),extraStyle:r.a.object,isChecked:r.a.bool,onClick:r.a.func,icon:r.a.string,onMouseDown:r.a.func},v.defaultProps={skin:d.a.BLUE,size:h.a.MEDIUM,extraStyle:{},isChecked:!1,onClick:function(){},icon:"",onMouseDown:function(){}};t.a=v},648:function(e,t,n){"use strict";var a=n(430),r=n(399),o=n(689),i=function(e,t){return{width:96,height:96*t/e}},l=n(391),s=n(456),c=n(479),u=n(652),d=n(742),p=n(924);n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return g}));var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h=function(e,t,n){return function(r,l){var s=l().bannerCreator.editor.banner.banner,u=s.width,d=s.height,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.type,a=void 0,r=e.id,l=e.source,s=e.width,c=e.height,u=e.hqUrl,d=e.svgContent,p=e.tags,f=e.elementCategory,h=i(s,c),m=h.width,b=h.height,g=m/2,y=b/2,v={left:g,top:y};a={type:n,mouseOffset:v};var E=e.imagePath,S=e.originalWidth,O=e.originalHeight,C=e.download,w=s,T=c,k=t.stageWidth,I=t.stageHeight;if(k&&I){var L=Object(o.a)(e,k,I),P=L.width,M=L.height;w=P,T=M}var R={id:r,source:l,thumbUrl:E,url:C||E,width:w,height:T,originalWidth:S,originalHeight:O,hash:e.hash,hqUrl:u,svgContent:d,tags:p,elementCategory:f};return{layerType:n,dragData:a=Object.assign({},a,R)}}(t,{stageWidth:u,stageHeight:d}),f=p.layerType,h=p.dragData;r({type:a.qb,payload:{layerType:f,dragData:h,initialMousePos:n}}),r(Object(c.b)(e,t,!0))}},m=function(){return{type:a.p}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a){var o=a().bannerCreator,i=o.editor.drag,h=i.layerType,m=i.replaceElementData,b=o.editor.stage.zoom;if(h){var g={x:Math.round((e.x-m.width*b/2)/b),y:Math.round((e.y-m.height*b/2)/b)};if(h===l.b.IMAGE||h===l.b.SVG){var y=m.merge(g).toObject();if(m.svgContent){var v=f({},y,{layerType:h,bgColor:d.a.BLACK,type:u.a.ELEMENT});n(Object(c.a)(v))}else{var E=y.url,S=f({},y,{layerType:h});p.b.includes(S.source)&&Object.assign(S,{imagePath:E,download:E}),n(Object(r.a)(h,y))}}else h===l.b.TEXT_PRESET&&n(Object(s.j)(t.draggingTextPresetHash,g))}}},g=function(e){return{type:a.Cb,payload:{elementId:e}}}},671:function(e,t,n){"use strict";var a=n(65),r=n(618),o=n(511),i=n(564),l=n(433),s=n(56),c=Object(a.createSelector)([function(e){return e.bannerCreator.workspace.data.favorites},function(e){return e.bannerCreator.contentLibrary.search},function(e){return e.bannerCreator.contentLibrary.selectedElementsPanelItem},function(e){return e.bannerCreator.generator.sidebar.activeElement},function(e){return Object(l.a)(e)===s.a.EDITOR}],(function(e,t,n,a,l){var s=l?n===o.a.FAVORITES:a===o.a.FAVORITES;return(t.value||t.filter!==i.a.ALL)&&s?Object(r.a)(t,e,o.a.FAVORITES):e}));t.a=c},673:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(388),s=n(50),c=n.n(s),u=n(918),d=n(541),p=n(587),f=n(471),h=n(565),m=n(393),b=n(637),g=n(17),y=n(7),v=n(392),E=n(986),S=n.n(E),O=n(387),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=c.a.bind(S.a),k=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=w(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.copyColorToClipboard=function(){a.refColorCode&&a.refColorCode.copyColorToClipboard()},w(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),C(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.showColorPickerTool,a=t.color,o=t.onColorChange,i=t.onColorPickerOk,l=t.onColorPickerCancel,s=t.disabled,c=t.withHover,E=null,S=void 0,C=!0,w="";if(a)if("string"!=typeof a){var k=a.first();S=k||"#000000",a.size>1?C=!1:w=k||""}else S=a,w=a;else C=!1,S="#000000";if(n){var I=Object.assign({width:"306px",top:"0"});E=r.a.createElement(p.a,{refElement:this.refFixedElement},r.a.createElement(h.a,{style:I},r.a.createElement(d.a,{color:S,onChange:o,onOk:i,onCancel:l})))}return r.a.createElement("div",{className:T("colorPickerGroup",{disabled:s}),ref:function(t){e.refFixedElement=t}},r.a.createElement(b.a,{color:a||"#000000",onClickHandler:l,withHover:c}),r.a.createElement("div",null,r.a.createElement(u.a,{width:"64px",color:w,onChange:o,ref:function(t){e.refColorCode=t},selectTextOnFocus:!0})),C?r.a.createElement(v.b,{title:O.a.copyColor,placement:m.a.RIGHT},r.a.createElement("span",null,r.a.createElement(f.a,{iconSize:g.a.LARGE,skin:y.a.ACTIVE_GREY,icon:"copyToClipboard",width:"28px",height:"28px",onClickHandler:this.copyColorToClipboard}))):null,E)}}]),t}(a.Component);k.propTypes={color:i.a.oneOfType([i.a.string,i.a.instanceOf(l.List)]),disabled:i.a.bool,onColorChange:i.a.func,onColorPickerOk:i.a.func,onColorPickerCancel:i.a.func,showColorPickerTool:i.a.bool,withHover:i.a.bool},k.defaultProps={color:"#000",disabled:!1,onColorChange:function(){},onColorPickerOk:function(){},onColorPickerCancel:function(){},showColorPickerTool:!1,withHover:!0},t.a=k},674:function(e,t,n){"use strict";t.a={EaseOut:"easeOut",EaseIn:"easeIn",EaseInOut:"easeInOut",Linear:"linear"}},675:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(517),r=function(e,t,n){return{type:a.h,payload:{buildType:e,transition:t,layer:n}}}},676:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(388),s=n(50),c=n.n(s),u=n(467),d=n(447),p=n(391),f=n(413),h=n(428),m=n(801),b=n(580),g=n(1003),y=n.n(g),v=n(397),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var S=c.a.bind(y.a),O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),E(t,[{key:"render",value:function(){var e=this.props,t=e.zoom,n=e.element,a=n.blur,o=n.fillColor,i=n.dropShadow,l=n.opacity,s=n.svgObject,c=n.flip,u=Object(v.c)(s,o),d=Object.assign(Object(h.q)(l),Object(h.j)({blur:a,dropShadow:i},t),Object(h.k)({flip:c}));return r.a.createElement("div",{className:S("element","clipart"),style:d},u)}}]),t}(a.Component);O.propTypes={element:i.a.instanceOf(b.a).isRequired,zoom:i.a.number},O.defaultProps={zoom:1};var C=O,w=n(1406),T=n.n(w),k=n(556),I=n(1004),L=n.n(I),P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];function r(){t(this.naturalWidth,this.naturalHeight,a)}var o="";e&&(o=Object(v.t)(e)?e:"//cdn.bannersnack.com/files/"+e);var i=new window.Image;return i.onload=r,n&&(i.onerror=n),i.src=o.match(/https?:\/\/$/g)?"":o,i},M=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var x=c.a.bind(L.a),D=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=R(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={imageLoaded:!1},a.populateIframe=function(){var e=a.props.element,t=e.width,n=e.height,r=e.margin,o=e.code,i='<style type="text/css">\n            html,\n            body {\n                margin: 0;\n                overflow: hidden;\n                padding: 0;\n            }\n            '+(e.autoResize?"body *:first-child { width: "+(t-2*r)+"px; height: "+(n-2*r)+"px; }":"")+"\n            </style>",l=a.iframe.contentWindow.document;l.open(),l.write(""+i+o),l.close()},a.imageLoaded=function(e){var t=a.props.element.backgroundColor.originalWidth;a.imgWidth=t||e,e!==t&&0!==e&&a.props.updateElementProps({props:{originalWidth:e}}),a.setState({imageLoaded:!0})},R(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),M(t,[{key:"componentDidMount",value:function(){var e=this.props.element.backgroundColor;e.originalWidth?this.imageLoaded(e.originalWidth,e.originalHeight):P(e.url,this.imageLoaded,this.imageLoadError),this.populateIframe()}},{key:"componentWillReceiveProps",value:function(e){var t=e.element.backgroundColor,n=t.type,a=t.url;"image"===n&&a&&this.props.element.backgroundColor.url!==a&&(this.setState({imageLoaded:!1}),P(a,this.imageLoaded,this.imageLoadError))}},{key:"shouldComponentUpdate",value:function(e,t){return T()(this,e,t)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.orderId,a=this.props.element,r=a.width,o=a.height,i=a.code,l=a.autoResize,s=e.element,c=s.width,u=s.height,d=s.code;(n!==e.orderId||i!==d||l&&(r!==c||o!==u))&&(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout((function(){t.populateIframe(!0)}),500))}},{key:"render",value:function(){var e=this,t=this.props.element,n=t.width,a=t.height,o=t.backgroundColor,i=t.blur,l=t.dropShadow,s=t.adjustColor,c=t.opacity,u=t.margin,d=t.useBorder,p=t.borderColor,f=t.id,m=this.props.zoom,b=Object.assign(o.toJS(),{originalWidth:this.state.imageLoaded&&this.imgWidth?this.imgWidth:0}),g="none",y=n-2*u,v=a-2*u;d&&(g="1px solid "+p);var E=Object.assign(Object(h.q)(c),Object(h.j)({blur:i},m),Object(h.i)(l,m)),S=Object.assign({},Object(h.g)(b,0,m),Object(h.j)({adjustColor:s},m),{padding:Math.round(u*m)+"px",border:g});return r.a.createElement("div",{className:x("element","outerElement","embedElement"),style:E},r.a.createElement("div",{className:x("innerElement","embedCodeContainer"),style:S},r.a.createElement("iframe",{title:"Embed "+f,ref:function(t){e.iframe=t},allowFullScreen:!0,frameBorder:"0",style:{transformOrigin:"0 0",transform:"scale("+m+")",width:y+"px",height:v+"px"}})))}}]),t}(a.Component);D.propTypes={element:i.a.instanceOf(k.a).isRequired,zoom:i.a.number,orderId:i.a.number.isRequired,updateElementProps:i.a.func},D.defaultProps={zoom:1,updateElementProps:function(){}};var j=D,N=n(395),A=n(17),_=n(7),B=n(594),H=n(544),U=n(508),z=n(1005),G=n.n(z),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var V=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=W(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={imageLoaded:!1,imageLoadError:!1},a.img={},a.imgWidth=0,a.imageLoaded=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=a.props.element,o=r.id,i=r.originalWidth,l=r.originalHeight;a.imgWidth=e,e!==i&&t!==l&&0!==e&&0!==t&&a.props.updateElementProps({id:o,props:{originalWidth:e,originalHeight:t}},{skipHistory:n,changeCropData:!0}),a.setState({imageLoaded:!0,imageLoadError:!1})},a.imageLoadError=function(){a.setState({imageLoadError:!0})},W(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),F(t,[{key:"componentWillMount",value:function(){this.img=P(this.props.element.url,this.imageLoaded,this.imageLoadError,!0)}},{key:"componentWillReceiveProps",value:function(e){var t=e.element.url;this.imgWidth=this.imgWidth?this.imgWidth:this.props.element.originalWidth,t&&this.props.element.url!==t&&(this.img=P(t,this.imageLoaded,this.imageLoadError))}},{key:"componentWillUnmount",value:function(){this.img.onload=null,this.img.onerror=null}},{key:"render",value:function(){var e=this.props.element,t=e.url,n=e.hqUrl,a=e.opacity,o=e.scaleMode,i=e.horizontalAlign,l=e.verticalAlign,s=e.flip,c=e.contentOffsetX,u=e.contentOffsetY,d=e.contentScale,p=e.dropShadow,f=e.blur,m=e.adjustColor,b=e.x,g=e.y,y=e.cropData,v=e.id,E=e.width,S=e.height,O=this.props,C=O.zoom,w=O.cropElementId,T={type:"image",url:t,hqUrl:n,loadError:this.state.imageLoadError,originalWidth:this.imgWidth,scaleMode:o,horizontalAlign:i,verticalAlign:l,contentOffsetX:c,contentOffsetY:u,contentScale:d,dropShadow:p,blur:f,adjustColor:m},k=!w||w!==v,I=Object.assign(Object(h.g)(T,0,C),{transition:"none"}),L=Object.assign(Object(h.q)(a),Object(h.j)({adjustColor:m},C),Object(h.k)({flip:s}));if(k&&Object.assign(L,Object(h.j)({blur:f,dropShadow:p,adjustColor:m},C)),o===H.a.CROP&&k){var P=s===B.a.BOTH||s===B.a.HORIZONTAL,M=s===B.a.BOTH||s===B.a.VERTICAL,R=(P?b+E-(b+y.x+y.width):y.x)*C,x=(M?g+S-(g+y.y+y.height):y.y)*C;Object.assign(I,{width:Math.round(y.width*C),height:Math.round(y.height*C)},Object(h.k)({translate:{x:Math.round(R),y:Math.round(x)}}))}var D=this.state.imageLoaded||this.state.imageLoadError?null:r.a.createElement("div",{className:G.a.preloaderContainer},r.a.createElement(N.a,{type:A.a.SMALL,skin:_.a.SEMI_TRANSPARENT_WHITE,className:G.a.container}));return r.a.createElement("div",{className:G.a.wrapperElement,style:L},r.a.createElement("div",{className:G.a.element,style:I},D))}}]),t}(a.Component);V.propTypes={element:i.a.instanceOf(U.a).isRequired,zoom:i.a.number,updateElementProps:i.a.func,cropElementId:i.a.number},V.defaultProps={zoom:1,updateElementProps:function(){},cropElementId:null};var q=V,K=n(418),Y=n(554),X=n(1006),Z=n.n(X),J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Q=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},$=c.a.bind(Z.a),ee=function(e){var t=e.element,n=t.backgroundColor,o=t.backgroundColor,i=o.scaleMode,l=o.originalWidth,s=o.originalHeight,c=o.url,d=o.type,p=t.border,f=t.type,m=t.color,b=t.opacity,g=t.blur,y=t.dropShadow,v=t.flip,E=t.cropData,S=t.id,O=t.x,C=t.y,w=t.width,T=t.height,k=t.visible,I=e.zoom,L=e.cropElementId,M=e.updateElementProps,R=Object(a.useState)({imageLoaded:!1,imageLoadError:!1}),x=Q(R,2),D=x[0],j=x[1];Object(a.useEffect)((function(){var e=!0;return d===u.a.IMAGE&&c&&P(c,(function(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(w!==l&&T!==s&&0!==w&&0!==T&&M({id:S,props:{backgroundColor:{originalWidth:t,originalHeight:n}}},{skipHistory:a,changeCropData:!0}),j((function(e){return J({},e,{imageLoaded:!0,imageLoadError:!1})})))}),(function(){e&&j((function(e){return J({},e,{imageLoadError:!0})}))}),!0),function(){e=!1}}),[d,c,M,S,s,l,w,T]);var U=Object.assign(n.toJS(),{loadError:D.imageLoadError,originalWidth:D.imageLoaded&&l?l:0}),z=Object.assign({overflow:"hidden",transition:"none"},Object(h.q)(b),Object(h.k)({flip:v})),G=!L||L!==S;G&&Object.assign(z,Object(h.h)(p.weight,p.color,I),Object(h.f)(p.radius,f===K.a.CIRCLE,I),Object(h.l)(m),Object(h.j)({blur:g,dropShadow:y},I));var F=Object.assign({},Object(h.g)(U,p.weight,I),{transition:"none"});if(i===H.a.CROP&&G){var W=v===B.a.BOTH||v===B.a.HORIZONTAL,V=v===B.a.BOTH||v===B.a.VERTICAL,q=I*(W?O+w-(O+E.x+E.width)-p.weight:E.x-p.weight),Y=I*(V?C+T-(C+E.y+E.height)-p.weight:E.y-p.weight);Object.assign(F,Object(h.k)({translate:{x:Math.round(q),y:Math.round(Y)}}),{width:Math.round(E.width*I),height:Math.round(E.height*I)})}var X=Object(h.m)(G?O:E.x,G?C:E.y,G?w:E.width,G?T:E.height,k,I);Object.assign(z,X);var ee=d!==u.a.IMAGE||!c||D.imageLoaded||D.imageLoadError?null:r.a.createElement("div",{className:Z.a.preloaderContainer},r.a.createElement(N.a,{type:A.a.SMALL,skin:_.a.SEMI_TRANSPARENT_WHITE,className:"container"}));return r.a.createElement("div",{className:$("shapeWrapper"),style:z},r.a.createElement("div",{className:$("element","shapeElement"),style:F},ee))};ee.propTypes={element:i.a.instanceOf(Y.a).isRequired,zoom:i.a.number,cropElementId:i.a.number,updateElementProps:i.a.func},ee.defaultProps={zoom:1,cropElementId:null,updateElementProps:function(){}};var te=ee,ne=n(529),ae=n(759),re=n(1007),oe=n.n(re),ie=n(743),le=n(764),se=n(744),ce=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ue(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var de=c.a.bind(oe.a),pe=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=ue(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={svg:null,svgLoadStatus:ie.a.LOADING},a.onSvgReqLoad=function(e,t){var n=a.props,r=n.element.colorGroups,o=n.readOnly;(!r.size&&!o||t)&&a.setElementColorGroups(e),a.setState({svg:e,svgLoadStatus:ie.a.LOADED})},a.onSvgReqError=function(){a.setState({svgLoadStatus:ie.a.ERROR})},a.setElementColorGroups=function(e){var t=Object(le.a)(e);a.props.setColorGroups(a.props.element.id,t)},a.coloredSvg=null,a.generateColoredSvg=function(e,t){a.props.readOnly?a.coloredSvg=e:a.coloredSvg=Object(se.a)(e,t)},ue(a,n)}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ce(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.element.url,n=e.svg;t?this.getSvgContentFromUrl(t):n?this.onSvgReqLoad(n,!1):this.onSvgReqError()}},{key:"componentWillUpdate",value:function(e,t){var n=e.element,a=e.readOnly,r=this.props,o=r.element,i=r.readOnly,l=r.svg;if(i&&!a)n.url?this.getSvgContentFromUrl(n.url,!0):e.svg&&this.onSvgReqLoad(e.svg,!0);else{var s=n.url!==o.url&&n.url,c=e.svg!==l;s?this.getSvgContentFromUrl(n.url,!1):c?this.onSvgReqLoad(e.svg,!1):o.url&&!n.url&&e.svg?this.onSvgReqLoad(e.svg,!0):!o.url&&!l||n.url||e.svg||this.onSvgReqError()}t.svg===this.state.svg&&e.element.colorGroups===this.props.element.colorGroups||this.generateColoredSvg(t.svg,e.element.colorGroups)}},{key:"getSvgContentFromUrl",value:(n=regeneratorRuntime.mark((function e(t,n){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({svg:null,svgLoadStatus:ie.a.LOADING}),e.prev=1,e.next=4,fetch("//s3.amazonaws.com/newfiles.bannersnack.net/files/"+t);case 4:if(!(a=e.sent).ok){e.next=12;break}return e.next=8,a.text();case 8:r=e.sent,this.onSvgReqLoad(r,n),e.next=13;break;case 12:this.onSvgReqError();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),this.onSvgReqError();case 18:case"end":return e.stop()}}),e,this,[[1,15]])})),a=function(){var e=n.apply(this,arguments);return new Promise((function(t,n){return function a(r,o){try{var i=e[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(l)}("next")}))},function(e,t){return a.apply(this,arguments)})},{key:"getSvgImage",value:function(){return r.a.createElement("img",{className:oe.a.svgImg,src:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(this.coloredSvg),alt:""})}},{key:"render",value:function(){var e=this.props,t=e.zoom,n=e.element,a=n.opacity,o=n.dropShadow,i=n.blur,l=n.flip,s=this.state.svgLoadStatus,c=Object.assign({},Object(h.j)({blur:i,dropShadow:o},t),Object(h.k)({flip:l}),Object(h.q)(a)),u=void 0;switch(s){case ie.a.ERROR:u=this.constructor.getErrorImage();break;case ie.a.LOADED:u=this.getSvgImage();break;case ie.a.LOADING:default:u=this.constructor.getPreloader()}return r.a.createElement("div",{className:de("element","svg"),style:c},u)}}],[{key:"getPreloader",value:function(){return r.a.createElement(N.a,{type:A.a.SMALL,skin:_.a.SEMI_TRANSPARENT_WHITE,className:oe.a.preloader})}},{key:"getErrorImage",value:function(){return r.a.createElement("div",{className:de("svgContainer","error"),style:{backgroundImage:'url("'+ae.a.imageNotFound+'")'}})}}]),t}(a.Component);pe.propTypes={element:i.a.instanceOf(ne.a).isRequired,svg:i.a.string,zoom:i.a.number,readOnly:i.a.bool,setColorGroups:i.a.func},pe.defaultProps={svg:null,readOnly:!1,setColorGroups:function(){},zoom:1};var fe=pe,he=n(553),me=n(1008),be=n.n(me),ge=n(417),ye=n(672),ve=n(653),Ee=n(705),Se=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))},Oe=function(e,t,n){return e.substring(t,t+n)},Ce=function(e){if(!e)return e;for(var t="",n=!0,a=0;a<e.length;a++){var r=e[a];" "===r?n?(r=String.fromCharCode(160),n=!1):n=!0:n=!1,t+=r}return t},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return"";var t=e.toJS(),n="";for(var a in t)if(a in t&&t[a])switch(a){case"fontFamily":var r=0===t[a].indexOf('"')?t[a]:'"'+(t.fontPrefix||"")+t[a]+'"';n+="font-family:"+r+";";break;case"fontWeight":case"fontStyle":case"color":case"textTransform":case"textDecoration":var o=Se(a);n+=o+":"+t[a]+";"}return n},Te=function(e){if(!e)return"";var t=e.toJS(),n={};for(var a in t)if(a in t&&t[a])switch(a){case"fontType":case"fontUrl":case"fontFaceUrl":n[a]=t[a]}return Object(Ee.a)(n)?"":JSON.stringify(n)},ke=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=document.createElement(t),l=we(a),s=Te(a);return l&&i.setAttribute("style",l),s&&i.setAttribute("data-font-props",s),t===ve.a.DIV&&i.setAttribute("class","row"),o&&o.size?(o.forEach((function(t){var n=t.offset,a=t.length,o=t.nodeType,l=t.style;i.appendChild(e(o,Oe(r,n,a),l))})),i):(n||t!==ve.a.DIV?t===ve.a.DIV?i.appendChild(e(ve.a.SPAN,n)):i.textContent=Ce(n):i.appendChild(document.createElement("BR")),i)},Ie=function(e,t){var n;n=e.replace(/\n/g,"");var a=document.createElement("div");return t.forEach((function(t){var r=t.offset,o=t.length,i=t.nodeType,l=t.style,s=t.children;0===r&&o===e.length?a.appendChild(ke(i,n,l,n,s)):a.appendChild(ke(i,Oe(n,r,o),l,n,s))})),a.innerHTML},Le=n(899),Pe=function(e){return e.replace(/(\-[a-z])/g,(function(e){return e.replace("-","").toUpperCase()}))},Me=function(e){for(var t="",n=0;n<e.length;n++){var a=e[n],r=void 0;"color"===a.name?r="color":"face"===a.name&&(r="font-family"),r&&(t=t+";"+r+":"+a.value)}return t},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e&&!t)return null;var n={},a=e.replace(/; /g,";").replace(/: /g,":").split(";");if(a.forEach((function(e){if(e.length){var t=e.split(":"),a=t[0],r=t[1];switch(a){case"color":if(-1===r.indexOf("rgb(")){n.color=r;break}var o=r.substring(r.indexOf("(")+1,r.lastIndexOf(")")).split(/,\s*/);n.color="#"+Object(v.a)(o[0],o[1],o[2]);break;case"font-family":n[Pe(a)]=r.replace(/"/g,"");break;case"font-style":case"text-transform":case"text-decoration":n[Pe(a)]=r;break;case"font-weight":n[Pe(a)]=parseInt(r)}}})),t){var r=JSON.parse(t);for(var o in r)o in r&&r[o]&&(n[o]=r[o])}return Object(Ee.a)(n)?null:n},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");n.innerHTML=e;var a=[].slice.call(n.childNodes);n.innerHTML="";var r=[],o="";return a.forEach((function(e){var t=e.style?e.style.cssText:"",n=e.dataset?e.dataset.fontProps:"",a=[].slice.call(e.childNodes),i={nodeType:ve.a.DIV,offset:o.length},l=[];1===a.length&&"BR"===a[0].nodeName?i.length=0:(a.forEach((function(e){var n=[].slice.call(e.childNodes);if(1===n.length&&"BR"===n[0].nodeName)i.length=0,t=""+t+e.style.cssText;else if(1===a.length&&"FONT"===a[0].nodeName)i.length=e.textContent.length,t=""+t+Me(e.attributes);else{var r=null,s="",c={offset:o.length,nodeType:ve.a.SPAN};switch(e.nodeName){case"SPAN":case"B":case"I":o+=e.textContent,c.length=e.textContent.length,r=e.style.cssText,s=e.dataset.fontProps;break;case"#text":o+=e.textContent,c.length=e.textContent.length;break;default:o+=e.textContent}l.push(Object.assign(c,{style:r?Re(r,s):null}))}})),"length"in i||!e||!e.textContent||(i.length=e.textContent.length)),r.push(Object.assign(i,{style:t?Re(t,n):null,children:l.length?l:null}))})),t?r.reduce((function(e,t){return e.push(new Le.a(t))}),new l.List):r},De=function(e,t){var n=0;return e.forEach((function(e){var a=e.style,r=e.children;a&&(n=Math.max(n,parseInt(a[t])||0)),r&&r.forEach((function(e){var a=e.cStyle;a&&(n=Math.max(n,parseInt(a[t])||0))}))})),n},je=n(557),Ne=function(e){var t=window.getSelection();if(!t||!t.rangeCount)return null;try{var n={},a=t.getRangeAt(0);if(!function e(t){return!!t&&(!(!t.dataset||!t.dataset.elementText)||!!t.parentNode&&e(t.parentNode))}(a.startContainer))return new je.a;var r=a.cloneRange();return r.selectNodeContents(e),r.setEnd(a.endContainer,a.endOffset),n.end=r.toString().length,r.setStart(a.startContainer,a.startOffset),n.start=n.end-r.toString().length,new je.a({offset:n.start,length:n.end-n.start,range:r})}catch(e){return null}},Ae=n(1407),_e=n.n(Ae);function Be(e,t){var n=window.getSelection();e.focus(),n.removeAllRanges(),n.addRange(t)}var He=function(e,t){var n=t.end&&t.end!==t.start,a=0,r=document.createRange(),o=_e()(e).select(window.Node.TEXT_NODE).revisit(!1),i=void 0,l=void 0,s=t.start>e.textContent.length?e.textContent.length:t.start,c=t.end>e.textContent.length?e.textContent.length:t.end;for(i=o.next();i;){var u=a;if(a+=i.textContent.length,!l&&a>=s&&(l=!0,r.setStart(i,s-u),!n)){r.collapse(!0),Be(e,r);break}if(n&&a>=c){r.setEnd(i,c-u),Be(e,r);break}i=o.next()}},Ue=n(902),ze=n(482),Ge=n(640),Fe=n(579),We=n(571),Ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function qe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ke=c.a.bind(be.a),Ye=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=qe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={isFocused:!1},a.onKeyUp=function(e){a.ignoreNextTextSelection&&(a.ignoreNextTextSelection=!1,a.setSelection()),a.state.isFocused&&(e.stopPropagation(),e.keyCode===ge.a.escape)?a.setState({isFocused:!1}):a.updateText()},a.onKeyDown=function(e){var t=e.keyCode,n=e.ctrlKey||e.metaKey,r=e.shiftKey,o=a.props,i=o.allowIBShortcuts,l=o.textSelection;a.ignoreNextTextSelection=!0;var s=l&&null!==l.offset&&null!==l.length;switch(t){case ge.a.escape:i(!0),a.state.isFocused&&e.stopPropagation();break;case ge.a.b:case ge.a.u:case ge.a.i:n&&s&&(e.preventDefault(),e.stopPropagation());break;case ge.a.backspace:case ge.a.delete:var c=a.refText.textContent,u=c.length;(!u||1===u&&"\n"===c)&&e.preventDefault();break;case ge.a.enter:r&&e.preventDefault();break;case ge.a.pageUp:var d=r?l.offset:0;He(a.refText,{start:0,end:d}),e.preventDefault();break;case ge.a.pageDown:var p=a.refText.textContent.length,f=r?l.offset:p;He(a.refText,{start:f,end:p}),e.preventDefault()}},a.onMouseUp=function(e){if(0===e.button){var t=a.props,n=t.element.lockedProperties,r=t.isOnlySelected,o=t.isAnimating,i=a.state.isFocused;a.mouseUpTimeout&&a.clearMouseUpTimeout();var l=n.includes(Fe.a.TEXT);i||e.ctrlKey||o||!r||l||(a.setState({isFocused:!0}),a.mouseUpTimeout||(a.mouseUpTimeout=setTimeout((function(){var e=a.refText.textContent.length;He(a.refText,{start:e})}))))}},a.onMouseDown=function(e){a.state.isFocused&&e.stopPropagation(),(e.ctrlKey||e.metaKey||e.shiftKey)&&a.setState({isFocused:!1})},a.onBlur=function(){var e=a.props,t=e.setTextSelection,n=e.allowIBShortcuts;t(null),n(!0),a.setState({isFocused:!1}),a.clearMouseUpTimeout()},a.onTextPaste=function(e){Object(h.A)(e),a.updateText()},a.onTextCut=function(){setTimeout((function(){a.updateText()}),0)},a.setSelection=function(){if(!a.ignoreNextTextSelection&&a.state.isFocused){var e=Ne(a.refText);a.props.setTextSelection(e)}},a.setIsFocused=function(){a.setState({isFocused:!0})},a.clearMouseUpTimeout=function(){clearTimeout(a.mouseUpTimeout),a.mouseUpTimeout=null},a.ignoreNextTextSelection=!1,a.ignoreUpdateOnNextTextChange=!1,a.mouseUpTimeout=null,a.computeHeight=function(){var e=a.props,t=e.element,n=t.config,r=t.height,o=e.zoom;if(!a.refText)return r;var i=De(n,"lineHeight"),l=De(n,"fontSize"),s=[].slice.call(a.refText.childNodes).reduce((function(e,t){return e+t.offsetHeight}),0);return Math.round(Math.max(s/o,i*l))},a.updateText=function(){var e=a.props,t=e.element,n=e.updateElementProps,r=a.refText.innerHTML,o=a.refText.innerText,i=o.length-1;if("\n"===o[i]&&(o=o.substring(0,i)),o!==t.text){a.ignoreUpdateOnNextTextChange=!0;var l=xe(r,!0),s=We.a.LTR;o&&(s=Object(We.b)(o)),n({id:t.id,props:{height:a.computeHeight(),layerName:Object(h.d)(t,o),text:o,config:l,textDirection:s}})}},a.updateHeight=function(){var e=a.props,t=e.element,n=t.id,r=t.height,o=e.updateElementProps,i=a.computeHeight();i!==r&&o({id:n,props:{height:i}},{skipHistory:!0})},qe(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ve(t,[{key:"componentDidMount",value:function(){this.props.readOnly||(this.updateHeight(),this.refText.addEventListener("paste",this.onTextPaste),this.refText.addEventListener("blur",this.onBlur,!0),this.refText.addEventListener("cut",this.onTextCut,!0),document.addEventListener("selectionchange",this.setSelection)),this.loadAllFonts(this.updateHeight)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.isOnlySelected||this.setState({isFocused:!1});var n=e.element,a=this.props.element;e.readOnly||a.fontSize===n.fontSize&&a.letterSpacing===n.letterSpacing&&a.lineHeight===n.lineHeight&&JSON.stringify(a.config)===JSON.stringify(n.config)||setTimeout((function(){t.updateHeight()}))}},{key:"shouldComponentUpdate",value:function(e,t){if(!t.isFocused)return!0;if(e.readOnly||t.isFocused!==this.state.isFocused||e.zoom!==this.props.zoom)return!0;var n=this.props.element,a=n.toObject(),r=e.element;if(r.text&&n.textDirection!==r.textDirection||!n.text&&r.text)return!0;if(this.ignoreUpdateOnNextTextChange&&r.text!==n.text)return this.ignoreUpdateOnNextTextChange=!1,!1;for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o)&&"text"!==o&&"height"!==o&&"layerName"!==o&&r[o]!==n[o])return!0;return!1}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.element.config,a=t.textSelection,r=a.offset,o=a.length;JSON.stringify(e.element.config)!==JSON.stringify(n)&&(null!==r&&null!==o&&(this.state.isFocused||this.setIsFocused(),Ue.c||He(this.refText,{start:r,end:r+o})),this.loadAllFonts(this.updateHeight))}},{key:"componentWillUnmount",value:function(){this.props.readOnly||(this.refText.removeEventListener("paste",this.onTextPaste),this.refText.removeEventListener("blur",this.onBlur,!0),this.refText.removeEventListener("cut",this.onTextCut,!0),document.removeEventListener("selectionchange",this.setSelection))}},{key:"loadAllFonts",value:function(e){var t=this;this.props.element.config.forEach((function(n){var a=n.style,r=n.children;t.loadFontFromConfigStyle(a,e),r&&r.forEach((function(n){var r=a&&a.merge?a.merge(n.style):n.style;t.loadFontFromConfigStyle(r,e)}))}))}},{key:"loadFontFromConfigStyle",value:function(e,t){if(e){var n=e.get("fontFamily"),a=e.get("fontWeight"),r=e.get("fontType")||ze.a.GOOGLE,o=e.get("fontUrl"),i=e.get("fontFaceUrl"),l=e.get("fontStyle"),s=e.get("fontPrefix")||null;n&&Object(ye.a)(n,a,r,o,i,l,s,t)}}},{key:"render",value:function(){var e=this,t=this.props.element,n=t.text,o=t.config,i=t.opacity,l=t.blur,s=t.textShadow,c=t.alignment,u=t.fontSize,d=t.width,p=t.height,f=t.scale,m=t.letterSpacing,b=t.lineHeight,g=t.lockedProperties,y=t.textDirection,v=this.props,E=v.zoom,S=v.isAnimating,O=this.state.isFocused,C=Object.assign({},Object(h.q)(i),Object(h.j)({blur:l},E),Object(h.w)({fontSize:u,letterSpacing:m},E),Object(h.v)(s,E),{textAlign:c,lineHeight:b,width:d*E+"px",height:p*E+"px"},Object(h.k)({scale:f})),w=g.includes(Fe.a.TEXT),T=Ke("element","text-content","text",{isFocused:O}),k=w?r.a.createElement("span",{className:be.a.lockIcon,"data-element-text-lock":"1"},Ge.a):null;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:T,"data-element-text":"1","data-textcont":!0,onKeyUp:this.onKeyUp,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,onClick:this.onClick,contentEditable:!0,dir:y||We.a.LTR,ref:function(t){e.refText=t,t&&(t.contentEditable=O&&!S)},style:C,dangerouslySetInnerHTML:{__html:Ie(n,o,E)}}),k)}}]),t}(a.Component);Ye.propTypes={element:i.a.instanceOf(he.b).isRequired,isAnimating:i.a.bool,isOnlySelected:i.a.bool,readOnly:i.a.bool,updateElementProps:i.a.func,zoom:i.a.number,allowIBShortcuts:i.a.func,setTextSelection:i.a.func,textSelection:i.a.instanceOf(je.a)},Ye.defaultProps={isAnimating:!1,isOnlySelected:!1,readOnly:!1,updateElementProps:function(){},zoom:1,allowIBShortcuts:function(){},setTextSelection:function(){},textSelection:new je.a};var Xe=Ye,Ze=n(609),Je=n(1009),Qe=n.n(Je),$e=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},et=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var tt=c.a.bind(Qe.a),nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),et(t,[{key:"getThumbUrl",value:function(e){if(!e)return"";var t=e,n=t.indexOf("t=");-1!==n&&(t=t.substring(0,n-1));var a=void 0,r=t.match("[\\?&]v=([^&#]*)");r?a=$e(r,2)[1]:a=(t=t.split("/"))[t.length-1];return"//img.youtube.com/vi/"+a+"/0.jpg"}},{key:"render",value:function(){var e=this.props,t=e.zoom,n=e.element,a=n.blur,o=n.adjustColor,i=n.youtubeURL,l=Object(h.j)({blur:a,adjustColor:o},t);return r.a.createElement("div",{className:tt("element","youtubeElement"),style:l},r.a.createElement("div",{className:Qe.a.youtubeCover,style:{backgroundImage:"url("+this.getThumbUrl(i)+")"}}))}}]),t}(a.Component);nt.propTypes={element:i.a.instanceOf(Ze.a).isRequired,zoom:i.a.number},nt.defaultProps={zoom:1};var at=nt,rt=n(386),ot=n(399),it=n(453),lt=n(1408),st=n(460),ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ut=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onDragStartHandler=function(t){t.stopPropagation();var n=e.props,a=n.stageScroll,r=n.elements;e.startPageX=t.pageX,e.startPageY=t.pageY,e.startElements=r,e.timeStart=Date.now(),e.startStageScroll=a,t.preventDefault()},e.dragging=!1,e.onDragHandler=e.onDragHandler.bind(e),e.onDragStopHandler=e.onDragStopHandler.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ct(t,[{key:"onDragStopHandler",value:function(e){this.dragging&&e.stopPropagation(),this.dragging&&this.props.onStopDragging(),this.dragging=!1}},{key:"onDragHandler",value:function(e){var t=e.ctrlKey||e.metaKey,n=this.props,a=n.stageScroll,r=n.zoom,o=n.cropElementId,i=(e.pageX-this.startPageX)/r+(a.scrollLeft-this.startStageScroll.scrollLeft),l=(e.pageY-this.startPageY)/r+(a.scrollTop-this.startStageScroll.scrollTop);if(Date.now()-this.timeStart>120||Math.abs(i)>10||Math.abs(l)>10){if(!this.dragging){this.dragging=!0;var s=this.startElements.map((function(e){return e.id}));this.props.onStartDragging(s)}var c=[],u=!0,d=!1,p=void 0;try{for(var f,h=this.startElements[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value,b=o?{cropData:{x:m.cropData.x+i,y:m.cropData.y+l}}:{x:m.x+i,y:m.y+l};o&&(m.cropData.x+i>0&&(b.cropData.x=0),m.cropData.y+l>0&&(b.cropData.y=0),m.x+m.cropData.x+i+m.cropData.width<m.x+m.width&&(b.cropData.x=m.width-m.cropData.width),m.y+m.cropData.y+l+m.cropData.height<m.y+m.height&&(b.cropData.y=m.height-m.cropData.height)),c.push({id:m.id,props:b})}}catch(e){d=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw p}}this.props.onChangePosition(c,t)}}},{key:"render",value:function(){return r.a.createElement(lt.DraggableCore,{onStart:this.onDragStartHandler,onDrag:this.onDragHandler,onStop:this.onDragStopHandler},r.a.createElement("div",null,this.props.children))}}]),t}(a.Component);ut.propTypes={elements:i.a.instanceOf(l.List),stageScroll:i.a.instanceOf(st.a).isRequired,onStartDragging:i.a.func.isRequired,onStopDragging:i.a.func.isRequired,onChangePosition:i.a.func.isRequired,children:i.a.element,zoom:i.a.number,cropElementId:i.a.number},ut.defaultProps={children:null,elements:null,zoom:1,cropElementId:null};var dt=ut,pt=n(65),ft=n(831),ht=n(409),mt=function(e){return e.bannerCreator.editor.banner},bt=function(e,t){var n=e.bannerCreator.editor.banner,a=n.bannerPathMap,r=n.banner;return a[t]?r.getIn(a[t]):null},gt=function(e,t){return e.bannerCreator.editor.banner.selectedLayers.indexOf(t)>-1},yt=function(){return Object(pt.createSelector)([mt,bt,ht.a,gt],(function(e,t,n,a){return a?n:t.group?Object(ft.a)(e,t.group):new l.List([t])}))},vt=Object(rt.c)((function(){var e=yt();return function(t,n){var a=t.bannerCreator.editor.stage,r=a.stageScroll,o=a.zoom,i=a.cropElementId;return{elements:e(t,n.elementId),stageScroll:r,zoom:o,cropElementId:i}}}),(function(e){return{onStartDragging:function(t){e(Object(it.p)(t))},onStopDragging:function(){e(Object(it.w)())},onChangePosition:function(t,n){e(Object(ot.G)(t,{snap:!n}))}}}))(dt),Et=n(908),St=n(555),Ot=n(912),Ct=n(689);function wt(e,t,n,a,r){var o=r?e.querySelectorAll("span.word"):e.querySelectorAll(".text-content > span");if(o.length>0){var i="alpha-words"===t.type?"alpha":"blur",l=Object.assign({},t,{type:i,duration:Math.min(t.wordsDuration,t.duration)}),s=!0,c=!1,u=void 0;try{for(var d,p=o[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var f=d.value,h=n+Number(f.getAttribute("word-delay"));window.eff.animate(f,l,a,h)}}catch(e){c=!0,u=e}finally{try{!s&&p.return&&p.return()}finally{if(c)throw u}}}else window.eff.animate(e,t,a,n)}function Tt(e,t,n,a){var r=n/1e3,o=t.buildIn,i=t.buildMid,l=t.buildOut,s=e,c="none"!==o.type,u=i&&"none"!==i.type,d="none"!==l.type,p=e.firstChild.style;if(c&&(r<o.delay?s.style.display="none":r<o.delay+o.duration?"alpha-words"===o.type||"blur-words"===o.type?(s.style.display="",wt(s,o,-r,"buildIn",!!t.config)):(s.style.display="",window.eff.animate(s,o,"buildIn",-r)):(p.animation="",p["-webkit-animation"]="")),u&&(!a||"hover"!==i.startEnd)){var f=c?o.delay+o.duration:0,h=f+i.delay,m=h+i.duration;r>h&&r<m?window.eff.animate(s,i,"buildMid",f-r):c||(p.animation="",p["-webkit-animation"]="")}if(d){var b=(c?o.delay+o.duration:0)+(u?i.delay+i.duration:0),g=b+l.delay+l.duration;if(r>b&&r<=g){s.style.display="";var y=-(r-b);"alpha-words"===l.type||"blur-words"===l.type?wt(s,l,y,"buildOut",!!t.config):window.eff.animate(s,l,"buildOut",y)}else r>g&&a&&(s.style.display="none")}}var kt=n(429),It=n(1010),Lt=n.n(It),Pt=n(519),Mt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Rt=c.a.bind(Lt.a),xt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Dt.call(n),n.animationData={},n.mouseOverTimeout=null,n.mouseHover=!1,n.buildToPlay=null,n.currentPlayPosition=e.playPosition,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Mt(t,[{key:"componentWillUnmount",value:function(){this.animationData.lastAnimationJs&&(this.animationData.lastAnimationJs.onAnimationEnd=null),clearTimeout(this.instantTimeout)}},{key:"getElementComponent",value:function(){var e=this.props,t=e.allowIBShortcuts,n=e.isOnlySelected,a=e.readOnly,o=e.updateElementProps,i=e.zoom,l=e.replaceHoverElementId,s=e.replaceElementData,c=e.sidebar,u=e.textSelection,d=e.setTextSelection,f=e.index,h=e.setColorGroups,b=e.layerType,g=e.cropElementId,y=this.props.element,v=l&&y.id===l&&!!s;switch(y.layerType){case p.b.YOUTUBE:return r.a.createElement(at,{element:y,zoom:i});case p.b.EMBED:if(v){var E=y.backgroundColor.merge({type:p.b.IMAGE,url:s.url});y=y.set("backgroundColor",E)}return r.a.createElement(j,{element:y,zoom:i,orderId:f});case p.b.SVG:var S=void 0;if(v&&(s.url?y=y.set("url",s.url):s.svgContent&&(S=s.svgContent),b===p.b.IMAGE))return this.getReplaceElement(y);if(!S){var O=this.props.bannerResources.get(y.resourceKey);S=O&&O.content}return r.a.createElement(fe,{element:y,svg:S,setColorGroups:h,zoom:i,readOnly:v&&b===p.b.SVG});case p.b.BUTTON:return r.a.createElement(m.a,{element:y,isOnlySelected:n,readOnly:a,allowIBShortcuts:t,updateElementProps:o,zoom:i,sidebar:c});case p.b.SHAPE:if(v){var w=y.backgroundColor.merge({type:p.b.IMAGE,url:s.url});y=y.set("backgroundColor",w)}return r.a.createElement(te,{element:y,zoom:i,cropElementId:g,updateElementProps:o});case p.b.CLIPART:return r.a.createElement(C,{element:y,zoom:i});case p.b.TEXT:return r.a.createElement(Xe,{element:y,isOnlySelected:n,readOnly:a||y.locked,allowIBShortcuts:t,updateElementProps:o,textSelection:u,setTextSelection:d,zoom:i});case p.b.IMAGE:return v&&(y=y.set("url",s.url),b===p.b.SVG)?this.getReplaceElement(y):r.a.createElement(q,{element:y,zoom:i,updateElementProps:o,cropElementId:g});default:return null}}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectingHover,a=t.selected,o=t.element,i=t.isOnlySelected,l=t.onMouseDown,s=t.animating,c=t.zoom,u=t.readOnly,d=t.highlighted,f=t.visible,m=t.playingSlide,b=t.cropElementId;if(!f)return null;var g=o.x,y=o.y,v=o.width,E=o.height,S=o.id,O=o.layerType,C=o.visible,w=o.group,T=o.cropData,k=o.locked,I=o.scale,L=void 0===I?Pt.a.DEFAULT:I,P=b&&b===S&&(O===p.b.IMAGE||O===p.b.SHAPE),M=P?0:o.rotation,R=b&&o.id!==b?{opacity:.5,pointerEvents:"none"}:{},x=Object.assign({},Object(h.k)({rotation:M}),R),D=g,j=y,N=v*L,A=E*L;P&&(D=g+T.x,j=y+T.y,N=T.width,A=T.height);var _=Object(h.m)(D,j,N,A,u||C,c);!i||O!==p.b.TEXT&&O!==p.b.BUTTON||s||(x.margin="-20px",x.padding="20px",x.boxSizing="content-box");var B=r.a.createElement("div",{"data-element-id":S,className:Lt.a.animateHelper,style:_,ref:function(t){e.refAnimateHelper=t}},r.a.createElement("div",{className:Lt.a.eff,onAnimationIteration:this.onAnimationIteration},r.a.createElement("div",{role:"presentation",className:Rt("elementContainer",O,u),style:x,onMouseEnter:u?null:this.onMouseEnter,onMouseLeave:u?null:this.onMouseLeave,onMouseDown:u?null:l,onMouseUp:u?null:this.onMouseUp,ref:function(t){e.refAnimateHelper=t},onClick:this.onClick,onDoubleClick:u||b||k?null:this.onDoubleClick},r.a.createElement("div",{className:Rt("innerContainer",{selected:!s&&a&&!i,selectingHover:!s&&n,hoverable:!(s||i||u||w),highlighted:d})},this.getElementComponent()))));return u||m||k?B:r.a.createElement(vt,{elementId:S},B)}}]),t}(a.Component),Dt=function(){var e=this;this.componentDidUpdate=function(t){var n=e.props,a=n.animating,r=n.element,o=n.playPosition,i=n.playPositionDragging,l=n.zoom,s=n.durationToSelectedSlide,c=n.isOverlay,u=o;if(t.animating!==a)a?e.animateElement():e.stopAnimation(null,!t.playingSlide&&a);else if(a){var d=e.animationData,p=d.playingAnimation,f=d.playingBuildType;r.get(f)!==p&&(e.stopAnimation(null),e.playAnimation(f))}else if(i){var h=r.toJS();e.applyZoom(h,l),window.eff.PLAYING_STATE="paused",s&&c&&(u=Object(kt.a)(1e3*(u/1e3+s),2)),Tt(e.refAnimateHelper,h,u,!0)}else i||i===t.playPositionDragging||(e.refAnimateHelper.style.display="",e.stopAnimation(null,!0))},this.onMouseUp=function(t){var n=e.props,a=n.layerType,r=n.replaceElementData,o=n.updateElementProps,i=n.replaceHoverElementId,l=n.onChangeImage,s=n.element,c=n.selected,u=n.isOnlySelected,d=n.onMouseUp,f=n.stageWidth,h=n.stageHeight;u||d(s.id,t.ctrlKey||t.metaKey||t.shiftKey,c&&!!s.group),e.mouseOverTimeout&&(clearTimeout(e.mouseOverTimeout),e.mouseOverTimeout=null);var m=e.isImageOnShapeOrEmbed(a,s.layerType);if(a&&i&&e.canReplace()){var b=r.url,g=r.hqUrl,y=r.width,v=r.height,E=r.originalWidth,S=r.originalHeight,O=r.svgContent,C=void 0;if(m){C={backgroundColor:{type:p.b.IMAGE,url:b,hqUrl:g,originalWidth:E,originalHeight:S}}}else{var w={url:b||null,layerType:a};g&&(w.hqUrl=g),O&&(w.svgContent=O),C=w}var T=a===p.b.IMAGE,k=a===p.b.SVG;if(!T&&!k||m||(C.originalWidth=E||y,C.originalHeight=S||v,T&&(C.cropData=Object(Ot.a)(s,f,h,C))),a===p.b.SVG&&s.layerType!==p.b.SHAPE){var I=s.x+s.width/2,L=s.y+s.height/2,P=Object(Ct.a)(r,f,h),M=P.width,R=P.height;C.width=M,C.height=R,C.x=I-M/2,C.y=L-R/2}a!==p.b.IMAGE&&a!==p.b.SVG||s.layerType!==p.b.SHAPE||(C.cropData=Object(Ot.a)(s,f,h,C)),s.layerType===a||m?o({id:s.id,props:C},{fromDraggingLayer:!0}):l(s.id,C),t.stopPropagation()}},this.onMouseEnter=function(){var t=e.props,n=t.layerType,a=t.element,r=t.setReplacingHoverElement,o=t.replaceElementData,i=t.setHoveredElement,l=t.allowMouseEnter,s=t.cropElementId,c=t.bannerResources;l&&i(a.id);var u=!1;a.url?u=a.url===o.url:a.resourceKey&&(u=c.get(a.resourceKey)===o.svgContent),n&&e.canReplace()&&!u&&!s&&(e.mouseOverTimeout||(e.mouseOverTimeout=setTimeout((function(){r(a.id)}),500))),e.buildToPlay&&(e.mouseHover=!0,e.playAnimation(d.a.BUILD_MID))},this.onMouseLeave=function(){var t=e.props,n=t.layerType,a=t.setReplacingHoverElement,r=t.setHoveredElement;t.allowMouseEnter&&r(null),n&&e.canReplace()&&(a(null),e.mouseOverTimeout&&(clearTimeout(e.mouseOverTimeout),e.mouseOverTimeout=null)),e.mouseHover=!1},this.onAnimationIteration=function(){!e.mouseHover&&e.buildToPlay&&e.resetAnimation()},this.onClick=function(t){var n=e.props,a=n.allowIBShortcuts,r=n.allowShortcuts;t.target.isContentEditable?a(!1):r||a(!0)},this.onDoubleClick=function(){var t=e.props,n=t.element,a=n.id,r=n.layerType,o=n.backgroundColor,i=t.onDoubleClick;(r===p.b.IMAGE||r===p.b.SHAPE&&o.type===u.a.IMAGE)&&i(a)},this.getReplaceElement=function(t){var n=e.props,a=n.bannerResources,o=n.zoom,i=n.setColorGroups,l=n.replaceElementData,s=t;if(s.layerType===p.b.IMAGE){s=s.set("layerType",p.b.SVG);var c=new ne.a(s.toJS()),u=void 0;if(t.resourceKey){var d=a.get(t.resourceKey);u=d&&d.content}else l.svgContent&&(u=l.svgContent);return r.a.createElement(fe,{element:c,svg:u,zoom:o,readOnly:!0,setColorGroups:i})}s=s.set("layerType",p.b.IMAGE);var f=new U.a(s.toJS());return r.a.createElement(q,{element:f,zoom:o})},this.canReplace=function(){var t=e.props,n=t.layerType,a=t.element.layerType,r=t.replaceElementData.svgContent,o=p.b.IMAGE,i=p.b.SVG,l=p.b.SHAPE,s=p.b.EMBED,c=[o,i],u=[o,i];return r||(u=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(u),[l,s])),-1!==c.indexOf(n)&&-1!==u.indexOf(a)},this.isImageOnShapeOrEmbed=function(e,t){var n=[p.b.IMAGE,p.b.SVG],a=[p.b.SHAPE,p.b.EMBED];return-1!==n.indexOf(e)&&-1!==a.indexOf(t)},this.applyZoom=function(e,t){var n=e.buildIn,a=e.buildMid,r=e.buildOut;Object.assign(e,{buildIn:Object.assign({},n,{slideOffset:Math.round(n.slideOffset*t),slidePosX:Math.round(n.slidePosX*t),slidePosY:Math.round(n.slidePosY*t)}),buildOut:Object.assign({},r,{slideOffset:Math.round(r.slideOffset*t),slidePosX:Math.round(r.slidePosX*t),slidePosY:Math.round(r.slidePosY*t)}),buildMid:Object.assign({},a,{zoom:t})})},this.playAnimation=function(t){var n=e.props,a=n.element,r=n.zoom,o=n.playingSlide,i=n.timelineLayerTimes,l=n.playPosition,s=n.durationToSelectedSlide,c=n.isOverlay;e.animationData.playingBuildType=t,e.animationData.playingAnimation=a.get(t);var u=Date.now(),f=l,h=void 0,m=a.toJS();if(a.layerType===p.b.TEXT&&(e.animationData.textData=e.refAnimateHelper.querySelector("[data-textcont=true]").innerHTML),e.applyZoom(m,r),!o)switch(t){case d.a.BUILD_IN:f=1e3*i.buildInStart,h=1e3*i.buildInEnd;break;case d.a.BUILD_MID:f=1e3*i.buildMidStart,h=1e3*i.buildMidEnd;break;case d.a.BUILD_OUT:f=1e3*i.buildOutStart,h=1e3*i.buildOutEnd;break;default:f=null}s&&c&&(f+=1e3*s),e.animationInterval=setInterval((function(){e.currentPlayPosition=Date.now()-u+f,!o&&e.currentPlayPosition>=h&&(t===d.a.BUILD_MID&&(e.currentPlayPosition=h),e.stopAnimation(null,!0)),window.eff.PLAYING_STATE="paused",e.refAnimateHelper&&m&&e.currentPlayPosition&&Tt(e.refAnimateHelper,m,e.currentPlayPosition,o)}),15)},this.resetAnimation=function(){var t=e.refAnimateHelper.firstChild.style;t.animation="",t["-webkit-animation"]="",clearTimeout(e.instantTimeout)},this.stopAnimation=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.props,r=a.element,o=a.onStopAnimation,i=a.onHandlePlayingElement,l=r.layerType,s=r.id;clearInterval(e.animationInterval),clearTimeout(e.delay),clearTimeout(e.duration),e.buildToPlay&&(e.buildToPlay=null,i(!0)),e.animationData.lastAnimationJs&&(e.animationData.lastAnimationJs.onAnimationEnd=null),t&&e.animationData.lastRandom!==t||e.refAnimateHelper&&(e.resetAnimation(),e.refAnimateHelper.offsetHeight,l===p.b.TEXT&&void 0!==e.animationData.textData&&(e.refAnimateHelper.querySelector("[data-textcont=true]").innerHTML=e.animationData.textData),n&&o(s,e.currentPlayPosition))},this.animateElement=function(){var t=e.props,n=t.element,a=n.buildIn,r=n.buildMid,o=n.buildOut,i=t.animatingBuildType;t.playingSlide?a.type!==f.a.NONE?e.playAnimation(d.a.BUILD_IN):r.type!==f.a.NONE?e.playAnimation(d.a.BUILD_MID):o.type!==f.a.NONE&&e.playAnimation(d.a.BUILD_OUT):e.playAnimation(i)}};xt.propTypes={animating:i.a.bool,element:i.a.oneOfType([i.a.instanceOf(he.b),i.a.instanceOf(U.a),i.a.instanceOf(ne.a),i.a.instanceOf(Y.a),i.a.instanceOf(b.a),i.a.instanceOf(St.a),i.a.instanceOf(Ze.a),i.a.instanceOf(k.a)]),highlighted:i.a.bool,index:i.a.number,isOnlySelected:i.a.bool,onMouseDown:i.a.func,onMouseUp:i.a.func,readOnly:i.a.bool,selected:i.a.bool,selectingHover:i.a.bool,updateElementProps:i.a.func,visible:i.a.bool,zoom:i.a.number,setColorGroups:i.a.func,animatingBuildType:i.a.oneOf([d.a.BUILD_IN,d.a.BUILD_OUT,d.a.BUILD_MID]),onStopAnimation:i.a.func,onChangeImage:i.a.func,setHoveredElement:i.a.func,allowMouseEnter:i.a.bool,playingSlide:i.a.bool,replaceHoverElementId:i.a.number,replaceElementData:i.a.instanceOf(l.Record),layerType:i.a.string,setReplacingHoverElement:i.a.func,allowIBShortcuts:i.a.func,allowShortcuts:i.a.bool,sidebar:i.a.bool,playPosition:i.a.number,playPositionDragging:i.a.bool,setTextSelection:i.a.func,textSelection:i.a.instanceOf(je.a),onHandlePlayingElement:i.a.func,timelineLayerTimes:i.a.instanceOf(Object),onDoubleClick:i.a.func,cropElementId:i.a.number,stageWidth:i.a.number,stageHeight:i.a.number,durationToSelectedSlide:i.a.number,isOverlay:i.a.bool,bannerResources:i.a.instanceOf(l.Map)},xt.defaultProps={animating:!1,element:null,highlighted:!1,index:0,isOnlySelected:!1,onMouseDown:function(){},onMouseUp:function(){},readOnly:!0,selected:!1,selectingHover:!1,updateElementProps:function(){},setColorGroups:function(){},visible:!0,zoom:1,animatingBuildType:d.a.BUILD_IN,onStopAnimation:function(){},setHoveredElement:function(){},allowMouseEnter:!1,playingSlide:!1,replaceHoverElementId:null,replaceElementData:new Et.a,layerType:null,setReplacingHoverElement:function(){},onChangeImage:function(){},allowIBShortcuts:function(){},allowShortcuts:!0,sidebar:!1,playPosition:0,playPositionDragging:!1,setTextSelection:function(){},textSelection:new je.a,onHandlePlayingElement:function(){},timelineLayerTimes:{},onDoubleClick:function(){},cropElementId:null,stageWidth:0,stageHeight:0,isOverlay:!1,durationToSelectedSlide:0,bannerResources:new l.Map};var jt=xt,Nt=n(648),At=n(706),_t=n(431),Bt=n.n(_t),Ht=n(807),Ut=function(e,t){return t},zt=Bt()([Ht.a,Ut],(function(e,t){return e.find((function(e){return e.id===t}))}))(Ut),Gt=n(501),Ft=n(434),Wt=Object(rt.c)((function(){var e=Object(At.a)();return function(t,n){var a=t.bannerCreator.editor,r=a.stage,o=r.zoom,i=r.ignoreAnimationDelay,l=r.dragging,s=r.selecting,c=r.rotating,u=r.resizing,d=r.animatingElements,p=r.textSelection,f=r.cropElementId,h=a.banner,m=h.allowIBShortcuts,b=h.banner,g=b.width,y=b.height,v=b.resources,E=a.timeline,S=E.playingSlide,O=E.playPosition,C=E.playPositionDragging,w=a.drag,T=w.layerType,k=w.replaceElementData,I=w.replaceHoverElementId,L=e(t,n.id);if(!L)return{visible:!1};var P=Object(Ft.a)(t),M=Object(Gt.b)(t),R=zt(t,n.id),x=L.element,D=L.selected,j=L.animating,N=L.selectingHover,A=L.isOnlySelected,_=L.animatingBuildType,B=L.animationDelay,H=P.some((function(e){return e.id===x.id}));return{element:x,selected:D,animating:j,animationDelay:B,selectingHover:N,isOnlySelected:A,readOnly:!1,index:n.index,zoom:o,visible:!0,animatingBuildType:_,ignoreAnimationDelay:i,playingSlide:S,allowMouseEnter:!(l||s||c||u||d.size),layerType:T,replaceElementData:k,replaceHoverElementId:I,allowShortcuts:m,textSelection:p,timelineLayerTimes:R,cropElementId:f,stageWidth:g,stageHeight:y,playPosition:O,playPositionDragging:C,durationToSelectedSlide:M,isOverlay:H,bannerResources:v}}}),(function(e){return{onMouseUp:function(t,n,a){e(Object(ot.N)([t],{multipleSelect:n,ignoreGroups:a}))},setColorGroups:function(t,n){e(Object(ot.G)([{id:t,props:{colorGroups:n}}],{skipHistory:!0}))},updateElementProps:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(Object(ot.G)([t],n))},onChangeImage:function(t,n){e(Object(ot.i)(t,n))},onStopAnimation:function(t){e(Object(it.t)([t]))},setHoveredElement:function(t){e(Object(ot.I)(t))},setReplacingHoverElement:function(t){e(Object(Nt.d)(t))},allowIBShortcuts:function(t){e(Object(ot.c)(t))},setTextSelection:function(t){e(Object(it.k)(t))},onDoubleClick:function(t){e(Object(it.n)(t))}}}))(jt),Vt=n(830),qt=n(498),Kt=n(1011),Yt=n.n(Kt),Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Jt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Qt=c.a.bind(Yt.a),$t=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Jt(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={imageBannerSize:null,imageSlideSize:null,imageLoadError:!1,ignoreElementHover:!0},a.onMouseDown=function(e){e.stopPropagation()},a.onImageLoadError=function(){a.setState({imageLoadError:!0})},a.imageLoaded=function(e,t){a.setState({imageBannerSize:{width:e,height:t},imageLoadError:!1})},a.slideImageLoaded=function(e,t){a.setState({imageSlideSize:{width:e,height:t}})},a.handlePlayingElement=function(e){a.setState({ignoreElementHover:e})},Jt(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Zt(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.background,n=e.slide;t.type===u.a.IMAGE?(t.originalWidth&&this.imageLoaded(t.originalWidth,t.originalHeight),P(t.url,this.imageLoaded,this.onImageLoadError)):n.backgroundColor.type===u.a.IMAGE&&P(t.url,this.slideImageLoaded)}},{key:"componentWillReceiveProps",value:function(e){var t=e.background,n=t.type,a=t.url,r=e.slide.backgroundColor,o=r.type,i=r.url,l=this.props.background,s=l.originalWidth,c=l.originalHeight;n===u.a.IMAGE&&a&&this.props.background.url!==a&&(s&&this.setState({imageBannerSize:{width:s,height:c}}),P(a,this.imageLoaded,this.onImageLoadError)),o===u.a.IMAGE&&i&&this.props.slide.backgroundColor.url!==i&&(this.setState({imageSlideSize:null}),P(i,this.imageLoaded))}},{key:"shouldComponentUpdate",value:function(e){return e.shouldUpdate}},{key:"render",value:function(){var e=this,t=this.props,n=t.sidebar,o=t.elements,i=t.width,l=t.height,s=t.background,c=t.zoom,d=t.slide,p=t.readOnly,f=t.loading,m=t.disabled,b=t.highlighted,g=t.isGenerator,y=t.bannerResources;if(!d)return null;var v={width:Math.round(i*c)+"px",height:Math.round(l*c)+"px"},E=this.state,S=E.imageBannerSize,O=E.imageSlideSize,C=E.imageLoadError,w=E.ignoreElementHover,T=s.toJS();if(S){var k=S.width,I=S.height;T=Object.assign({originalWidth:k,originalHeight:I},T)}C&&(T.loadError=!0);var L=Xt({},v,Object(h.g)(T,0,c)),P=d.backgroundColor;if(O){var M=O.width,R=O.height;P=Object.assign({originalWidth:M,originalHeight:R},P.toJS())}var x=d.backgroundColor.type!==u.a.NONE?Xt({},v,Object(h.g)(P,0,c)):Object(h.g)(P,0,c),D=o.map((function(t,a){return p?r.a.createElement(jt,{element:t,highlighted:b===(g?t.bannersetElementId:t.id),zoom:c,key:t.id,index:a,sidebar:n,onHandlePlayingElement:e.handlePlayingElement,bannerResources:y}):r.a.createElement(Wt,{id:t.id,key:t.id,index:a,sidebar:n,onHandlePlayingElement:e.handlePlayingElement})})),j=p||m&&w?r.a.createElement("div",{"data-grab-slide":"true","data-slide":1,className:Yt.a.overlay,onMouseDown:this.onMouseDown}):null,A=f?r.a.createElement(N.a,null):r.a.createElement(a.Fragment,null,r.a.createElement("div",{"data-grab-slide":"true","data-slide":1,className:Yt.a.slide,style:x},D),j);return r.a.createElement("div",{"data-grab-slide":"true","data-slide":1,className:Qt("banner",{readOnly:p}),style:L},A)}}]),t}(a.Component);$t.propTypes={elements:i.a.instanceOf(l.List).isRequired,highlighted:i.a.number,slide:i.a.instanceOf(Vt.a).isRequired,width:i.a.number.isRequired,height:i.a.number.isRequired,background:i.a.instanceOf(qt.a),readOnly:i.a.bool,zoom:i.a.number,loading:i.a.bool,shouldUpdate:i.a.bool,disabled:i.a.bool,sidebar:i.a.bool,isGenerator:i.a.bool,bannerResources:i.a.instanceOf(l.Map)},$t.defaultProps={readOnly:!0,highlighted:null,background:new qt.a,zoom:1,loading:!1,shouldUpdate:!0,disabled:!0,sidebar:!1,isGenerator:!1,bannerResources:new l.Map};t.a=$t},677:function(e,t,n){"use strict";var a,r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(50),c=n.n(s),u=n(590),d=n.n(u),p=n(489),f=n.n(p),h=n(488),m=n(422),b=n(551),g=n(394),y=n(527),v=n(413),E=n(568),S=n(387),O=[{value:E.a.RANDOM,text:S.a.random},{value:E.a.LEFT_TO_RIGHT,text:S.a.leftToRight},{value:E.a.RIGHT_TO_LEFT,text:S.a.rightToLeft}],C=n(7),w=n(17),T=n(716),k=[{value:"",text:"None"},{value:T.a.SINE,text:"Sine"},{value:T.a.CUBIC,text:"Cubic"},{value:T.a.QUAD,text:"Quad"},{value:T.a.QUART,text:"Quart"},{value:T.a.QUINT,text:"Quint"},{value:T.a.EXPO,text:"Expo"},{value:T.a.CIRC,text:"Circ"},{value:T.a.STRONG,text:"Strong"},{value:T.a.BACK,text:"Back"}],I=n(674),L=[{value:I.a.EaseOut,text:"Ease Out"},{value:I.a.EaseIn,text:"Ease In"},{value:I.a.EaseInOut,text:"Ease In Out"},{value:I.a.Linear,text:"Linear"}],P=n(903),M=n(601),R={pulsate:[{value:M.a.HEARTBEAT,text:"Heartbeat"},{value:M.a.BACKWARD,text:"Backward"},{value:M.a.FORWARD,text:"Forward"},{value:M.a.PING,text:"Ping"}],shake:[{value:M.a.HORIZONTAL,text:"Horizontal"},{value:M.a.VERTICAL,text:"Vertical"},{value:M.a.TOP,text:"Top"},{value:M.a.LEFT_RIGHT,text:"Left-right"},{value:M.a.RIGHT,text:"Right"},{value:M.a.LEFT,text:"Left"}]},x=n(591),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=c.a.bind(d.a),_=(N(a={},v.a.ALPHA,["duration","delay","easeType","tweenType","clear"]),N(a,v.a.BLUR,["blur","duration","delay","easeType","tweenType","clear"]),N(a,v.a.SCALE,["duration","delay","easeType","tweenType","direction"]),N(a,v.a.SCALE_BOUNCE,["duration","delay","easeType","tweenType","direction"]),N(a,v.a.SCALE_ELASTIC,["duration","delay","easeType","tweenType","direction"]),N(a,v.a.ALPHA_WORDS,["duration","wordsDuration","wordsAppearOrder","delay","easeType","tweenType","clear"]),N(a,v.a.BLUR_WORDS,["blur","duration","wordsDuration","wordsAppearOrder","delay","easeType","tweenType","clear"]),N(a,v.a.SLIDE,["duration","delay","easeType","tweenType","direction","offset","offsetX","offsetY","alpha"]),N(a,v.a.SLIDE_BOUNCE,["duration","delay","easeType","tweenType","direction","offset","offsetX","offsetY","alpha"]),N(a,v.a.SLIDE_ELASTIC,["duration","delay","easeType","tweenType","direction","offset","offsetX","offsetY","alpha"]),N(a,v.a.ROLL,["duration","delay","easeType","tweenType","direction","offset","offsetX","offsetY","alpha"]),N(a,v.a.ZOOM,["duration","delay","easeType","tweenType","direction","zoom","alpha"]),N(a,v.a.ROTATE,["duration","delay","easeType","tweenType","direction","alpha"]),N(a,v.a.FLIP,["duration","delay","easeType","tweenType","direction","alpha"]),N(a,v.a.VIBRATE,["motionTime","easeType","tweenType","clear"]),N(a,v.a.FLICKER,["motionTime","easeType","tweenType","clear"]),N(a,v.a.SHAKE,["motionTime","variation","easeType","tweenType","clear"]),N(a,v.a.JELLO,["motionTime","direction","easeType","tweenType","clear"]),N(a,v.a.BOUNCE,["motionTime","direction","easeType","tweenType","clear"]),N(a,v.a.PULSATE,["motionTime","variation","easeType","tweenType","clear"]),N(a,v.a.BLINK,["motionTime","easeType","tweenType","clear"]),a),B=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onAlphaOffsetChange=function(e){a.props.onPropertyChange("alphaOffset",e)},a.onBlurAmountChange=function(e){a.props.onPropertyChange("blurAmount",e)},a.onDelayChange=function(e){a.props.onPropertyChange("delay",e)},a.onDirectionChange=function(e){a.props.onPropertyChange("direction",e)},a.onVariationChange=function(e){a.props.onPropertyChange("variation",e)},a.onDurationChange=function(e){a.props.onPropertyChange("duration",e)},a.onSlideOffsetChange=function(e){a.props.onPropertyChange("slideOffset",e)},a.onSlidePosXChange=function(e){a.props.onPropertyChange("slidePosX",e)},a.onSlidePosYChange=function(e){a.props.onPropertyChange("slidePosY",e)},a.onTypeChange=function(e){a.props.onPropertyChange("type",e)},a.onTweenChange=function(e){a.props.onPropertyChange("tween",e)},a.onWordsAppearOrderChange=function(e){a.props.onPropertyChange("wordsAppearOrder",e)},a.onWordsDurationChange=function(e){a.props.onPropertyChange("wordsDuration",e)},a.onZoomChange=function(e){a.props.onPropertyChange("zoom",e)},a.onEaseChange=function(e){a.props.onPropertyChange("ease",e)},a.onMotionTimeChange=function(e){a.props.onPropertyChange("motionTime",e)},a.getTransitionControls=function(e,t){var n=a.props,r=n.isSlideTransition,o=n.timelineMode,i=n.transition,l=[v.a.SLIDE,v.a.SLIDE_BOUNCE,v.a.SLIDE_ELASTIC,v.a.ROLL],s=_[e]?_[e].slice():[],c=i instanceof x.b;return l.includes(e)&&(t===E.a.CUSTOM?s.splice(s.indexOf("offset"),1):s.splice(s.indexOf("offsetX"),2)),(r||o)&&s.length&&!c&&(s.splice(s.indexOf("delay"),1),s.splice(s.indexOf("duration"),1)),s},j(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),D(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.transition,a=t.isSlideTransition,r=t.selectedElementsAreOverlay,i=n.type,l=n.blurAmount,s=n.duration,c=n.wordsDuration,u=n.wordsAppearOrder,p=n.delay,f=n.tween,h=n.direction,y=n.slideOffset,T=n.zoom,x=n.slidePosX,D=n.slidePosY,j=n.alphaOffset,N=n.motionTime,_=n.variation,B=n.ease;return this.getTransitionControls(i,h).map((function(t){switch(t){case"blur":return o.a.createElement(b.a,{onChange:e.onBlurAmountChange,value:parseInt(l),label:S.a.blur,min:0,max:100,step:1,key:t});case"duration":return o.a.createElement(b.a,{onChange:e.onDurationChange,value:parseFloat(s),label:S.a.duration,useFloat:!0,min:.1,max:20,step:.1,key:t});case"wordsDuration":return o.a.createElement(b.a,{onChange:e.onWordsDurationChange,value:parseFloat(c),label:S.a.wordsDuration,useFloat:!0,min:0,max:20,step:.1,key:t});case"wordsAppearOrder":return o.a.createElement("div",{className:A("wordsAppearOrder","clearfix"),key:t},o.a.createElement(g.a,{label:S.a.wordsAppearOrder,skin:C.a.WHITE,size:w.a.NORMAL}),o.a.createElement("div",null,o.a.createElement(m.a,{items:O,value:u||E.a.LEFT_TO_RIGHT,onChange:e.onWordsAppearOrderChange,autoHide:!1})));case"delay":return o.a.createElement(b.a,{onChange:e.onDelayChange,value:parseFloat(p),label:S.a.delay,useFloat:!0,min:0,max:30,step:.1,key:t,selectedElementsAreOverlay:r});case"tweenType":var n=i===v.a.SCALE_BOUNCE||i===v.a.SLIDE_BOUNCE||B===I.a.Linear||i===v.a.BOUNCE||i===v.a.PULSATE&&_===M.a.HEARTBEAT;return o.a.createElement("div",{className:d.a.tweenType,key:t},o.a.createElement("div",{className:d.a.tweenTypeLabel},o.a.createElement(g.a,{label:S.a.tweenType,skin:C.a.WHITE,size:w.a.NORMAL,width:"85px",ellipsis:!0,disabled:n})),o.a.createElement(m.a,{items:k,value:f,onChange:e.onTweenChange,minVisibleItems:5,width:"95px",autoHide:!1,disabled:n}));case"easeType":var H=i===v.a.SCALE_BOUNCE||i===v.a.SLIDE_BOUNCE||i===v.a.BOUNCE||i===v.a.PULSATE&&_===M.a.HEARTBEAT;return"out"===(B=B||"easeIn")&&(B="easeOut"),o.a.createElement("div",{className:d.a.easeType,key:t},o.a.createElement("div",{className:d.a.easeTypeLabel},o.a.createElement(g.a,{label:S.a.easeType,skin:C.a.WHITE,size:w.a.NORMAL,width:"85px",ellipsis:!0,disabled:H})),o.a.createElement("div",{className:d.a.easeTypeIcons},o.a.createElement(m.a,{items:L,value:B,onChange:e.onEaseChange,minVisibleItems:5,width:"95px",autoHide:!1,disabled:H})));case"direction":return o.a.createElement("div",{className:d.a.direction,key:t},o.a.createElement("div",{className:d.a.directionLabel},o.a.createElement(g.a,{label:S.a.direction,skin:C.a.WHITE,size:w.a.NORMAL})),o.a.createElement(m.a,{items:P.a[i]||[],value:h,onChange:e.onDirectionChange,width:"200px",autoHide:!1,minVisibleItems:a?5:10}));case"variation":return o.a.createElement("div",{className:d.a.direction,key:t},o.a.createElement("div",{className:d.a.directionLabel},o.a.createElement(g.a,{label:S.a.variations,skin:C.a.WHITE,size:w.a.NORMAL})),o.a.createElement(m.a,{items:R[i]||[],value:_,onChange:e.onVariationChange,width:"200px",autoHide:!1}));case"offset":return o.a.createElement(b.a,{onChange:e.onSlideOffsetChange,value:parseInt(y),label:S.a.offset,useFloat:!1,min:-1e3,max:1e3,step:1,key:t});case"zoom":var U=parseInt(T);return Number.isNaN(U)&&(U=10),o.a.createElement(b.a,{onChange:e.onZoomChange,value:U,label:S.a.zoom,useFloat:!1,min:1,max:20,step:1,key:t});case"offsetX":return o.a.createElement(b.a,{onChange:e.onSlidePosXChange,value:parseInt(x),label:S.a.offsetX,useFloat:!1,min:-1e3,max:1e3,step:1,key:t});case"offsetY":return o.a.createElement(b.a,{onChange:e.onSlidePosYChange,value:parseInt(D),label:S.a.offsetY,useFloat:!1,min:-1e3,max:1e3,step:1,key:t});case"alpha":return o.a.createElement(b.a,{onChange:e.onAlphaOffsetChange,value:parseInt(j),label:S.a.alpha,useFloat:!1,min:0,max:100,step:1,key:t});case"motionTime":return o.a.createElement(b.a,{onChange:e.onMotionTimeChange,value:N,label:S.a.motionTime,useFloat:!1,min:.1,max:5,step:.1,key:t});case"clear":return o.a.createElement("div",{className:"clearfix",key:t});default:return null}}))}}]),t}(r.Component);B.propTypes={isSlideTransition:l.a.bool,timelineMode:l.a.bool,transition:l.a.oneOfType([l.a.instanceOf(y.b),l.a.instanceOf(x.b)]),onPropertyChange:l.a.func,selectedElementsAreOverlay:l.a.bool},B.defaultProps={isSlideTransition:!1,timelineMode:!1,transition:new y.b,onPropertyChange:function(){},selectedElementsAreOverlay:!1};var H=B,U=n(386),z=n(392),G=n(411),F=n(405),W=o.a.createElement("svg",{viewBox:"0 0 24 24"},o.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},o.a.createElement("path",{d:"M19,4 L14.82,4 C14.4,2.84 13.3,2 12,2 C10.7,2 9.6,2.84 9.18,4 L5,4 C3.9,4 3,4.9 3,6 L3,20 C3,21.1 3.9,22 5,22 L19,22 C20.1,22 21,21.1 21,20 L21,6 C21,4.9 20.1,4 19,4 Z M12,4 C12.55,4 13,4.45 13,5 C13,5.55 12.55,6 12,6 C11.45,6 11,5.55 11,5 C11,4.45 11.45,4 12,4 Z M19,20 L5,20 L5,6 L7,6 L7,9 L17,9 L17,6 L19,6 L19,20 Z",id:"path-1"}))),V=n(868),q=n(447),K=n(549),Y=o.a.createElement("svg",{width:"24",height:"24"},o.a.createElement("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 01 2-2zm0 2v8h8V5zm0 10v4h8v-4zM15 5v14h4V5z",fillRule:"evenodd"})),X=o.a.createElement("svg",{width:"24",height:"24"},o.a.createElement("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm5 2v14h4V5z",fillRule:"evenodd"})),Z=o.a.createElement("svg",{width:"24",height:"24"},o.a.createElement("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm0 7v4h14v-4z",fillRule:"evenodd"})),J=o.a.createElement("svg",{width:"24",height:"24"},o.a.createElement("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm0 2v14h14V5z",fillRule:"evenodd"}),o.a.createElement("path",{d:"M11 7h2v3h-2zM14 11h3v2h-3zM11 14h2v3h-2zM7 11h3v2H7z"})),Q=o.a.createElement("svg",{width:"24",height:"24"},o.a.createElement("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm3 5v8h8V8z",fillRule:"evenodd"})),$=o.a.createElement("svg",{width:"24",height:"24"},o.a.createElement("rect",{width:"24",height:"24",fill:"none"}),o.a.createElement("rect",{x:"8",y:"5",width:"6",height:"3"}),o.a.createElement("circle",{cx:"11",cy:"5",r:"1.63"}),o.a.createElement("path",{d:"M11,3.75A1.25,1.25,0,1,1,9.75,5,1.25,1.25,0,0,1,11,3.75M11,3a2,2,0,1,0,2,2,2,2,0,0,0-2-2Z"}),o.a.createElement("path",{d:"M18,11.41A5.11,5.11,0,0,0,16,11a5,5,0,0,0-5,5,4.94,4.94,0,0,0,2,4,4.94,4.94,0,0,0,3,1,5,5,0,0,0, 2-9.59Zm0,6.83A3,3,0,1,1,19,16,3,3,0,0,1,18,18.24Z"}),o.a.createElement("path",{d:"M16,16V11h0a5,5,0,0,1,5,5Z"}),o.a.createElement("path",{d:"M16,4H6A2,2,0,0,0,4,6V18a2,2,0,0,0,2,2H16a2,2,0,0,0,2-1.76A3,3,0,0,1,13.77,18H6V6H16v7a3,3,0,0,1,2, .77V6A2,2,0,0,0,16,4Z"})),ee=o.a.createElement("svg",{width:"24",height:"24"},o.a.createElement("rect",{width:"24",height:"24",fill:"none"}),o.a.createElement("rect",{x:"9",y:"5",width:"6",height:"3"}),o.a.createElement("path",{d:"M17,6V18H7V6H17m0-2H7A2,2,0,0,0,5,6V18a2,2,0,0,0,2,2H17a2,2,0,0,0,2-2V6a2,2,0,0,0-2-2Z"}),o.a.createElement("circle",{cx:"12",cy:"5",r:"2"})),te=n(627),ne=n(1043),ae={TRANSITION_ONLY:"transitionOnly",TRANSITION_WITH_TIMING:"transitionWithTiming"},re=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function oe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ie=c.a.bind(d.a),le=[te.a.CURRENT,te.a.ALL,te.a.SQUARE,te.a.VERTICAL,te.a.HORIZONTAL],se=32,ce=55,ue=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=a=oe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={tooltipCopy:S.a.copy},a.onCopyTransition=function(){var e=a.props,t=e.onCopyTransition,n=e.buildType,r=e.transition,o=e.layer;a.setState({tooltipCopy:S.a.copied}),setTimeout((function(){a.refInspectorTransitionsFooter&&a.setState({tooltipCopy:S.a.copy})}),1e3),t(n,r,o)},a.onPasteTransition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a.props,r=n.copiedTransition,o=n.copiedMidTransition,i=n.isSelectionAndAreAllTexts,l=n.onPasteTransition,s=n.buildType,c=n.layer.bannersetElementId,u=n.layerId,d=n.isGeneratorMode,p=d||t&&t===ae.TRANSITION_WITH_TIMING,f=s===q.a.BUILD_MID?o:r;if(f)switch(f.type){case v.a.ALPHA_WORDS:case v.a.BLUR_WORDS:if(!i){var h=void 0;h=f.type===v.a.ALPHA_WORDS?v.a.ALPHA:v.a.BLUR,f=f.set("type",h)}}a.refPopover.hideContent(),l(f,u,s,d&&e||te.a.CURRENT,c,p)},a.getContentInside=function(e){var t=te.a.CURRENT,n=te.a.ALL,a=te.a.SQUARE,i=te.a.VERTICAL,l=te.a.HORIZONTAL;switch(e){case t:return o.a.createElement(r.Fragment,null,J,S.a.currentLayouts);case n:return o.a.createElement(r.Fragment,null,Y,S.a.allLayouts);case a:return o.a.createElement(r.Fragment,null,Q,S.a.rectangleLayouts);case i:return o.a.createElement(r.Fragment,null,X,S.a.verticalLayouts);case l:return o.a.createElement(r.Fragment,null,Z,S.a.horizontalLayouts);default:return null}},a.getContentInsideEditor=function(e){var t=ae.TRANSITION_ONLY,n=ae.TRANSITION_WITH_TIMING;switch(e){case t:return o.a.createElement(r.Fragment,null,ee,S.a.pasteTransitionWithoutTiming);case n:return o.a.createElement(r.Fragment,null,$,S.a.pasteTransitionWithTiming);default:return null}},oe(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),re(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.transitionType,a=t.pasteTransitionEnabled,r=t.copiedMidTransition,i=t.timelineMode,l=t.buildType,s=t.disableCopyPaste,c=t.isGeneratorMode,u=l===q.a.BUILD_MID?!r:!a,p=le.length*se+ce,f=Object.keys(ae).length*se+ce,h=c?le.map((function(t){var n=e.getContentInside(t);return o.a.createElement("div",{key:t,className:d.a.listElement,onClick:function(){return e.onPasteTransition(t)},role:"presentation"},n)})):null,m=c?null:Object.values(ae).map((function(t){var n=e.getContentInsideEditor(t);return o.a.createElement("div",{key:t,className:d.a.listElement,onClick:function(){return e.onPasteTransition(null,t)},role:"presentation"},n)}));return o.a.createElement("div",{className:ie(d.a.copyPasteContainer,{timelineMode:i}),ref:function(t){e.refInspectorTransitionsFooter=t}},o.a.createElement("div",{className:ie(d.a.iconContainer)},o.a.createElement(z.b,{title:this.state.tooltipCopy,placement:F.a.BOTTOM},o.a.createElement("span",null,o.a.createElement(G.a,{icon:V.a,skin:C.a.DARK_GREY,size:w.a.MEDIUM,iconSize:w.a.LARGE,onClick:this.onCopyTransition,disabled:s||n===v.a.UNDEFINED,highlightBackgroundOnClick:!0})))),c?o.a.createElement(K.a,{icon:W,skin:C.a.DARK_GREY,size:w.a.LARGE,iconSize:w.a.MEDIUM,tooltipText:S.a.paste,tooltipPlacement:F.a.BOTTOM,attachCallback:!0,contentPosition:{top:"-"+p+"px"},disabled:u,onIconClick:this.onPasteTransition,openOnIconClick:!1,ref:function(t){e.refPopover=t},highlightBackgroundOnClick:!0},o.a.createElement("div",{className:d.a.dropDownList},o.a.createElement("div",null,S.a.pasteDropdownTitle.toUpperCase()),h)):o.a.createElement(K.a,{icon:W,skin:C.a.DARK_GREY,size:w.a.LARGE,iconSize:w.a.MEDIUM,tooltipText:S.a.paste,tooltipPlacement:F.a.BOTTOM,attachCallback:!0,contentPosition:{top:"-"+f+"px"},disabled:u,onIconClick:function(){return e.onPasteTransition(null,ae.TRANSITION_ONLY)},openOnIconClick:!1,ref:function(t){e.refPopover=t},highlightBackgroundOnClick:!0},o.a.createElement("div",{className:d.a.dropDownList},o.a.createElement("div",null,S.a.paste.toUpperCase()),m)))}}]),t}(r.Component);ue.propTypes={buildType:l.a.oneOf([q.a.BUILD_IN,q.a.BUILD_MID,q.a.BUILD_OUT]),transitionType:l.a.oneOf(Object.values(v.a)),transition:l.a.oneOfType([l.a.instanceOf(y.b),l.a.instanceOf(x.b)]),pasteTransitionEnabled:l.a.bool,isSelectionAndAreAllTexts:l.a.bool,copiedTransition:l.a.instanceOf(ne.a),copiedMidTransition:l.a.instanceOf(ne.b),onCopyTransition:l.a.func,onPasteTransition:l.a.func,layerId:l.a.number,timelineMode:l.a.bool,disableCopyPaste:l.a.bool,layer:l.a.instanceOf(Object),isGeneratorMode:l.a.bool},ue.defaultProps={buildType:q.a.BUILD_IN,transitionType:v.a.NONE,transition:new y.b,pasteTransitionEnabled:!1,isSelectionAndAreAllTexts:!1,isGeneratorMode:!1,copiedTransition:new ne.a,copiedMidTransition:new ne.b,onCopyTransition:function(){},onPasteTransition:function(){},layerId:null,timelineMode:!1,disableCopyPaste:!1,layer:{}};var de=ue,pe=n(675),fe=n(399),he=n(391),me=n(409),be=n(459),ge=n(56);function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=Object(U.c)((function(e,t){var n=e.bannerCreator,a=n.editor,r=n.transitions,o=n.app.mode,i=r.copiedBuildType,l=r.copiedTransition,s=r.copiedMidTransition,c=a.timeline,u=a.banner.selectedLayers,d=t.timelineMode?c.buildPanelType:a.inspector.transitions.buildType,p=Object(me.a)(e),f=p.size>0&&!p.some((function(e){return e.layerType!==he.b.TEXT})),h=o===ge.a.GENERATOR,m=p.first(),b=Object(be.b)(e);return{copiedTransition:l,pasteTransitionEnabled:!!i,disableCopyPaste:u&&1!==u.size,copiedMidTransition:s,buildType:d,isSelectionAndAreAllTexts:f,layer:m,bannerDuration:b,isGeneratorMode:h}}),(function(e){return{onCopyTransition:function(t,n,a){e(Object(pe.a)(t,n,a))},onPasteTransition:function(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments[5],l=ye({},a,t.toJS());e(n?Object(fe.Q)(n,l,a,r,o,i):Object(fe.M)(l,!0))}}}))(de),Ee=n(114),Se=n(1089),Oe=o.a.createElement("svg",{id:"Capa_1",viewBox:"0 0 535.578 535.578"},o.a.createElement("path",{d:"M231.6,516.278c0,10.658-8.641,19.3-19.3,19.3H106.15c-10.659,0-19.3-8.641-19.3-19.3V19.3 c0-10.659, 8.641-19.3,19.3-19.3h106.15c10.659,0,19.3,8.641,19.3,19.3V516.278z"}),o.a.createElement("path",{d:"M448.728,516.278c0,10.658-8.641,19.3-19.3,19.3h-106.15c-10.659,0-19.3-8.641-19.3-19.3V19.3 c0-10.659, 8.641-19.3,19.3-19.3h106.15c10.659,0,19.3,8.641,19.3,19.3V516.278z"})),Ce=n(808),we=n(793),Te=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function ke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ie=c.a.bind(d.a),Le=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=ke(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onCrosstypeChange=function(e){a.props.onPropertyChange("crosstype",e)},a.onTypeChange=function(e){a.props.onPropertyChange("type",e)},a.onTransitionTypeChange=function(e){a.props.onPropertyChange("type",e)},a.getTransitionTypes=function(){var e=a.props,t=e.transitionsAreLimited,n=e.isSelectionAndAreAllTexts,r=e.isTextLayer,o=e.isSlideTransition;return(e.buildType===q.a.BUILD_MID?Se.a.middle:o||!n&&!r?Se.a.default:Se.a.text).map((function(e){return{value:e.value,text:e.text,limited:e.limited&&t}}))},a.getCrossType=function(){var e=a.props,t=e.transitionType,n=e.isSlideTransition,r=e.transition;return n&&t!==v.a.NONE?o.a.createElement("div",{className:d.a.crossSlide},o.a.createElement("div",{className:d.a.crossSlideLabel},o.a.createElement(g.a,{label:S.a.type,skin:C.a.WHITE,size:w.a.NORMAL})),o.a.createElement("div",null,o.a.createElement(m.a,{items:Se.a.slide,value:r.crosstype,onChange:a.onCrosstypeChange,width:"200px",autoHide:!1}))):null},a.getPlayButton=function(){var e=a.props,t=e.isSlideTransition,n=e.onAnimateChange,r=e.animating,i=e.transition,l=e.buildType,s=e.layerId,c=i.type;return t?null:o.a.createElement(G.a,{onClick:function(){n(!r,l,[s])},skin:C.a.WHITE_BLUE,icon:r?Oe:Ce.a,iconSize:w.a.XSMALL,size:w.a.MEDIUM,disabled:c===v.a.NONE||c===v.a.INSTANT})},a.getTypeButtons=function(){var e=a.props,t=e.transitionType,n=e.transition,r=e.lang,i=n.type,l=t===v.a.SLIDE,s=t===v.a.SCALE,c=i===v.a.SLIDE_ELASTIC||i===v.a.SCALE_ELASTIC,u=i===v.a.SLIDE_BOUNCE||i===v.a.SCALE_BOUNCE;return l||s?o.a.createElement("div",{className:Ie("typeOptions",{flexed:[we.a.FR,we.a.DE,we.a.BP,we.a.IT,we.a.HU].includes(r)})},o.a.createElement(Ee.a,{skin:c||u?C.a.ACCENT_GREY:C.a.BLUE,size:w.a.SMALL,readOnly:!c&&!u,onClick:function(){a.onTypeChange(t)}},S.a.transitionTypeNormal),o.a.createElement(Ee.a,{skin:u?C.a.BLUE:C.a.ACCENT_GREY,size:w.a.SMALL,readOnly:u,onClick:function(){a.onTypeChange(l?v.a.SLIDE_BOUNCE:v.a.SCALE_BOUNCE)}},S.a.transitionTypeBounce),o.a.createElement(Ee.a,{skin:c?C.a.BLUE:C.a.ACCENT_GREY,size:w.a.SMALL,readOnly:c,onClick:function(){a.onTypeChange(s?v.a.SCALE_ELASTIC:v.a.SLIDE_ELASTIC)}},S.a.transitionTypeElastic)):null},ke(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Te(t,[{key:"render",value:function(){var e=this.props,t=e.isSlideTransition,n=e.transitionType;return o.a.createElement("div",{className:d.a.transitionTypesGroup},this.getCrossType(),o.a.createElement("div",{className:d.a.transitionTypes},o.a.createElement("div",{className:d.a.transitionTypesSelect},o.a.createElement(m.a,{items:this.getTransitionTypes(),onChange:this.onTransitionTypeChange,onLimitedOptionClick:this.onTransitionTypeChange,value:n,width:t?"200px":"165px",autoHide:!1,minVisibleItems:t?5:10})),this.getPlayButton()),this.getTypeButtons())}}]),t}(r.Component);Le.propTypes={isSlideTransition:l.a.bool,animating:l.a.bool,onAnimateChange:l.a.func,transitionType:l.a.oneOf(Object.values(v.a)),transition:l.a.oneOfType([l.a.instanceOf(y.b),l.a.instanceOf(x.b)]),onPropertyChange:l.a.func,transitionsAreLimited:l.a.bool,isSelectionAndAreAllTexts:l.a.bool,isTextLayer:l.a.bool,buildType:l.a.string,lang:l.a.string,layerId:l.a.number},Le.defaultProps={isSlideTransition:!1,animating:!1,onAnimateChange:function(){},transitionType:v.a.NONE,transition:new y.b,onPropertyChange:function(){},transitionsAreLimited:!1,isSelectionAndAreAllTexts:!1,isTextLayer:!1,buildType:null,layerId:null,lang:"en"};var Pe=Le,Me=n(643),Re=n(707),xe=n(708),De=n(512),je=n(647),Ne=n(644),Ae=n(1044),_e=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=c.a.bind(d.a),Ue=[{text:S.a.in.toUpperCase(),value:q.a.BUILD_IN,svgIcon:Re.a},{text:S.a.out.toUpperCase(),value:q.a.BUILD_OUT,svgIcon:xe.a}],ze=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Ge.call(n),n.state={top:n.calculatePanelTop(e.top)},n.panelHeight=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_e(t,[{key:"componentDidMount",value:function(){this.recalculatePanelTop()}},{key:"componentDidUpdate",value:function(){this.recalculatePanelTop()}},{key:"getTransition",value:function(){var e=this.props,t=e.isSlideTransition,n=e.buildType,a=e.transition,r=e.buildIn,o=e.buildMid,i=e.buildOut;if(t)return a;switch(n){case q.a.BUILD_IN:return r;case q.a.BUILD_MID:return o;case q.a.BUILD_OUT:return i;default:return null}}},{key:"render",value:function(){var e=this,t=this.state.top,n=this.props,a=n.timelineMode,r=n.isGenerator,i=n.isLocked,l=n.left,s=Object(De.a)("transition");return a?o.a.createElement("div",null,this.getTransitionsContainer()):o.a.createElement("div",{ref:function(t){e.refInspectorTransition=t}},o.a.createElement(h.a,{locked:r&&i,style:{width:s,left:l+"px",top:t+"px",padding:"0"}},this.getHeader(),this.getTransitionsContainer()))}}]),t}(r.Component),Ge=function(){var e=this;this.componentWillReceiveProps=function(t){t.top!==e.props.top&&e.setState({top:e.calculatePanelTop(t.top)})},this.onPropertyChange=function(t,n){var a=e.props,r=a.isSlideTransition,o=a.onTransitionChange,i=a.onSlideTransitionChange,l=a.slideId,s=a.buildType,c=a.layerId,u=a.isGeneratorMode,d=a.slideIndex,p=Be({},t,n);"duration"!==t&&"delay"!==t&&(p.preset=v.a.NONE),"ease"===t&&n===Ae.a.LINEAR&&(p.tween=""),"type"===t&&n===v.a.PULSATE?p.variation=M.a.FORWARD:"type"===t&&n===v.a.SHAKE?p.variation=M.a.LEFT:"type"===t&&n===v.a.JELLO?p.direction=E.a.HORIZONTAL:"type"===t&&n===v.a.BOUNCE&&(p.direction=E.a.TOP),r?i(u?d:l,{transition:p}):o(Be({},s,p),c,s)},this.onLockClick=function(){var t=e.props,n=t.setLockedProperties,a=t.showUnlockTransitionPopin;t.confirmPopinRequired?a():n()},this.onLockSyncMouseDown=function(e){e.stopPropagation()},this.getTransitionType=function(e){switch(e){case v.a.SLIDE_BOUNCE:case v.a.SLIDE_ELASTIC:return v.a.SLIDE;case v.a.SCALE_BOUNCE:case v.a.SCALE_ELASTIC:return v.a.SCALE;default:return e}},this.getTransitionsContainer=function(){var t=e.props,n=t.isSlideTransition,a=t.timelineMode,r=t.selectedElementsAreOverlay,i=e.getTransition();return o.a.createElement("div",{className:d.a.inspectorTransitions},e.getMenu(),o.a.createElement("div",{className:He("body",{noMenu:n,timelineMode:a})},e.getTransitionTypes(),o.a.createElement(H,{isSlideTransition:n,transition:i,onPropertyChange:e.onPropertyChange,timelineMode:a,selectedElementsAreOverlay:r})),e.getFooter())},this.getTransitionTypes=function(){var t=e.props,n=t.isSlideTransition,a=t.animating,r=t.onAnimateChange,i=t.transitionsAreLimited,l=t.isSelectionAndAreAllTexts,s=t.buildType,c=t.layerId,u=t.isTextLayer,d=t.lang,p=e.getTransition();return o.a.createElement(Pe,{isSlideTransition:n,animating:a,onAnimateChange:r,transitionType:e.getTransitionType(p.type),transition:p,onPropertyChange:e.onPropertyChange,transitionsAreLimited:i,isSelectionAndAreAllTexts:l,buildType:s,layerId:c,isTextLayer:u,lang:d})},this.getHeader=function(){var t=e.props,n=t.isSlideTransition,a=t.timelineMode,r=t.isLocked,i=t.isGenerator;if(a)return null;var l=i?o.a.createElement("span",{className:f.a.switchButton},o.a.createElement(z.b,{title:r?S.a.unlockProperties:S.a.lockProperties},o.a.createElement(je.a,{icon:Ne.a.LOCK,isChecked:r,onMouseDown:e.onLockSyncMouseDown,onClick:e.onLockClick}))):null;return o.a.createElement("div",{className:f.a.panelHeader,style:{marginLeft:"0",marginTop:"0",width:"100%"}},o.a.createElement(g.a,{size:w.a.SMEDIUM,label:n?S.a.slideTransitionTitle:S.a.transitions,skin:C.a.WHITE}),l)},this.getMenu=function(){var t=e.props,n=t.isSlideTransition,a=t.onChangeBuildType,r=t.buildType,i=t.timelineMode;return n||i?null:o.a.createElement("div",{className:d.a.menu},o.a.createElement(Me.a,{items:Ue,selectedTab:r,onItemClick:a,size:w.a.SMALL,iconSize:w.a.XSMALL,skin:C.a.BLACK}))},this.getFooter=function(){var t=e.props,n=t.isSlideTransition,a=t.layerId,r=t.timelineMode;if(n)return null;var i=e.getTransition();return o.a.createElement(ve,{transitionType:e.getTransitionType(i.type),transition:i,layerId:a,timelineMode:r})},this.recalculatePanelTop=function(){if(e.refInspectorTransition){var t=e.refInspectorTransition.childNodes[0].getBoundingClientRect().height;e.panelHeight!==t&&(e.setState((function(t,n){return{top:e.calculatePanelTop(n.top)}})),e.panelHeight=t)}},this.calculatePanelTop=function(t){var n=e.props.minTop,a=e.props.maxTop,r=void 0;if(!n||!a)return t;(r=Math.max(t,n),e.refInspectorTransition)?a-=e.refInspectorTransition.childNodes[0].getBoundingClientRect().height:a-=98;return r=Math.max(Math.min(r,a),n)}};ze.propTypes={left:l.a.number,top:l.a.number,isSlideTransition:l.a.bool,isSelectionAndAreAllTexts:l.a.bool,transitionsAreLimited:l.a.bool,buildIn:l.a.instanceOf(y.b),buildMid:l.a.instanceOf(x.b),buildOut:l.a.instanceOf(y.b),transition:l.a.instanceOf(y.b),onTransitionChange:l.a.func,onSlideTransitionChange:l.a.func,slideId:l.a.number,animating:l.a.bool,timelineMode:l.a.bool,isTextLayer:l.a.bool,onAnimateChange:l.a.func,buildType:l.a.oneOf([q.a.BUILD_IN,q.a.BUILD_MID,q.a.BUILD_OUT]),onChangeBuildType:l.a.func,maxTop:l.a.number,minTop:l.a.number,layerId:l.a.number,selectedElementsAreOverlay:l.a.bool,isGeneratorMode:l.a.bool,slideIndex:l.a.number,isGenerator:l.a.bool,isLocked:l.a.bool,setLockedProperties:l.a.func,showUnlockTransitionPopin:l.a.func,confirmPopinRequired:l.a.bool,lang:l.a.string},ze.defaultProps={left:0,top:0,isSlideTransition:!1,isSelectionAndAreAllTexts:!1,transitionsAreLimited:!1,buildIn:new y.b,buildMid:new x.b,buildOut:new y.b,transition:new y.b,onTransitionChange:function(){},onSlideTransitionChange:function(){},slideId:0,animating:!1,timelineMode:!1,isTextLayer:!1,onAnimateChange:function(){},buildType:q.a.BUILD_IN,onChangeBuildType:function(){},maxTop:0,minTop:0,layerId:null,selectedElementsAreOverlay:!1,isGeneratorMode:!1,slideIndex:0,isGenerator:!1,isLocked:!1,setLockedProperties:function(){},showUnlockTransitionPopin:function(){},confirmPopinRequired:!1,lang:"en"};t.a=ze},702:function(e,t,n){"use strict";var a=n(65),r=Object(a.createSelector)([function(e){return e.bannerCreator.contentLibrary.selectedSubcategory}],(function(e){return e}));t.a=r},706:function(e,t,n){"use strict";var a=n(65),r=n(501),o=n(448),i=function(e,t){var n=e.bannerCreator.editor.banner,a=n.bannerPathMap,r=n.banner;return a[t]?r.getIn(a[t]):null},l=function(e){return e.bannerCreator.editor.banner.selectedLayers},s=function(e){return e.bannerCreator.editor.stage.selectingHoverElements},c=function(e){return e.bannerCreator.editor.stage.animatingElements},u=function(e){return e.bannerCreator.editor.timeline.playingSlide},d=function(e,t){return 2===e.bannerCreator.editor.banner.bannerPathMap[t].length};t.a=function(){return Object(a.createSelector)([i,l,s,c,u,d,r.b,o.a],(function(e,t,n,a,r,o,i,l){if(!e)return null;var s=t.findIndex((function(t){return t===e.id}))>-1,c=r,u=null;if(!c){var d=a.findIndex((function(t){return t.layerId===e.id}));u=(c=r||d>-1)?a.get(d).buildType:null}return{animatingBuildType:u,element:e,selected:s,animating:c,animationDelay:o?-i:0,selectingHover:n.findIndex((function(t){return t===e.id}))>-1,isOnlySelected:s&&1===t.size,slideDuration:l}}))}},707:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},r.a.createElement("defs",null,r.a.createElement("polygon",{id:"build-in-a",points:"7 17 17 17 17 7"})),r.a.createElement("use",{fillRule:"nonzero",xlinkHref:"#build-in-a",transform:"translate(-7 -7)"}))},708:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},r.a.createElement("defs",null,r.a.createElement("polygon",{id:"build-out-a",points:"7 17 17 17 17 7"})),r.a.createElement("use",{fillRule:"nonzero",transform:"matrix(-1 0 0 1 17 -7)",xlinkHref:"#build-out-a"}))},709:function(e,t,n){"use strict";var a=n(740),r=n(432);t.a=function(e){return r.b?"1"===r.d.editor_animations:[a.a.YES,a.a.LIMITED].indexOf(e)>=0}},741:function(e,t,n){"use strict";var a=n(388),r=n(65),o=n(596),i=n(409),l=n(528),s=Object(r.createSelector)([o.a,i.a],(function(e,t){var n=new a.List;t.forEach((function(e){n=n.push(e.bannersetElementId)}));var r=new a.List;return e.forEach((function(e){n.includes(e.bannersetElementId)&&e.lockedProperties.includes(l.a.TRANSITION)&&(r=r.push(e.bannersetElementId))})),r}));t.a=s},742:function(e,t,n){"use strict";t.a={BLACK:"#000000",darkBlue:"rgba(255, 255, 255, 0.1)",lightGrey:"rgba(255, 255, 255, 0.8)"}},743:function(e,t,n){"use strict";t.a={LOADING:"loading",LOADED:"loaded",ERROR:"error"}},744:function(e,t,n){"use strict";var a=function(e,t){var n=e.dataset?e.dataset.colorGroup:null;n&&t.size&&e.setAttribute("fill",t.get(n))};t.a=function(e,t){var n=document.createElement("div");n.innerHTML=e;for(var r=n.childNodes,o=0;o<r.length;o++){var i=r[o];if("svg"===i.tagName){a(i,t);for(var l=i.querySelectorAll("[data-color-group]"),s=0;s<l.length;s++){var c=l[s];a(c,t)}break}}return n.innerHTML}},745:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},r.a.createElement("g",{style:{stroke:"none",strokeWidth:1,fillRule:"evenodd"}},r.a.createElement("g",null,r.a.createElement("path",{d:"M10 4v1H6v2h1v10.997C7 19.103 7.9 20 9.001 20H14.999A2 2 0 0 0 17 18.003V7h1V5h-4V4h-4zM9 9.001h6V7H9v2.001zM9 18h6v-7H9v7z"}))))},746:function(e,t,n){"use strict";var a=n(65),r=n(474),o=Object(a.createSelector)([r.a],(function(e){return e.size}));t.a=o},748:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(971),s=n.n(l),c=n(387),u=n(923),d=n(7),p=n(17),f=n(503),h=n(393),m=n(564),b=n(615),g=r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("rect",{width:"24",height:"24",fill:"none"}),r.a.createElement("path",{d:"M7.49875,14.00125a2.996,2.996,0,0,0-3,3,2.02932,2.02932,0,0,1-2,2,5.17387,5.17387,0,0,0,4,2, 3.9989,3.9989,0,0,0,4-4A2.996,2.996,0,0,0,7.49875,14.00125Zm13.71-9.37-1.34-1.34a.99587.99587,0,0,0-1.41, 0l-8.96,8.96,2.75,2.75,8.96-8.96A.99587.99587,0,0,0,21.20875,4.63125Z"})),y={all:r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("rect",{width:"24",height:"24",fill:"none"}),r.a.createElement("path",{d:"M18,15v2H6V15Zm0-4v2H6V11Zm0-4V9H6V7Z"})),photos:b.a,illustrations:g},v=n(417),E=n(526),S=n(710),O=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function C(e){return r.a.createElement("div",{className:s.a.filterDropdownOption},r.a.createElement("div",{className:s.a.filterDropdownIcon},y[e]),r.a.createElement("div",{className:s.a.filterDropdownLabel},e===m.a.PHOTOS?c.a[e+"Tool"]:c.a[e]))}var w=function(e){var t=e.onClick,n=e.handleSearch,o=e.onFilterChange,i=e.showFilterDropdown,l=e.search,b=l.value,g=l.filter,y=Object(a.useState)(b),S=O(y,2),w=S[0],T=S[1];Object(a.useEffect)((function(){T(b)}),[b,T]);var k=Object.keys(m.a).map((function(e){return{value:m.a[e],text:m.a[e]===m.a.PHOTOS?c.a.photosTool:c.a[m.a[e]],node:C(m.a[e])}})),I=i?r.a.createElement("div",{className:s.a.categoryFilter},r.a.createElement("div",{className:s.a.filterSeparator}),r.a.createElement(f.a,{items:k,skin:d.a.GREY_BLUE,size:p.a.LMEDIUM,dropdownAlignment:h.a.RIGHT,labelBold:!0,onChangeFilter:function(e){o(e)},doHistoryUpdate:!1,value:g})):null,L=w?r.a.createElement("div",{className:s.a.clear,onClick:function(){w&&(n(""),T(""))}},E.a):null;return r.a.createElement("div",{className:s.a.search,onClick:t},r.a.createElement("div",{className:s.a.inputContainer},r.a.createElement("div",{className:s.a.searchIcon,onClick:function(){w!==b&&n(w)}},u.a),r.a.createElement("input",{className:s.a.searchInput,type:"text",maxLength:"100",autoCapitalize:"none",onChange:function(e){var t=e.target.value;T(t)},placeholder:c.a.searchElements,onKeyDown:function(e){switch(e.keyCode){case v.a.enter:w!==b&&n(w);break;case v.a.escape:T("")}},value:w}),L),I)};w.propTypes={onClick:i.a.func,handleSearch:i.a.func,onFilterChange:i.a.func,showFilterDropdown:i.a.bool,search:i.a.instanceOf(S.a)},w.defaultProps={onClick:function(){},handleSearch:function(){},onFilterChange:function(){},showFilterDropdown:!0,search:new S.a};t.a=w},795:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n(65),r=n(388),o=function(e,t,n,a){return!t||!e||!Object(r.List)().concat(a.displayAds,a.socialMedia,a.documents).some((function(a){return Math.round(a.presetSize.width)===Math.round(e)&&Math.round(a.presetSize.height)===Math.round(t)&&a.variation===n}))},i=Object(a.createSelector)([function(e){var t=e.bannerCreator;return t.editor.banner.banner&&t.editor.banner.banner.width},function(e){var t=e.bannerCreator;return t.editor.banner.banner&&t.editor.banner.banner.height},function(e){var t=e.bannerCreator;return t.editor.banner.banner&&t.editor.banner.banner.sizeVariation},function(e){return e.bannerCreator.app.sizePresets}],o);t.a=i},796:function(e,t,n){"use strict";var a,r;t.a=(a=regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="//s3.amazonaws.com/newfiles.bannersnack.net/banners/"+t+"/json",e.next=4,fetch(n);case 4:if(!(a=e.sent).ok){e.next=7;break}return e.abrupt("return",a.json());case 7:throw new Error("Cannot get bannerjson");case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 13:case"end":return e.stop()}}),e,void 0,[[0,10]])})),r=function(){var e=a.apply(this,arguments);return new Promise((function(t,n){return function a(r,o){try{var i=e[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(l)}("next")}))},function(e){return r.apply(this,arguments)})},797:function(e,t,n){"use strict";var a=n(65),r=n(416),o=Object(a.createSelector)([function(e){return e.bannerCreator.generator.general.bannersType},function(e){return e.bannerCreator.generator.templates.static},function(e){return e.bannerCreator.generator.templates.animated}],(function(e,t,n){return e===r.a.STATIC?t:n}));t.a=o},798:function(e,t,n){"use strict";var a=n(386),r=n(399),o=n(748),i=n(479),l=n(433),s=n(56),c=n(511),u=n(776),d=n(485),p=Object(a.c)((function(e,t){var n=e.bannerCreator,a=n.contentLibrary,r=a.selectedElementsPanelItem,o=a.search,i=n.generator.sidebar.activeElement,p=t.showFilterDropdown,f=Object(l.a)(e)===s.a.EDITOR,h=Object(u.a)(e),m=f?r:i;return{search:o,showFilterDropdown:p||h&&null===m&&h.name===d.a.elements||[c.a.FAVORITES,c.a.RECENTLY_USED].includes(m)}}),(function(e){return{onItemClick:function(t,n,a){e(Object(r.a)(t,n,{isBlocked:a}))},handleSearch:function(t){e(Object(i.h)(t))},onFilterChange:function(t){e(Object(i.i)(t))}}}))(o.a);t.a=p},799:function(e,t,n){"use strict";var a=n(65),r=Object(a.createSelector)((function(e){return e.bannerCreator.generator.bulkEditor.selectedElement}),(function(e){return e}));t.a=r},800:function(e,t,n){"use strict";var a=n(65),r=n(876),o=Object(a.createSelector)([function(e){return e.bannerCreator.contentLibrary.categories},r.a],(function(e,t){var n=e.find((function(e){return e.key===t}));return n&&n.id}));t.a=o},801:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(50),s=n.n(l),c=n(428),u=n(397),d=n(979),p=n.n(d),f=n(417),h=n(555),m=n(672),b=n(640),g=n(528),y=n(571),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var E=s.a.bind(p.a),S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onButtonLabelKeyUp=function(e){if(e.keyCode===f.a.escape&&n.state.isFocused)return n.setState({isFocused:!1}),n.props.allowIBShortcuts(!0),void e.stopPropagation();n.updateButtonLabel(e)},n.onButtonLabelKeyDown=function(e){e.keyCode!==f.a.escape&&e.keyCode!==f.a.enter||(e.preventDefault(),e.stopPropagation())},n.onMouseDown=function(e){n.state.isFocused&&e.stopPropagation()},n.onMouseUp=function(e){if(0===e.button){var t=n.props,a=t.element.lockedProperties,r=t.isOnlySelected,o=n.state.isFocused,i=a.includes(g.a.TEXT);o||e.ctrlKey||!r||i||(n.setState({isFocused:!0}),c.z(n.refLabelButton))}},n.onBlur=function(){n.setState({isFocused:!1});var e=window.getSelection();e.removeAllRanges&&e.removeAllRanges()},n.onTextPaste=function(e){c.A(e),n.updateButtonLabel()},n.showHoverState=function(){n.setState({hover:!0})},n.hideHoverState=function(){n.setState({hover:!1})},n.updateButtonLabel=function(){var e=n.props,t=e.element,a=e.updateElementProps,r=n.refLabelButton.innerText||n.refLabelButton.textContent;if(r!==t.buttonLabel){var o=Object(y.b)(r);o!==n.state.textDirection&&(n.setState({textDirection:o,hover:!0}),Object(y.c)(n.refLabelButton)),a({id:t.id,props:{buttonLabel:r,layerName:c.d(t,r),labelStyle:{textDirection:o}}})}},n.state={hover:!!e.hover,isFocused:!1,textDirection:e.element.labelStyle.textDirection||y.a.LTR},n.loadButtonFont(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:"componentDidMount",value:function(){this.loadButtonFont(),this.props.readOnly||this.refLabelButton.addEventListener("paste",this.onTextPaste)}},{key:"componentWillReceiveProps",value:function(e){e.isOnlySelected||this.setState({isFocused:!1}),e.hover!==this.props.hover&&this.setState({hover:e.hover});var t=e.element,n=this.props.element,a=t.labelStyle,r=a.fontFamily,o=a.fontWeight,i=a.fontType,l=a.fontUrl,s=a.fontFaceUrl,c=a.fontStyle,u=a.fontPrefix,d=n.labelStyle;d.fontFamily===r&&d.fontWeight===o&&d.fontStyle===c||Object(m.a)(r,o,i,l,s,c,u)}},{key:"shouldComponentUpdate",value:function(e,t){if(!t.isFocused)return!0;if(e.readOnly||t.isFocused!==this.state.isFocused||e.zoom!==this.props.zoom||e.element.height!==this.props.element.height||e.element.labelOffsetY!==this.props.element.labelOffsetY)return!0;var n=this.props.element,a=n.toJS(),r=e.element;if(!n.labelStyle.textDirection&&r.labelStyle.textDirection===y.a.LTR)return!1;for(var o in a)if("buttonLabel"!==o&&"height"!==o&&"layerName"!==o&&"offsetY"!==o&&r[o]!==n[o])return!0;return!1}},{key:"componentDidUpdate",value:function(e){var t=e.element,n=this.props,a=n.element,r=n.sidebar;a.width===t.width&&a.height===t.height&&a.x===t.x&&a.y===t.y||r||c.z(this.refLabelButton)}},{key:"componentWillUnmount",value:function(){this.props.readOnly||this.refLabelButton.removeEventListener("paste",this.onTextPaste)}},{key:"getHoverBackgroundColor",value:function(e){switch(e.type){case"solid":return Object.assign({},e.toJS(),{scolor:c.e(e.scolor,10)});case"rgrad":case"lgrad":for(var t=e.gradColors,n=[],a=0;a<t.length;a++)n.push({c:c.e(t[a].c,10),p:t[a].p});return Object.assign({},e.toJS(),{gradColors:n});default:return e}}},{key:"getHoverBorderColor",value:function(e){var t=Object(u.x)(e);return Object(u.m)(c.e("#"+t.color,10),t.alpha)}},{key:"loadButtonFont",value:function(){var e=this.props.element.labelStyle,t=e.fontFamily,n=e.fontWeight,a=e.fontType,r=e.fontUrl,o=e.fontFaceUrl,i=e.fontStyle,l=e.fontPrefix;Object(m.a)(t,n,a,r,o,i,l)}},{key:"render",value:function(){var e=this,t=this.props.element,n=t.backgroundColor,o=t.border,i=t.opacity,l=t.dropShadow,s=t.buttonLabel,u=t.labelStyle,d=t.labelShadow,f=t.labelOffsetX,h=t.lockedProperties,m=t.height,v=this.props.zoom,S=this.state,O=S.isFocused,C=S.hover,w=C?this.getHoverBackgroundColor(n):n,T=C?this.getHoverBorderColor(o.color):o.color,k=Object.assign({},c.g(w,o.weight,v),c.h(o.weight,T,v),c.f(o.radius,!1,v),c.q(i),c.i(l,v)),I=Object.assign({},c.l(u.color),c.w(u,v),{marginLeft:Math.round(f*v)+"px",lineHeight:Math.round((m-2*o.weight)*v)+"px"},c.v(d,v)),L=h.includes(g.a.TEXT);O&&Object.assign(I,{cursor:"text"});var P=L&&C?r.a.createElement("span",{className:p.a.lockIcon},b.a):null;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{style:k,className:E("element","button",{isFocused:O}),onMouseEnter:this.showHoverState,onMouseLeave:this.hideHoverState},r.a.createElement("div",{className:p.a.buttonLabel,onBlur:this.onBlur,onKeyUp:this.onButtonLabelKeyUp,onKeyDown:this.onButtonLabelKeyDown,onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,onClick:this.onClick,dir:u.textDirection||y.a.LTR,ref:function(t){e.refLabelButton=t,t&&(t.contentEditable=O)},style:I,role:"button",tabIndex:-1},s)),P)}}]),t}(a.Component);S.propTypes={element:i.a.instanceOf(h.a).isRequired,isOnlySelected:i.a.bool,readOnly:i.a.bool,updateElementProps:i.a.func,zoom:i.a.number,allowIBShortcuts:i.a.func,sidebar:i.a.bool,hover:i.a.bool},S.defaultProps={isOnlySelected:!1,readOnly:!1,updateElementProps:function(){},zoom:1,allowIBShortcuts:function(){},sidebar:!1,hover:!1},t.a=S},804:function(e,t,n){"use strict";var a=n(467),r=n(387);t.a={embed:[{value:a.a.SOLID,text:r.a.solid},{value:a.a.GRADIENT,text:r.a.gradient},{value:a.a.IMAGE,text:r.a.image},{value:a.a.NONE,text:r.a.none}],button:[{value:a.a.SOLID,text:r.a.solid},{value:a.a.GRADIENT,text:r.a.gradient},{value:a.a.NONE,text:r.a.none}],shape:[{value:a.a.SOLID,text:r.a.solid},{value:a.a.GRADIENT,text:r.a.gradient},{value:a.a.IMAGE,text:r.a.image},{value:a.a.NONE,text:r.a.none}],background:[{value:a.a.SOLID,text:r.a.colorInspectorTooltip},{value:a.a.GRADIENT,text:r.a.gradient},{value:a.a.IMAGE,text:r.a.image},{value:a.a.NONE,text:r.a.none}]}},805:function(e,t,n){"use strict";t.a={SCALE_CROP:"scaleCrop",EXACT_FIT:"exactFit",MAINTAIN_ASPECT:"maintainAspect",NO_SCALE:"noScale",TILE:"tile",CROP:"crop"}},806:function(e,t,n){"use strict";t.a={SWITCH:"switch",TOP_LINE:"topLine",BOTTOM_LINE:"bottomLine"}},807:function(e,t,n){"use strict";var a=n(65),r=n(434),o=n(448),i=n(459),l=n(501),s=n(442),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=Object(a.createSelector)([function(e){return e.bannerCreator.editor.banner.banner},function(e){return e.bannerCreator.editor.banner.selectedSlideId},r.a,o.a,l.b,i.b],(function(e,t,n,a,r,o){if(!(e&&"elements"in e))return null;var i=e.elements.find((function(e){return e.id===t}));if(!i)return null;var l=n.map((function(e){var t=e.id;return c({id:t},Object(s.b)(e,0,o))})),u=n.size?r:0;return i.elements.map((function(e){var t=e.id;return c({id:t},Object(s.b)(e,u,a))})).concat(l)}));t.a=u},808:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{viewBox:"0 0 42 42",height:"14px"},r.a.createElement("path",{d:"M36.068 20.176l-29-20A1 1 0 1 0 5.5.999v40a1 1 0 0 0 1.568.823l29-20a.999.999 0 0 0 0-1.646z"}))},809:function(e,t,n){"use strict";var a=n(65),r=n(391);t.a=Object(a.createSelector)([function(e){var t=e.bannerCreator.editor.banner,n=t.banner,a=t.bannerPathMap;return t.selectedLayers.map((function(e){return n.getIn(a[e])}))},function(e){return e.bannerCreator.editor.stage.animatingElements}],(function(e,t){return!!t.size&&e.filter((function(e){return e.layerType!==r.b.YOUTUBE})).every((function(e){return t.find((function(t){return t.layerId===e.id}))}))}))},810:function(e,t,n){"use strict";t.a=function(e){return e.app.lang}},811:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M0 0h24v24H0z"}),r.a.createElement("path",{fill:"#3C4258",fillRule:"nonzero",d:"M22 16l-10 5-10-5 4-2 6 3 6-3z",opacity:".2"}),r.a.createElement("path",{fill:"#3C4258",fillRule:"nonzero",d:"M22 12l-10 5-10-5 10-5z",opacity:".4"}),r.a.createElement("path",{fill:"#3C4258",fillRule:"nonzero",d:"M2 8l10-5 10 5-10 5z"})))},813:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n(439),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:a.y,payload:{bannerIndex:e,position:t}}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:a.g,payload:{position:e}}}},814:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(50),s=n.n(l),c=n(394),u=n(17),d=n(7),p=n(1019),f=n.n(p),h=n(403),m=n(392),b=n(393),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var y=s.a.bind(f.a),v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.onArrowClick=function(e){n.state.dropdownVisible?n.hideDropdown():n.showDropdown(),e.stopPropagation(),e.preventDefault()},n.onMainButtonClick=function(){n.hideDropdown(),n.props.onMainButtonClick()},n.onBodyMouseDown=function(e){if(n.refArrow){var t=n.refArrow.parentNode.parentNode;t.contains(e.target)||e.target===t||n.hideDropdown()}},n.getDropdown=function(){var e=n.props.dropdownItems;if(n.state.dropdownVisible){var t=e.length?e.map((function(e){var t=e.label,a=e.onClick,o=e.disabled;return r.a.createElement("div",{key:t,className:f.a.element,onMouseDown:o?null:a,onMouseUp:n.hideDropdown},r.a.createElement(c.a,{disabled:o,label:t,size:u.a.NORMAL,skin:d.a.DARK_GREY}))})):e;return r.a.createElement("div",{className:f.a.dropdown},t)}return null},n.getMainButton=function(){var e=n.props,t=e.mainButtonIcon,a=e.mainButtonLabel,o=e.tooltipText,i=null,l=null;a&&(i=r.a.createElement("div",{className:f.a.label},a)),t&&(l=r.a.createElement("div",{className:f.a.icon},r.a.createElement(h.a,{size:u.a.LARGE,skin:d.a.NO_SKIN},t)));var s=r.a.createElement("div",{className:y("iconAndLabel"),onClick:n.onMainButtonClick},l,i);return o&&(s=r.a.createElement(m.b,{placement:b.a.BOTTOM,title:o},s)),s},n.getArrow=function(){var e=n.props.showDropdownArrow,t=n.state.dropdownVisible;return e?r.a.createElement("div",{ref:function(e){n.refArrow=e},className:y("arrowContainer",{selected:t}),onClick:n.onArrowClick},r.a.createElement("div",{className:f.a.arrowDown})):null},n.showDropdown=function(){n.setState({dropdownVisible:!0}),window.addEventListener("click",n.hideDropdown)},n.hideDropdown=function(){n.setState({dropdownVisible:!1}),window.removeEventListener("click",n.hideDropdown)},n.state={dropdownVisible:!1,active:e.activeButton},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),g(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.activeButton!==t.active?{active:e.activeButton}:null}}]),g(t,[{key:"componentDidUpdate",value:function(e){e.dropdownVisible!==this.state.dropdownVisible&&(this.state.dropdownVisible?document.body.addEventListener("mousedown",this.onBodyMouseDown):document.body.removeEventListener("mousedown",this.onBodyMouseDown))}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("mousedown",this.onBodyMouseDown)}},{key:"render",value:function(){var e=this.state,t=e.dropdownVisible,n=e.active;return r.a.createElement("div",{className:y("container",{selected:t,active:n})},r.a.createElement("div",{className:y("mainButton")},this.getMainButton(),this.getArrow()),this.getDropdown())}}]),t}(a.Component);v.propTypes={onMainButtonClick:i.a.func,dropdownItems:i.a.oneOfType([i.a.arrayOf(i.a.shape({label:i.a.string.isRequired,onClick:i.a.func.isRequired})),i.a.element]).isRequired,mainButtonIcon:i.a.instanceOf(Object),mainButtonLabel:i.a.string,tooltipText:i.a.string,showDropdownArrow:i.a.bool,activeButton:i.a.bool},v.defaultProps={onMainButtonClick:function(){},mainButtonLabel:"",mainButtonIcon:null,tooltipText:"",showDropdownArrow:!0,activeButton:!1},t.a=v},815:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l}));var a=n(430),r=function(){return{type:a.Gc}},o=function(e){return{type:a.mb,payload:{selectedTab:e}}},i=function(e){return{type:a.Lb,payload:{slidesScroll:e}}},l=function(e){return{type:a.wb,payload:{sorting:e}}}},816:function(e,t,n){"use strict";t.a={TIMELINE:"timeline",SIDEBAR:"sidebar"}},817:function(e,t,n){"use strict";var a=n(65),r=n(474),o=Object(a.createSelector)([r.a],(function(e){return e.map((function(e){return e.id}))}));t.a=o},819:function(e,t,n){"use strict";var a=n(386),r=n(0),o=n.n(r),i=n(4),l=n.n(i),s=n(50),c=n.n(s),u=n(388),d=n(588),p=n.n(d),f=n(981),h=n.n(f),m=n(395),b=n(17),g=n(7),y=n(116),v=n(398),E=n(651),S=n(387),O=n(393),C=n(403),w=n(392),T=n(982),k=n.n(T),I=["Any","JPG","PNG","GIF","SVG"],L=n(802),P=n(57),M=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},R=c.a.bind(k.a),x=function(e){var t=e.filterValue,n=e.handleFilter,a=e.skin,i=Object(r.useState)(t),l=M(i,2),s=l[0],c=l[1];Object(r.useEffect)((function(){c(t)}),[t,c]);var u=function(e){s!==e&&n(e)};var d=I.map((function(e){var t=e===s?k.a.active:"";return o.a.createElement("div",{key:e,className:R(k.a.imageType,t,a),onClick:function(){return u(e)}},o.a.createElement("div",{className:k.a.text},e))}));return o.a.createElement("div",{className:R(k.a.container,a)},o.a.createElement("div",{className:k.a.filter},S.a.imageFilterBy),o.a.createElement("div",{className:k.a.filtersContainer},d))};x.propTypes={handleFilter:l.a.func,skin:l.a.oneOf([g.a.LIGHT_GREY,g.a.DARK_BLUE]),filterValue:l.a.string},x.defaultProps={handleFilter:P.a,filterValue:L.a.ANY,skin:g.a.DARK_BLUE};var D=x,j=n(456),N=n(476),A=Object(a.c)((function(e){var t=e.bannerCreator.editor;return{skin:Object(N.a)(e),filterValue:t.tools.myImages.filterValue}}),(function(e){return{handleFilter:function(t){e(Object(j.s)(t))}}}))(D),_=n(407),B=n(803),H=n(575),U=n(701),z=n(748),G=n(983),F=n.n(G),W=n(422),V=n(874),q=n(710),K=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var X=c.a.bind(F.a),Z=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=Y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={isSearchActive:!!a.props.search.value||!a.props.showSelect},a.showSearch=function(){a.setState({isSearchActive:!0});var e=a.props,t=e.folderId,n=e.onFolderSelect;"all"!==t&&n("all")},a.showFolderSelect=function(){a.state.isSearchActive&&(a.setState({isSearchActive:!1}),a.props.handleSearch(""))},a.handleChange=function(e){a.props.onFolderSelect(e)},Y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),K(t,[{key:"componentDidMount",value:function(){this.props.onComponentDidMount()}},{key:"render",value:function(){var e=[{value:"all",text:S.a.allImages}],t=this.props,n=t.folders,a=t.folderId,r=t.showSelect,i=t.handleSearch,l=t.search,s=this.props.placement,c=this.state.isSearchActive,u=!c;n.forEach((function(t){e.push({value:t.id,text:t.name})})),e.push({value:0,text:"*"+S.a.unsorted});var d=s===v.a.IMAGES_MODAL||s===v.a.GENERATOR?g.a.GREY:g.a.WHITE,p=s===v.a.IMAGES_MODAL||s===v.a.GENERATOR?g.a.WHITE:g.a.REAL_WHITE,f=s===v.a.IMAGES_MODAL||s===v.a.GENERATOR?g.a.TRANSPARENT_DARKER_GREY:g.a.GREY;s=s===v.a.BACKGROUND?v.a.ADD_PHOTOS:s;var h=void 0;if(r){var m=c?o.a.createElement("div",{className:X(F.a.folderIcon,s)},V.a):o.a.createElement(W.a,{items:e,value:a,onChange:this.handleChange,skin:p,size:b.a.LMEDIUM,iconSkin:f,iconSize:b.a.LARGE,autoHide:!1,placement:s,dropdownItemHeight:32},V.a);h=o.a.createElement("div",{className:X("selectFolder",s,{isSearchActive:c,isSelectActive:u}),onClick:this.showFolderSelect},m)}return o.a.createElement("div",{className:X(F.a.container,d,{generator:s===v.a.GENERATOR})},o.a.createElement("div",{className:X("searchImage",{isSearchActive:c})},o.a.createElement(z.a,{onChange:this.handleChange,handleSearch:i,onClick:this.showSearch,showFilterDropdown:!1,search:l})),h)}}]),t}(r.Component),J=Z;Z.propTypes={search:l.a.instanceOf(q.a),folders:l.a.instanceOf(u.List),onFolderSelect:l.a.func,handleSearch:l.a.func,onComponentDidMount:l.a.func,placement:l.a.oneOf([v.a.IMAGES_MODAL,v.a.ADD_PHOTOS,v.a.BACKGROUND,v.a.GENERATOR]),folderId:l.a.oneOfType([l.a.string,l.a.number]).isRequired,showSelect:l.a.bool},Z.defaultProps={search:new q.a,folders:new u.List,onFolderSelect:function(){},handleSearch:function(){},onComponentDidMount:function(){},placement:v.a.ADD_PHOTOS,showSelect:!0};var Q=n(455),$=n(479),ee=Object(a.c)((function(e){var t=e.bannerCreator,n=t.editor.tools.myImages.folderId,a=t.library.images.folderList;return{search:t.contentLibrary.search,folderId:n,showSelect:0!==a.size,folders:a}}),(function(e){return{onComponentDidMount:function(){e(Object(Q.i)())},handleSearch:function(t){e(Object($.h)(t))},onFolderSelect:function(t){e(Object(j.d)(t))}}}))(J),te=n(984),ne=n.n(te),ae=n(397),re=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function oe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ie=c.a.bind(ne.a),le=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=oe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.getContent=function(){var e=a.props,t=e.searchValue,n=e.folderName,r=e.onAllImagesClick,i=e.placement,l=S.a.showingResultsFor+" "+S.a.allImages,s=i===v.a.GENERATOR;switch(!0){case!t&&!n:break;case!!t:l=o.a.createElement("span",null,S.a.showingResultsFor,o.a.createElement("span",{className:ne.a.bold}," "+Object(ae.u)(t,s?12:25,!0)));break;case!!n:l=o.a.createElement("span",null,o.a.createElement("span",{className:ie("bold","link"),onClick:r},S.a.allImages),o.a.createElement("span",{className:ne.a.arrows},""),Object(ae.u)(n,s?20:30,!0))}return l},oe(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),re(t,[{key:"render",value:function(){return o.a.createElement("div",{className:ie("breadCrumbContainer","skin_"+this.props.placement)},this.getContent())}}]),t}(r.Component);le.propTypes={placement:l.a.oneOf([v.a.IMAGES_MODAL,v.a.ADD_PHOTOS,v.a.BACKGROUND,v.a.GENERATOR,v.a.EDITOR]),searchValue:l.a.string,folderName:l.a.string,onAllImagesClick:l.a.func},le.defaultProps={placement:v.a.ADD_PHOTOS,searchValue:"",folderName:null,onAllImagesClick:function(){}};var se=le,ce=Object(a.c)((function(e){var t=e.bannerCreator,n=t.editor.tools.myImages.folderId,a=t.library.images.folderList,r=t.contentLibrary.search.value,o=null,i=a.find((function(e){return e.id===n}));return n>0&&i?o=i.name:0===n&&(o=S.a.unsorted),{searchValue:r,folderName:o}}),(function(e){return{onAllImagesClick:function(){e(Object(j.d)("all"))}}}))(se),ue=n(394),de=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function pe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var fe=c.a.bind(h.a),he=B.a.UPLOAD_MAX_SIZE,me=U.a.UPLOAD_PSD_MAX_SIZE,be=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=pe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.state={scrollRef:null,dragging:!1,page:1},a.onFilesDrop=function(e,t){var n=a.props,r=n.placement;(0,n.onFilesDrop)(e,t,{placement:r}),a.setState({dragging:!1})},a.onDragEnter=function(){a.setState({dragging:!0})},a.onDragLeave=function(){a.setState({dragging:!1})},a.getDropzone=function(){var e=a.props,t=e.uploadingImage,n=e.skin,r=e.placement,i=a.state.dragging,l=r!==v.a.IMAGES_MODAL,s=r!==v.a.GENERATOR?y.a.uploadImagesAndPsdSidebar:y.a.uploadImagesAndPsd,c=void 0;return c=t?o.a.createElement(m.a,{skin:n===g.a.LIGHT_GREY?g.a.GREY:g.a.SEMI_TRANSPARENT_WHITE,type:b.a.MEDIUM}):o.a.createElement("div",{className:fe(h.a.dropZoneWrapper,{dragging:i})},o.a.createElement("div",{className:fe(h.a.dropZoneContent,{dragging:i})},o.a.createElement("div",{className:h.a.dropZoneTopLabel},S.a.uploadImagesOrImportAssets),o.a.createElement("div",{className:h.a.dropZoneButton},o.a.createElement("div",{className:h.a.icon},y.a.upload),o.a.createElement("div",{className:h.a.label},S.a.libraryUploadFiles)),o.a.createElement("div",{className:h.a.dropZoneLabel},S.a.dragAndDropToUploadFile,o.a.createElement("div",{className:h.a.info},o.a.createElement(w.b,{placement:O.a.BOTTOM,skin:g.a.WHITE,html:!0,title:S.a.libraryUploadImagesTooltip},o.a.createElement("span",null,o.a.createElement(C.a,{size:b.a.SMALL},y.a.info)))))),o.a.createElement("div",{className:fe(h.a.draggingContainer,{dragging:i})},l?s:y.a.upload)),o.a.createElement("div",{className:fe(h.a.dropzoneContainer,{dragging:i})},o.a.createElement(p.a,{className:fe("dropzone","canUploadPsd"),onDrop:a.onFilesDrop,onDragEnter:a.onDragEnter,onDragLeave:a.onDragLeave,multiple:!0,disableClick:t,accept:E.a+","+E.b,maxSize:Math.max(he,me)},c))},a.setPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.setState({page:e||a.state.page+1})},a.setScrollRef=function(e){a.setState({scrollRef:e})},a.resetScroll=function(){a.state.scrollRef&&a.state.scrollRef.current&&a.state.scrollRef.current.scrollTop(0)},pe(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),de(t,[{key:"componentDidMount",value:function(){this.props.images.size||this.props.loadImages()}},{key:"componentDidUpdate",value:function(e){e.filterValue===this.props.filterValue&&e.searchValue===this.props.searchValue&&e.folderId===this.props.folderId||(this.setPage(1),this.resetScroll())}},{key:"render",value:function(){var e=this.props,t=e.images,n=e.requestingImages,a=e.skin,r=e.placement,i=e.searchValue,l=this.state.page,s=void 0;if(n&&!t.size){var c=a===g.a.LIGHT_GREY?g.a.BLUE:g.a.SEMI_TRANSPARENT_WHITE;s=o.a.createElement(m.a,{skin:c,type:b.a.LARGE})}else if(t.size){var u=t.splice(50*l);s=o.a.createElement("div",{className:h.a.myImagesImagesList},o.a.createElement(H.a,{skin:a,columns:3,items:u,placement:r,searchValue:i,infiniteScroll:!0,handleInfiniteScroll:this.setPage,sendScrollRef:this.setScrollRef,itemsHeight:"100%"}))}else s=o.a.createElement(ue.a,{skin:a,label:S.a.noImagesFound,size:b.a.NORMAL});return o.a.createElement("div",{className:fe(h.a.myImagesContainer,"myImages-"+r),"data-qa":_.r},o.a.createElement("div",null,o.a.createElement(ee,null)),o.a.createElement(A,null),this.getDropzone(),o.a.createElement("div",{className:h.a.breadCrumb},o.a.createElement(ce,{placement:r})),s)}}]),t}(r.Component);be.propTypes={images:l.a.instanceOf(u.List),requestingImages:l.a.bool,loadImages:l.a.func,placement:l.a.oneOf([v.a.EDITOR,v.a.GENERATOR,v.a.BACKGROUND]),skin:l.a.oneOf([g.a.LIGHT_GREY,g.a.DARK_BLUE]),onFilesDrop:l.a.func,uploadingImage:l.a.bool,searchValue:l.a.string.isRequired,filterValue:l.a.string,folderId:l.a.oneOfType([l.a.string,l.a.number]).isRequired},be.defaultProps={images:new u.List,requestingImages:!1,loadImages:function(){},placement:v.a.EDITOR,skin:g.a.DARK_BLUE,onFilesDrop:P.a,uploadingImage:!1,filterValue:L.a.ANY};var ge=be,ye=n(878),ve=n(65),Ee=Object(ve.createSelector)([function(e){return e.bannerCreator.library.images.imageList}],(function(e){return e.some((function(e){return e.uploading}))})),Se=Object(a.c)((function(e){var t=e.bannerCreator,n=t.editor.tools.myImages,a=n.filterValue,r=n.folderId,o=t.library.images.loadedRequests.images,i=t.contentLibrary.search.value;return{skin:Object(N.a)(e),images:Object(ye.a)(e),uploadingImage:Ee(e),requestingImages:!o,searchValue:i,filterValue:a,folderId:r}}),(function(e){return{loadImages:function(){e(Object(Q.h)())},onDeleteImageClick:function(t){e(Object(Q.x)([t]))},onFilesDrop:function(t,n,a){e(Object(Q.G)(t,n,a))}}}))(ge);t.a=Se},820:function(e,t,n){"use strict";var a=n(430);var r,o,i={},l=(r=regeneratorRuntime.mark((function e(t,n){var a,r,o,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i[a=t+"_"+n]){e.next=3;break}return e.abrupt("return",i[a]);case 3:return r=new Error("No templates found"),e.prev=4,o="//dge4uaysoh8oy.cloudfront.net/public/templates/editor/"+t+"_"+n+".json",e.next=8,fetch(o);case 8:if(!(l=e.sent).ok){e.next=15;break}return e.next=12,l.json();case 12:return s=e.sent,i[a]=s,e.abrupt("return",s);case 15:return e.abrupt("return",Promise.reject(r));case 18:throw e.prev=18,e.t0=e.catch(4),r;case 21:case"end":return e.stop()}}),e,this,[[4,18]])})),o=function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function a(r,o){try{var i=e[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));t(l)}("next")}))},function(e,t){return o.apply(this,arguments)});var s,c,u=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(r,o){try{var i=t[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))}}(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"//dge4uaysoh8oy.cloudfront.net/public/templates/categories.json",e.next=3,fetch("//dge4uaysoh8oy.cloudfront.net/public/templates/categories.json");case 3:if(!(t=e.sent).ok){e.next=6;break}return e.abrupt("return",t.json());case 6:return e.abrupt("return",Promise.reject());case 7:case"end":return e.stop()}}),e,void 0)}))),d=n(686),p=n(796),f=n(389),h=n.n(f),m=n(390),b=(s=["\n        mutation ($keywords: String!) {\n            saveSearchKeyword(keywords: $keywords)\n        }\n    "],c=["\n        mutation ($keywords: String!) {\n            saveSearchKeyword(keywords: $keywords)\n        }\n    "],Object.freeze(Object.defineProperties(s,{raw:{value:Object.freeze(c)}})));var g=function(e){var t=h()(b);return m.a.mutate({mutation:t,variables:{keywords:e},fetchPolicy:"no-cache"})},y=n(406);n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return S})),n.d(t,"g",(function(){return O})),n.d(t,"i",(function(){return C})),n.d(t,"e",(function(){return w})),n.d(t,"h",(function(){return T})),n.d(t,"b",(function(){return k})),n.d(t,"f",(function(){return I}));var v=function(){return{type:a.Q,promise:u()}},E=function(e,t,n,r,o){return function(i,s){var c=s().bannerCreator.editor.templates,u=c.selectedSize,p=c.selectedType,f=null===e?p:e,h=u;t&&n&&(h=Math.round(t)+"x"+Math.round(n)+(r&&!o?"_"+r:"")),h===u&&f===p||i({type:a.R,promise:f===d.a.MY_TEMPLATES?Promise.resolve([]):l(h,f),payload:{selectedType:f,selectedSize:h}})}},S=function(e,t){return function(n,r){var o=r().app.user.features.bmMultipleSlides;n({type:a.e,promise:Object(p.a)(e),payload:{hash:e,isItemBlocked:t,useOnlyFirstSlide:o!==y.a.YES}})}},O=function(e){return function(t,n){var r=n().bannerCreator.editor.templates.searchValue;if(e!==r){var o=e?e.trim():"",i=!o.includes(" ");t({type:a.Gb,promise:i?g(o):Promise.resolve(),payload:{value:e}})}}},C=function(){return{type:a.nc}},w=function(e){return{type:a.gb,payload:{category:e}}},T=function(e){return{type:a.Zb,payload:{hash:e}}},k=function(){return{type:a.D}},I=function(e){return{type:a.Qb,payload:{scrollTop:e}}}},821:function(e,t,n){"use strict";var a=n(386),r=n(4),o=n.n(r),i=n(676),l=n(65),s=n(388),c=n(434),u=function(e,t){var n=e.bannerCreator.editor.banner,a=n.bannerPathMap,r=n.bannerLoaded,o=n.selectedSlideId,i=n.banner,l=t||o;return r&&l?i.getIn(a[l]).elements:new s.List},d=function(){return Object(l.createSelector)([c.a,u],(function(e,t){return t.concat(e)}))},p=Object(a.c)((function(){var e=d();return function(t,n){var a=t.bannerCreator.editor,r=a.stage,o=r.loading,i=r.rotating,l=r.dragging,s=r.resizing,c=a.banner,u=c.bannerPathMap,d=c.banner,p=d.width,f=d.height,h=d.backgroundColor,m=d.resources,b=a.timeline.playingSlide;return{shouldUpdate:!(i||l||s),elements:e(t,n.slideId),slide:d.getIn(u[n.slideId||a.banner.selectedSlideId]),width:p,height:f,background:h,zoom:n.zoom||a.stage.zoom,readOnly:n.readOnly,loading:o,disabled:b,sidebar:!1,bannerResources:m}}}),null)(i.a);p.propTypes={slideId:o.a.number,zoom:o.a.number,readOnly:o.a.bool},p.defaultProps={slideId:null,zoom:null,readOnly:!1};t.a=p},822:function(e,t,n){"use strict";var a=n(386),r=n(0),o=n.n(r),i=n(388),l=n(4),s=n.n(l),c=n(50),u=n.n(c),d=n(985),p=n.n(d),f=n(387),h=n(7),m=n(17),b=n(398),g=n(440),y=n(395),v=n(407),E=n(57),S=n(575),O=n(798),C=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var w=u.a.bind(p.a),T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),C(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.images,n=e.loadImages;t.size||n()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.images,a=t.searchValue,r=t.loadImages,o=t.resetImages;e.searchValue!==a&&n.size?o():e.searchValue===a||n.size?e.images.size&&!n.size&&r():r()}},{key:"render",value:function(){var e=this.props,t=e.images,n=e.requestingImages,a=e.placement,r=e.skin,i=e.loadImages,l=e.onComponentWillUnmount,s=e.showSearch,c=e.searchValue,u=null;if(n&&!t.size){var d=r===h.a.LIGHT_GREY?h.a.BLUE:h.a.SEMI_TRANSPARENT_WHITE;u=o.a.createElement(y.a,{skin:d,type:m.a.LARGE})}else u=o.a.createElement(S.a,{skin:r,columns:3,items:t,placement:a,infiniteScroll:!0,handleInfiniteScroll:i,onUnmount:l,searchValue:c,itemsHeight:"100%"});var b=s?o.a.createElement("div",{className:p.a.searchContainer},o.a.createElement(O.a,{showFilterDropdown:!1})):null,E=r===h.a.LIGHT_GREY?h.a.BLUE:h.a.WHITE_UNDERLINED,C=o.a.createElement("div",{className:w("stockPhotosInfoFooter",a)},f.a.imagesInfoFooter,"",o.a.createElement(g.a,{skin:E,target:"_blank",href:"https://unsplash.com/"},"Unsplash"),",",o.a.createElement(g.a,{skin:E,target:"_blank",href:"https://pixabay.com/"},"Pixabay"),",",o.a.createElement(g.a,{skin:E,target:"_blank",href:"https://www.pexels.com/"},"Pexels"),"",f.a.and,"",o.a.createElement(g.a,{skin:E,target:"_blank",href:"https://www.theadstock.com/"},"TheAdStock"),".");return o.a.createElement("div",{className:w("stockPhotosContainer","stockPhotos-"+a),"data-qa":v.w},b,o.a.createElement("div",{className:p.a.stockPhotosImagesList},u),C)}}]),t}(r.Component);T.propTypes={images:s.a.instanceOf(i.List),searchValue:s.a.string,requestingImages:s.a.bool,placement:s.a.oneOf([b.a.EDITOR,b.a.GENERATOR,b.a.BACKGROUND]),skin:s.a.oneOf([h.a.LIGHT_GREY,h.a.DARK_BLUE]),loadImages:s.a.func,resetImages:s.a.func,onComponentWillUnmount:s.a.func,showSearch:s.a.bool},T.defaultProps={images:new i.List,searchValue:"",requestingImages:!1,skin:h.a.DARK_BLUE,placement:b.a.EDITOR,loadImages:E.a,resetImages:E.a,onComponentWillUnmount:E.a,showSearch:!0};var k=T,I=n(879),L=n(1090),P=n(479),M=n(476),R=n(776),x=n(485),D=Object(a.c)((function(e){var t=e.bannerCreator.contentLibrary,n=t.stockPhotos,a=t.stockPhotos.scroll,r=t.search.value,o=t.selectedElementsPanelItem,i=!1,l=Object(L.a)(),s=Object(R.a)(e),c=!!s&&s.name===x.a.background,u=!0,d=!1,p=void 0;try{for(var f,h=l[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=n[f.value].requesting;if(m){i=m;break}}}catch(e){d=!0,p=e}finally{try{!u&&h.return&&h.return()}finally{if(d)throw p}}return{skin:Object(M.a)(e),scroll:a,images:Object(I.a)(e),searchValue:r,requestingImages:i,selectedElementsPanelItem:o,showSearch:c}}),(function(e){return{loadImages:function(){e(Object(P.d)())},resetImages:function(){e(Object(P.f)())},onComponentWillUnmount:function(t){e(Object(P.l)(t))},onImageLoadError:function(t){e(Object(P.e)(t))}}}))(k);t.a=D},823:function(e,t,n){"use strict";var a,r=n(0),o=n.n(r),i=n(388),l=n(4),s=n.n(l),c=n(50),u=n.n(c),d=n(974),p=n.n(d),f=n(7);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=(h(a={},f.a.DARK_BLUE,{"#1a1a1a":"#d9dadd","#4d4d4d":"#999ca6","#5f5f5f":"#7d818e","#808080":"#676c82"}),h(a,f.a.LIGHT_GREY,{"#1a1a1a":"#747a8f","#4d4d4d":"#979aaa","#5f5f5f":"#babbc7","#808080":"#dcdee3"}),a),b=n(743),g=n(764),y=n(759),v=n(744),E=n(57),S=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var O=u.a.bind(p.a),C=b.a.LOADED,w=b.a.ERROR,T=b.a.LOADING,k=function(e){var t=e.url,n=e.skin,a=e.passSvgContent,l=Object(r.useState)(new i.Map),s=S(l,2),c=s[0],u=s[1],d=Object(r.useState)(),f=S(d,2),h=f[0],b=f[1],E=Object(r.useState)(T),k=S(E,2),I=k[0],L=k[1],P=Object(r.useRef)();Object(r.useEffect)((function(){P.current=Object(v.a)(h,c)}),[h,c]),Object(r.useEffect)((function(){var e,r,o=(e=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(!(n=e.sent).ok){e.next=14;break}return e.next=7,n.text();case 7:r=e.sent,i(r),b(r),a(r),L(C),e.next=15;break;case 14:L(w);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),L(w);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})),r=function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function a(r,o){try{var i=t[r](o),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then((function(e){a("next",e)}),(function(e){a("throw",e)}));e(l)}("next")}))},function(){return r.apply(this,arguments)}),i=function(e){var t=Object(g.a)(e).map((function(e){var t=e.toLowerCase();return m[n][t]||e}));u(t)};o()}),[t,n,a]);var M=void 0;I===C?M=o.a.createElement("img",{draggable:!1,className:p.a.svgImg,src:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(P.current),alt:""}):I===w&&(M=o.a.createElement("div",{className:O("svgImg","error"),style:{backgroundImage:'url("'+y.a.imageNotFound+'")'}}));var R=I===C||I===w;return o.a.createElement("div",{className:O(p.a.svgElementContainer,{showContent:R}),draggable:!1},M)};k.propTypes={url:s.a.string.isRequired,skin:s.a.oneOf([f.a.LIGHT_GREY,f.a.DARK_BLUE]),passSvgContent:s.a.func},k.defaultProps={skin:f.a.DARK_BLUE,passSvgContent:E.a};t.a=k},875:function(e,t,n){"use strict";var a=n(65),r=Object(a.createSelector)([function(e){return e.bannerCreator.generator.jsons.current},function(e){return e.bannerCreator.generator.bulkEditor.selectedElement},function(e){return e.bannerCreator.generator.slides.selectedSlideIndex}],(function(e,t,n){var a=void 0,r=void 0,o=!0,i=!1,l=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value.banner,d=u.elements,p=u.resources,f=d.find((function(e){return e.bannersetElementId===t}));if(f){a=p.get(f.resourceKey).content,r=f;break}var h=d.get(n).elements.find((function(e){return e.bannersetElementId===t}));if(h){var m=p.get(h.resourceKey);a=p.size&&m?m.content:null,r=h;break}}}catch(e){i=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(i)throw l}}return{element:r,svgContent:a}}));t.a=r},876:function(e,t,n){"use strict";var a=n(65),r=n(433),o=n(56),i=Object(a.createSelector)([function(e){return e.bannerCreator.contentLibrary.categories},function(e){return e.bannerCreator.contentLibrary.selectedElementsPanelItem},function(e){return e.bannerCreator.generator.sidebar.activeElement},r.a],(function(e,t,n,a){return a===o.a.EDITOR?t:n}));t.a=i},877:function(e,t,n){"use strict";var a=n(50),r=n.n(a),o=n(4),i=n.n(o),l=n(0),s=n.n(l),c=n(443),u=n(440),d=n(393),p=n(17),f=n(7),h=n(745),m=n(1142),b=n(626),g=n(1143),y=n(1144),v=n(500),E=n(598),S=n(398),O=n(116),C=n(387),w=n(975),T=n.n(w),k=n(57),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=r.a.bind(T.a),M=5,R=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=L(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={thumbLoaded:!1,displayImageInfo:!1},a.onClick=function(){var e=a.props,t=e.onClick;e.uploading||t(a.getImageObject())},a.onLoad=function(){a.setState({thumbLoaded:!0})},a.onError=function(){a.loadingTries+=1,a.setState({thumbLoaded:!1})},a.onImageInfoMouseDown=function(e){e.stopPropagation()},a.onInfoIconClick=function(e){e.stopPropagation(),a.toggleImageInfoVisibility()},a.onMouseDown=function(e){a.props.uploading||2===e.button||(e.preventDefault(),window.addEventListener("mousemove",a.onMouseMove),a.mouseDownEvent={clientX:e.clientX,clientY:e.clientY,target:e.target})},a.onMouseMove=function(e){if(a.mouseDownEvent){var t=e.clientX,n=e.clientY,r=a.mouseDownEvent,o=r.clientX,i=r.clientY;if(Math.abs(t-o)>M||Math.abs(n-i)>M){window.removeEventListener("mousemove",a.onMouseMove),a.hideImageInfo();var l={x:o,y:i};a.props.onDragStart(a.getImageObject(),l)}}},a.onMouseUp=function(){window.removeEventListener("mousemove",a.onMouseMove)},a.onMouseEnter=function(){a.props.source!==v.a.MY_IMAGES&&a.setState({displayImageInfo:!0})},a.onMouseLeave=function(){a.props.source!==v.a.MY_IMAGES&&a.setState({displayImageInfo:!1})},a.onDeleteImageButtonClick=function(e){var t=a.props,n=t.hash,r=t.onDeleteImageClick;e.stopPropagation(),r(n)},a.getImageObject=function(){var e=a.props,t=e.type,n=e.imagePath,r=e.width,o=e.height,i=e.originalWidth,l=e.originalHeight,s=e.download,c=e.blocked,u=e.hash,d=e.hqUrl,p={type:t,imagePath:n,width:r,height:o,originalWidth:i,originalHeight:l,download:s,blocked:c,hash:u,hqUrl:d,statsLink:e.statsLink};return d&&(p.hqUrl=d),p},a.getImage=function(){if(a.imageNotFound)return m.a;var e=a.props,t=e.imagePath,n=e.width,r=e.source,o=e.format,i=e.hash,l=t;if(r===v.a.MY_IMAGES&&!l){if(o===E.a.SVG||o===E.a.GIF)0===a.loadingTries?l=Object(b.a)(i):a.imageNotFound=!0;else switch(a.loadingTries){case 0:l=Object(g.a)(i);break;case 1:l=Object(y.a)(i);break;case 2:l=Object(b.a)(i);break;default:a.imageNotFound=!0}if(a.imageNotFound)return setTimeout(a.onLoad),m.a}var c={width:n};return s.a.createElement("img",{style:c,alt:"presentation",role:"presentation",tabIndex:-1,src:l,onLoad:a.onLoad,onError:a.onError,className:T.a.image})},a.getImageInfoContent=function(){var e=a.props,t=e.source,n=e.name,r=e.userName,o=e.userLink,i=e.pageUrl,l=e.skin,m=e.photographer;return t!==v.a.MY_IMAGES?s.a.createElement("div",{className:P("stockImageInfoContainer",{visible:a.state.displayImageInfo}),tabIndex:-1},s.a.createElement(u.a,{href:o||i,target:"_blank",rel:"noopener noreferrer",onClick:function(e){return e.stopPropagation()},skin:f.a.WHITE_UNDERLINED,size:p.a.REAL_SMALL},r||m||n)):t===v.a.MY_IMAGES?s.a.createElement("div",{className:P(T.a.content,T.a.row)},s.a.createElement("p",{className:P(T.a.text,T.a.name)},n),s.a.createElement("div",{className:P(T.a.button)},s.a.createElement(c.a,{label:C.a.delete,icon:h.a,onClickHandler:a.onDeleteImageButtonClick,size:p.a.SMEDIUM,skin:l===f.a.DARK_BLUE?f.a.TRANSPARENT_WHITE:f.a.TRANSPARENT_DARKER,alignContent:d.a.CENTER,borderRadius:!0,minWidth:"74px"}))):null},a.getImageInfo=function(){var e=a.props,t=e.listWidth,n=e.imagePosition,r=a.state.displayImageInfo;if(!r)return null;var o={left:-n.left,width:t},i=s.a.createElement("div",{className:T.a.arrow}),l=s.a.createElement("div",{className:T.a.imageInfo,style:o},a.getImageInfoContent());return s.a.createElement("div",{className:P("imageInfoContainer",{visible:r}),ref:function(e){a.refImageInfoContainer=e},onMouseDown:a.onImageInfoMouseDown,onClick:function(e){e.stopPropagation()}},i,l)},a.getImageSettings=function(){var e=a.props,t=e.settingsEnabled,n=e.onSettingsClick;return t?s.a.createElement("div",{className:T.a.imageSettingsIcon,onClick:n,tabIndex:-1},O.a.settings):null},a.getUploading=function(){var e={width:100*a.props.uploadPercent+"%"};return s.a.createElement("div",{className:T.a.uploading},s.a.createElement("div",{className:T.a.uploadProgressContainer},s.a.createElement("div",{className:T.a.uploadProgress,style:e})))},a.loadingTries=0,a.imageNotFound=!1,a.toggleImageInfoVisibility=function(){a.setState({displayImageInfo:!a.state.displayImageInfo})},a.handleClickEvent=function(e){a.refImageInfoContainer&&!a.refImageInfoContainer.contains(e.target)&&a.refImageInfoIcon&&!a.refImageInfoIcon.contains(e.target)&&a.toggleImageInfoVisibility()},a.hideImageInfo=function(){a.setState({displayImageInfo:!1})},L(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),I(t,[{key:"componentWillUpdate",value:function(e,t){!this.state.displayImageInfo&&t.displayImageInfo?document.body.addEventListener("click",this.handleClickEvent):this.state.displayImageInfo&&!t.displayImageInfo&&document.body.removeEventListener("click",this.handleClickEvent)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("click",this.handleClickEvent),window.removeEventListener("mousemove",this.onMouseMove)}},{key:"render",value:function(){var e=this,t=this.props,n=t.containerHeight,a=t.containerWidth,r=t.empty,o=t.placement,i=t.uploading,l=t.source,c=this.state,u=c.thumbLoaded,d=c.displayImageInfo;if(r&&!u)return null;var p={height:n,width:a},f=null,h=null,m=null,b=null;return i?m=this.getUploading():(f=this.getImageSettings(),o!==S.a.TEXTURES&&l===v.a.MY_IMAGES?(h=this.getImageInfo(),b=s.a.createElement("div",{className:P("imageInfoIcon",{visible:d}),onClick:this.onInfoIconClick,ref:function(t){e.refImageInfoIcon=t}},O.a.info)):l!==v.a.MY_IMAGES&&(h=this.getImageInfoContent())),s.a.createElement("div",{className:P("imageContainer","image-"+o,{thumbLoaded:u},{uploading:i}),style:p,draggable:!1,onClick:this.onClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},f,this.getImage(),b,h,m)}}]),t}(l.Component);R.propTypes={placement:i.a.oneOf([S.a.EDITOR,S.a.GENERATOR,S.a.TEXTURES]),listWidth:i.a.number,imagePosition:i.a.shape({top:i.a.number,left:i.a.number}),containerWidth:i.a.number,containerHeight:i.a.number,width:i.a.number,height:i.a.number,originalWidth:i.a.number,originalHeight:i.a.number,onDragStart:i.a.func,onClick:i.a.func,empty:i.a.bool,type:i.a.string,imagePath:i.a.string,hash:i.a.string,blocked:i.a.bool,source:i.a.string,name:i.a.string,userName:i.a.string,userLink:i.a.string,pageUrl:i.a.string,download:i.a.string,hqUrl:i.a.string,format:i.a.string,settingsEnabled:i.a.bool,onSettingsClick:i.a.func,onDeleteImageClick:i.a.func,uploading:i.a.bool,uploadPercent:i.a.number,photographer:i.a.string,statsLink:i.a.string,skin:i.a.oneOf([f.a.LIGHT_GREY,f.a.DARK_BLUE])},R.defaultProps={placement:S.a.EDITOR,listWidth:0,imagePosition:{top:0,left:0},containerWidth:0,containerHeight:0,width:0,height:0,originalWidth:0,originalHeight:0,onDragStart:k.a,onClick:k.a,empty:!1,type:"",imagePath:"",blocked:!1,source:"",name:"",hash:"",userName:"",userLink:"",pageUrl:"",download:"",hqUrl:"",format:"",settingsEnabled:!1,onSettingsClick:function(){},onDeleteImageClick:function(){},uploading:!1,uploadPercent:0,photographer:"",statsLink:"",skin:f.a.DARK_BLUE},t.a=R},878:function(e,t,n){"use strict";var a=n(65),r=n(391),o=n(500),i=n(598),l=n(681),s=n(671),c=n(445),u=n(584),d=n(618),p=n(511),f=function(e){var t=e.format,n=e.hash,a=e.id,s=e.key,c=e.folderId,u=e.name,d=e.height,p=e.width,f=e.uploading,h=e.uploadPercent,m=e.path,b=t===i.a.SVG;return new l.a({download:n,imagePath:m,key:s,folderId:c,name:u,hash:n,format:t,id:a,height:d,width:p,uploadPercent:h,uploading:f,type:b?r.b.SVG:r.b.IMAGE,source:o.a.MY_IMAGES})},h=Object(a.createSelector)([function(e){return e.bannerCreator.library.images.imageList},s.a],(function(e,t){return e.map((function(e){return new u.a({type:c.a.IMAGE,data:f(e)})}))})),m=Object(a.createSelector)([h,function(e){return e.bannerCreator.contentLibrary.search.value},function(e){return e.bannerCreator.editor.tools.myImages.filterValue},function(e){return e.bannerCreator.editor.tools.myImages.folderId}],(function(e,t,n,a){if(!t&&"Any"===n&&"all"===a)return e;var r=e;return t?r=Object(d.a)({value:t},r,p.a.MY_UPLOADS):"all"!==a&&(r=r.filter((function(e){return e.data.folderId===a}))),"Any"!==n&&(r=r.filter((function(e){return e.data.format===n.toLowerCase()}))),r}));t.a=m},879:function(e,t,n){"use strict";var a=n(65),r=n(463),o=n(584),i=n(445),l=Object(a.createSelector)([function(e){return e.bannerCreator.contentLibrary.stockPhotos.images},r.a,function(e){return e.bannerCreator.contentLibrary.stockPhotos.searchValue}],(function(e,t,n){return e.map((function(e,t){var a=!!(t>=40||n);return new o.a({type:i.a.IMAGE,data:e.merge({premium:a})})}))}));t.a=l},880:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(50),s=n.n(l),c=n(393),u=n(392),d=n(988),p=n.n(d),f=n(387),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var m=s.a.bind(p.a),b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"render",value:function(){var e=this;return r.a.createElement(u.b,{title:f.a[this.props.gradientType],placement:c.a.TOP,preWrap:!0},r.a.createElement("div",{className:m("gradientButton",this.props.gradientType,{selected:this.props.selected}),onClick:function(){e.props.onClickCallback(e.props.gradientType)}}))}}]),t}(a.Component);b.propTypes={gradientType:i.a.oneOf(["linear","radial"]),onClickCallback:i.a.func,selected:i.a.bool},b.defaultProps={gradientType:"linear",onClickCallback:function(){},selected:!1},t.a=b},881:function(e,t,n){"use strict";var a=n(50),r=n.n(a),o=n(0),i=n.n(o),l=n(4),s=n.n(l),c=n(989),u=n.n(c),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var p=r.a.bind(u.a),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onAddNewStep=n.onAddNewStep.bind(n),n.onStepDrag=n.onStepDrag.bind(n),n.onStepRemove=n.onStepRemove.bind(n),n.onStepMouseDown=n.onStepMouseDown.bind(n),n.onStepMouseUp=n.onStepMouseUp.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.onStepDrag),window.removeEventListener("mouseup",this.onStepMouseUp)}},{key:"onAddNewStep",value:function(e){var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,a=Math.round(100*n/t.width);this.props.onAddNewStep(a.toString())}},{key:"onStepSelect",value:function(e,t){this.props.selectedStep===e&&this.props.openColorPicker(),this.props.onStepSelect(e),t.stopPropagation(),t.preventDefault()}},{key:"onStepMouseDown",value:function(e){this.props.onStepSelect(e),window.addEventListener("mousemove",this.onStepDrag),window.addEventListener("mouseup",this.onStepMouseUp)}},{key:"onStepDrag",value:function(e){var t=this.gradientGenerator.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top,r=Math.round(100*n/t.width);r=Math.min(Math.max(r,0),100),(n<-30||a<-30||n>t.width+30||a>t.height+30)&&this.props.steps.length>2?this.onStepRemove():this.props.onStepMove(this.props.selectedStep,r)}},{key:"onStepMouseUp",value:function(){window.removeEventListener("mousemove",this.onStepDrag),window.removeEventListener("mouseup",this.onStepRemove)}},{key:"onStepRemove",value:function(){this.props.onStepRemove(this.props.selectedStep),window.removeEventListener("mousemove",this.onStepDrag),window.removeEventListener("mouseup",this.onStepRemove)}},{key:"buildGradient",value:function(){for(var e=this.props.steps,t="linear-gradient(90deg, ",n=0;n<e.length;n++)t+=e[n].c+" "+e[n].p+"%",n<e.length-1&&(t+=", ");return t+=")"}},{key:"render",value:function(){var e=this,t=this.buildGradient(),n=this.props.steps.map((function(t,n){var a=p("gradientStep","colorSample",{selected:n===e.props.selectedStep}),r=""+t.p+n+t.c;return i.a.createElement("div",{className:a,key:r,style:{background:t.c,left:t.p+"%"},onMouseDown:function(t){e.onStepMouseDown(n,t)},onClick:function(t){e.onStepSelect(n,t)}})}));return i.a.createElement("div",{className:u.a.gradientGenerator,ref:function(t){e.gradientGenerator=t}},i.a.createElement("div",{className:u.a.gradientBar,style:{background:t}}),i.a.createElement("div",{className:u.a.gradientSteps,onClick:this.onAddNewStep},n))}}]),t}(o.Component);f.propTypes={onAddNewStep:s.a.func.isRequired,onStepSelect:s.a.func.isRequired,onStepRemove:s.a.func.isRequired,onStepMove:s.a.func.isRequired,openColorPicker:s.a.func,steps:s.a.arrayOf(s.a.shape({c:s.a.string,p:s.a.string})),selectedStep:s.a.number},f.defaultProps={openColorPicker:function(){},steps:[{c:"#ffffff",p:"0"},{c:"#000000",p:"100"}],selectedStep:0},t.a=f},882:function(e,t,n){"use strict";var a=n(50),r=n.n(a),o=n(4),i=n.n(o),l=n(0),s=n.n(l),c=n(457),u=n(394),d=n(393),p=n(17),f=n(7),h=n(391),m=n(544),b=n(805),g=n(387),y=n(397),v=n(589),E=n(583),S=n.n(E),O=n(422),C=n(490),w=r.a.bind(S.a),T=function(e){var t=e.horizontalAlign,n=e.verticalAlign,a=e.scaleMode,r=e.onAlignChange,o=e.noImageChange,i=e.onImageChange,l=e.onChange,d=e.contentScale,E=e.openDropdownPosition,T=e.displayType,k=e.contentOffsetX,I=e.contentOffsetY;function L(e,t){l(e,t)}var P=a===m.a.TILE?s.a.createElement("div",{className:S.a.backgroundGroup},s.a.createElement("div",{className:S.a.group},s.a.createElement(C.a,{onChange:function(e){L("contentScale",e)},value:parseInt(d),label:g.a.tileZoom,min:10,usePercent:!0}),s.a.createElement(C.a,{onChange:function(e){L("contentOffsetX",e)},value:parseInt(k),label:g.a.offsetX,usePercent:!0}),s.a.createElement(C.a,{onChange:function(e){L("contentOffsetY",e)},value:parseInt(I),label:g.a.offsetY,usePercent:!0}))):null,M=Object.keys(m.a).filter((function(e){return!(T===h.b.BACKGROUND&&m.a[e]===m.a.CROP)})).map((function(e){return{value:m.a[e],text:g.a[b.a[e]]}})),R=a!==m.a.TILE&&a!==m.a.EXACT_FIT&&a!==m.a.CROP?s.a.createElement(v.a,{skin:f.a.BLUE,selected:Object(y.g)(t+n),onPositionSelect:function(e){var t=Object(y.h)(e);r(t)}}):null,x=o?null:s.a.createElement(c.a,{size:p.a.NORMAL,skin:f.a.BLUE,label:g.a.changeImage,onClick:function(){i("change_image")}});return s.a.createElement("div",{className:S.a.backgroundImageGroup},x,s.a.createElement("div",{className:w("group")},s.a.createElement("div",{style:{marginBottom:"5px"}},s.a.createElement(u.a,{label:g.a.cropSettings,skin:f.a.WHITE,size:p.a.NORMAL})),s.a.createElement("div",{className:S.a.scale},s.a.createElement(O.a,{items:M,value:a,onChange:function(e){L("scaleMode",e)},width:"114px",openDropdownPosition:E})),R),P)};T.defaultProps={onImageChange:function(){},scaleMode:"crop",horizontalAlign:"center",verticalAlign:"center",contentScale:55,contentOffsetX:50,contentOffsetY:50,noImageChange:!1,openDropdownPosition:d.a.BOTTOM,displayType:h.b.BACKGROUND},T.propTypes={onChange:i.a.func.isRequired,onAlignChange:i.a.func.isRequired,onImageChange:i.a.func,scaleMode:i.a.string,horizontalAlign:i.a.string,verticalAlign:i.a.string,contentScale:i.a.oneOfType([i.a.number,i.a.string]),contentOffsetX:i.a.number,contentOffsetY:i.a.number,noImageChange:i.a.bool,openDropdownPosition:i.a.string,displayType:i.a.oneOf([h.b.BACKGROUND,h.b.BUTTON,h.b.EMBED,h.b.SHAPE,h.b.IMAGE])},t.a=T},883:function(e,t,n){"use strict";var a=n(703),r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.a=function(e,t){if(e){var n=!0,o=!1,i=void 0;try{for(var l,s=t.entries()[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=l.value,u=r(c,2)[1],d=u.fontName,p=u.variants,f=u.fontPrefix,h=p.find((function(t){return t.hash===e}));if(h)return Object.assign({},{fontFamily:d,fontUrl:h.fontUrl,fontFaceUrl:h.fontFaceUrl,fontWeight:parseInt(h.weight),fontStyle:h.weight.indexOf("italic")>-1?a.a.ITALIC:a.a.NORMAL,fontPrefix:f})}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}return null}},884:function(e,t,n){"use strict";t.a={BUTTON:10,SHAPE:100}},885:function(e,t,n){"use strict";t.a={WARNING_THRESHOLD_BLUR:5}},886:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c}));var a=n(439),r=function(e){return{type:a.xb,payload:{slidesScroll:e}}},o=function(e){return{type:a.ub,payload:{slideIndex:e}}},i=function(e){return function(t,n){var r=n().bannerCreator.generator.jsons.current.first().banner.elements.size;t({type:a.w,payload:{slideIndex:e,newSelectedSlideIndex:r}})}},l=function(){return function(e,t){var n=t().bannerCreator.generator.jsons.current.first().banner.elements.size;e({type:a.a,payload:{newSelectedSlideIndex:n}})}},s=function(e){return function(t,n){var r=n().bannerCreator.generator,o=r.jsons,i=r.slides.selectedSlideIndex,l=o.current.first().banner.elements.length;t({type:a.u,payload:{slideIndex:e,lastSlideIndex:l,selectedSlideIndex:i}})}},c=function(e,t){return{type:a.Fb,payload:{currentIndex:e,newIndex:t}}}},887:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n.n(o),l=n(50),s=n.n(l),c=n(1133),u=n(429),d=n(475),p=n(1016),f=n.n(p),h=n(570),m=n(417),b=n(7),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var y=s.a.bind(f.a),v=10,E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputFocus=function(e){n.setState({active:!0}),n.props.onFocus(e)},n.onInputBlur=function(e){n.setState({active:!1}),n.props.onBlur(e)},n.onKeyUp=function(e){var t=e.keyCode||e.which,a=n.props.onChange;switch(t){case m.a.up:case m.a.down:var r=n.validateNumber(n.calculateValueWithDecimals(n.calculateValueWithAdditional(t===m.a.up,e.shiftKey)));a(r,{fromControls:!0}),n.setState({value:r}),e.preventDefault();break;case m.a.enter:var o=n.props.decimals,i=e.target.value;i=n.validateNumber(i),a(Object(u.a)(i,o),{fromControls:!0}),n.setState({value:Object(u.a)(i,o)}),e.preventDefault()}n.props.onKeyUp(e)},n.onChange=function(e){var t=e.target.value,a=n.props,r=a.allowNegative,o=a.decimals,i=t;i=r?o?t.replace(/[^0-9.,-]+/g,"").replace(",","."):t.replace(/[^0-9-]+/g,""):o?t.replace(/[^0-9.,]+/g,"").replace(",","."):t.replace(/[^0-9]+/g,"");var l=void 0;switch(t){case"":case"-":case"0":l=n.validateNumber(i);break;default:l=n.validateNumber(i)||n.props.value}n.props.onChange(l),n.setState({value:l})},n.onControlMouseDown=function(e,t){var a=n.props.onChange,r=t.shiftKey,o=n.validateNumber(n.calculateValueWithDecimals(n.calculateValueWithAdditional("up"===e,r)));a(o,{fromControls:!0}),n.setState({value:o}),n.clearControlClickInterval(),n.controlClickTimeout=setTimeout((function(){n.controlClickInterval=setInterval((function(){var t=n.validateNumber(n.calculateValueWithDecimals(n.calculateValueWithAdditional("up"===e,r)));a(t,{fromControls:!0}),n.setState({value:t})}),70)}),200),t.stopPropagation()},n.onControlMouseUp=function(e){n.clearControlClickInterval(),e.stopPropagation()},n.onControlBlur=function(){n.clearControlClickInterval()},n.getAdditionValue=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.props.decimals;return t?10*(e?v:1)/Math.pow(10,t):e?v:1},n.validateNumber=function(e){var t=n.props,a=t.decimals,r=t.max,o=t.min,i=e;return(r||0===r)&&i>r&&(i=r.toFixed(a)),(o||0===o)&&i<o&&(i=o.toFixed(a)),i},n.calculateValueWithDecimals=function(e){var t=n.props.decimals;return Object(c.a)(e,t)},n.calculateValueWithAdditional=function(e,t){var a=n.props,r=a.decimals,o=a.value,i=n.getAdditionValue(t),l=e?i:-i;return n.calculateValueWithDecimals(parseFloat(parseFloat(o)+l).toFixed(r))},n.clearControlClickInterval=function(){n.controlClickTimeout&&(clearTimeout(n.controlClickTimeout),n.controlClickTimeout=null),n.controlClickInterval&&(clearInterval(n.controlClickInterval),n.controlClickInterval=null)},n.state={active:!1,value:e.value},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),g(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.active?null:{value:e.value}}}]),g(t,[{key:"componentDidMount",value:function(){this.refInput&&this.refInput.refInput&&this.refInput.refInput.addEventListener("mousewheel",(function(e){return e.preventDefault()}))}},{key:"onComponentDidMount",value:function(){this.refInput&&this.refInput.refInput&&(this.refInput.refInput.addEventListener("focus",this.onInputFocus),this.refInput.refInput.addEventListener("blur",this.onInputFocus))}},{key:"onComponentWillUnmount",value:function(){this.refInput&&this.refInput.refInput&&(this.refInput.refInput.removeEventListener("focus",this.onInputFocus),this.refInput.refInput.removeEventListener("blur",this.onInputFocus))}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,a=t.width,o=t.maxLength,i=t.skin,l=this.state,s=l.active,c=l.value,u={height:n,width:a};return r.a.createElement("div",{className:y("numberInput",i,{active:s}),style:u},r.a.createElement(d.a,{value:c,height:n,width:a,maxLength:o,onChange:this.onChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onKeyDown:this.onKeyUp,type:h.a.TEXT,ref:function(t){e.refInput=t},skin:i}),r.a.createElement("div",{className:f.a.controls},r.a.createElement("div",{className:y("control","up"),tabIndex:"-1",draggable:"false",onMouseDown:function(t){e.onControlMouseDown("up",t)},onMouseUp:this.onControlMouseUp,onBlur:this.onControlBlur,role:"button"}),r.a.createElement("div",{className:y("control","down"),tabIndex:"-1",draggable:"false",onMouseDown:function(t){e.onControlMouseDown("down",t)},onMouseUp:this.onControlMouseUp,onBlur:this.onControlBlur,role:"button"})))}}]),t}(a.Component);E.propTypes={height:i.a.string,width:i.a.string,value:i.a.oneOfType([i.a.number,i.a.string]),onChange:i.a.func,onFocus:i.a.func,onBlur:i.a.func,onKeyUp:i.a.func,decimals:i.a.number,maxLength:i.a.number,allowNegative:i.a.bool,max:i.a.number,min:i.a.number,skin:i.a.oneOf([b.a.WHITE_BLUE,b.a.DARK,b.a.WHITE_GREY,b.a.WHITE_DARK_GREY])},E.defaultProps={height:null,width:"100%",decimals:0,value:"",onChange:function(){},onFocus:function(){},onBlur:function(){},onKeyUp:function(){},maxLength:0,allowNegative:!0,max:null,min:null,skin:b.a.WHITE_BLUE},t.a=E},934:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},r.a.createElement("g",{fillRule:"nonzero"},r.a.createElement("path",{d:"M12,7 C7,7 4,10.6666667 4,12.3333333 C4,14 7,17.6666667 12,17.6666667 C17,17.6666667 20,14 20,12.3333333 C20,10.6666667 17,7 12,7 Z M12,15.8888889 C10.0373333,15.8888889 8.44444444,14.296 8.44444444,12.3333333 C8.44444444,10.3706667 10.0373333,8.77777778 12,8.77777778 C13.9626667,8.77777778 15.5555556,10.3706667 15.5555556,12.3333333 C15.5555556,14.296 13.9626667,15.8888889 12,15.8888889 Z M12,10.5555556 C11.0162963,10.5555556 10.2222222,11.3496296 10.2222222,12.3333333 C10.2222222,13.317037 11.0162963,14.1111111 12,14.1111111 C12.9837037,14.1111111 13.7777778,13.317037 13.7777778,12.3333333 C13.7777778,11.3496296 12.9837037,10.5555556 12,10.5555556 Z"})))},935:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},r.a.createElement("g",{fillRule:"nonzero"},r.a.createElement("path",{d:"M5.63603897,5.63603897 L5.63603897,5.63603897 C5.24551468,6.02656326 5.24551468,6.65972824 5.63603897,7.05025253 L16.9497475,18.363961 C17.3402718,18.7544853 17.9734367,18.7544853 18.363961,18.363961 L18.363961,18.363961 C18.7544853,17.9734367 18.7544853,17.3402718 18.363961,16.9497475 L7.05025253,5.63603897 C6.65972824,5.24551468 6.02656326,5.24551468 5.63603897,5.63603897 Z M12,7 C7,7 4,10.6666667 4,12.3333333 C4,14 7,17.6666667 12,17.6666667 C17,17.6666667 20,14 20,12.3333333 C20,10.6666667 17,7 12,7 Z M12,15.8888889 C10.0373333,15.8888889 8.44444444,14.296 8.44444444,12.3333333 C8.44444444,10.3706667 10.0373333,8.77777778 12,8.77777778 C13.9626667,8.77777778 15.5555556,10.3706667 15.5555556,12.3333333 C15.5555556,14.296 13.9626667,15.8888889 12,15.8888889 Z M12,10.5555556 C11.0162963,10.5555556 10.2222222,11.3496296 10.2222222,12.3333333 C10.2222222,13.317037 11.0162963,14.1111111 12,14.1111111 C12.9837037,14.1111111 13.7777778,13.317037 13.7777778,12.3333333 C13.7777778,11.3496296 12.9837037,10.5555556 12,10.5555556 Z"})))},971:function(e,t,n){e.exports={search:"b72",inputContainer:"b73",searchInput:"b74",searchIcon:"b75",categoryFilter:"b76",filterSeparator:"b77",clear:"b78",hidden:"b79",filterDropdownOption:"b7a",filterDropdownIcon:"b7b",filterDropdownLabel:"b7c",shake:"b7d","fade-in":"b7e"}},972:function(e,t,n){"use strict";var a=n(65),r=n(800),o=Object(a.createSelector)([function(e){return e.bannerCreator.contentLibrary.subcategories},function(e){return e.bannerCreator.contentLibrary.elements},r.a],(function(e,t,n){return e.filter((function(e){var a=e.parentId,r=e.id;return t.some((function(e){return e.parentId===r}))&&a===n}))}));t.a=o},973:function(e,t,n){e.exports={itemsListContainer:"b4d",itemsList:"b4e",item:"b4f",separatorElement:"b4g",isInSubcategory:"b4h",darkBlue:"b4i",lightGrey:"b4j",shake:"b4k","fade-in":"b4l"}},974:function(e,t,n){e.exports={svgElementContainer:"c90",showContent:"c91",svgImg:"c92",error:"c93",shake:"c94","fade-in":"c95"}},975:function(e,t,n){e.exports={imageContainer:"bu5",thumbLoaded:"bu6",favorite:"bu7",visible:"bu8",uploading:"bu9",imageInfoIcon:"bua",imageSettingsIcon:"bub",imageInfoContainer:"buc",arrow:"bud",imageInfo:"bue",content:"buf",row:"bug",text:"buh",name:"bui",button:"buj",stockImageInfoContainer:"buk","image-editor":"bul","image-generator":"bum",uploadProgressContainer:"bun",uploadProgress:"buo",shake:"bup","fade-in":"buq"}},976:function(e,t,n){e.exports={starContainer:"bgh",shake:"bgi","fade-in":"bgj"}},977:function(e,t,n){e.exports={item:"bbc",itemHtml:"bbd",favoriteIcon:"bbe",isFavorite:"bbf",isDragging:"bbg",shake:"bbh","fade-in":"bbi"}},978:function(e,t,n){e.exports={noResults:"b7f",darkBlue:"b7g",lightGrey:"b7h",noResultsFirst:"b7i",noResultsList:"b7j",shake:"b7k","fade-in":"b7l"}},979:function(e,t,n){e.exports={elementContainer:"agv",readOnly:"ah0",innerContainer:"ah1",hoverable:"ah2",selected:"ah3",selectingHover:"ah4",highlighted:"ah5",animateHelper:"ah6",eff:"ah7",wrapperElement:"ah8",element:"ah9",innerElement:"aha",text:"ahb",lockIcon:"ahc",button:"ahd",buttonLabel:"ahe",isFocused:"ahf",shake:"ahg","fade-in":"ahh"}},980:function(e,t,n){"use strict";t.a=[{key:1,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:3},backgroundColor:{scolor:"#00b2ff",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"MAKE IT",labelStyle:{color:"#ffffff",fontFamily:"Montserrat",fontSize:13,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(0,0,0,0.4)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!1},{key:2,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:3},backgroundColor:{backgroundRotation:180,gradColors:[{c:"#0089ff",p:"0"},{c:"#00faff",p:"100"}],rgradPos:"center center",scolor:"#3498db",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"MAKE IT",labelStyle:{color:"#ffffff",fontFamily:"Montserrat",fontSize:13,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(0,0,0,0.4)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!1},{key:3,properties:{width:100,height:33,border:{color:"rgba(0, 178, 255, 1)",weight:2,radius:3},labelOffsetY:-2,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"MAKE IT",labelStyle:{color:"#00b2ff",fontFamily:"Montserrat",fontSize:13,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(0,0,0,0.4)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!1},{key:4,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:2},backgroundColor:{scolor:"#04d26b",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"DOWNLOAD",labelStyle:{color:"#ffffff",fontFamily:"Roboto",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!0,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!1},{key:5,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:2},backgroundColor:{backgroundRotation:180,gradColors:[{c:"#04d26b",p:"0"},{c:"#bfe340",p:"100"}],rgradPos:"center center",scolor:"#04d26b",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"DOWNLOAD",labelStyle:{color:"#ffffff",fontFamily:"Roboto",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!0,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!1},{key:6,properties:{width:100,height:33,border:{color:"rgba(4, 210, 107, 1)",weight:2,radius:2},labelOffsetY:-2,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"DOWNLOAD",labelStyle:{color:"#04d26b",fontFamily:"Roboto",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!1},{key:7,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:3},backgroundColor:{scolor:"#8660f6",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"SUBSCRIBE",labelStyle:{color:"#ffffff",fontFamily:"Oswald",fontSize:13,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!1},{key:8,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:3},backgroundColor:{backgroundRotation:360,gradColors:[{c:"#8660f6",p:"0"},{c:"#41a4ff",p:"100"}],rgradPos:"center center",scolor:"#3498db",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"SUBSCRIBE",labelStyle:{color:"#ffffff",fontFamily:"Oswald",fontSize:13,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!1},{key:9,properties:{width:100,height:33,border:{color:"rgba(134, 96, 246, 1)",weight:2,radius:3},labelOffsetY:-2,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"SUBSCRIBE",labelStyle:{color:"#8660f6",fontFamily:"Oswald",fontSize:13,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!1},{key:10,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:4},backgroundColor:{scolor:"#fbb92f",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"Sign up",labelStyle:{color:"#ffffff",fontFamily:"Roboto",fontSize:14,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:11,properties:{width:100,height:33,border:{color:"rgba(238, 134, 0, 1)",weight:1,radius:4},labelOffsetY:0,backgroundColor:{backgroundRotation:90,gradColors:[{c:"#ff960f",p:"0"},{c:"#fbb92f",p:"100"}],rgradPos:"center center",scolor:"#fbb92f",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"Sign up",labelStyle:{color:"#ffffff",fontFamily:"Roboto",fontSize:14,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:12,properties:{width:100,height:33,border:{color:"rgba(251, 185, 47, 1)",weight:2,radius:4},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"Sign up",labelStyle:{color:"#fbb92f",fontFamily:"Roboto",fontSize:14,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:13,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:0},backgroundColor:{scolor:"#ed145b",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"ADD TO CART",labelStyle:{color:"#ffffff",fontFamily:"Oswald",fontSize:12,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:14,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:0},backgroundColor:{backgroundRotation:90,gradColors:[{c:"#c9073d",p:"0"},{c:"#ff3f7e",p:"100"}],rgradPos:"center center",scolor:"#ed145b",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"ADD TO CART",labelStyle:{color:"#ffffff",fontFamily:"Oswald",fontSize:12,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:15,properties:{width:100,height:33,border:{color:"rgba(237, 20, 91, 1)",weight:2,radius:0},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"ADD TO CART",labelStyle:{color:"#ed145b",fontFamily:"Oswald",fontSize:12,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:16,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:1},backgroundColor:{scolor:"#ffffff",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"Submit",labelStyle:{color:"#3e3e3e",fontFamily:"Roboto",fontSize:14,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:20,color:"rgba(0, 0, 0, 0.21)",hShadow:0,spread:0,useShadow:!0,vShadow:10}},premium:!0},{key:17,properties:{width:100,height:33,border:{color:"rgba(230, 230, 230, 1)",weight:0,radius:1},backgroundColor:{backgroundRotation:90,gradColors:[{c:"#e5ebf2",p:"0"},{c:"#ffffff",p:"100"}],rgradPos:"center center",scolor:"#ffffff",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"Submit",labelStyle:{color:"#3e3e3e",fontFamily:"Roboto",fontSize:14,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:20,color:"rgba(0, 0, 0, 0.21)",hShadow:0,spread:0,useShadow:!0,vShadow:10}},premium:!0},{key:18,properties:{width:100,height:33,border:{color:"rgba(221, 229, 237, 1)",weight:2,radius:2},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"Submit",labelStyle:{color:"#dde5ed",fontFamily:"Roboto",fontSize:14,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:19,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:3},backgroundColor:{scolor:"#cfac6a",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"BUY NOW",labelStyle:{color:"#ffffff",fontFamily:"Montserrat",fontSize:12,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(0, 0, 0, 0.4)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:20,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:3},backgroundColor:{backgroundRotation:90,gradColors:[{c:"#e7c78e",p:"0"},{c:"#e7c78e",p:"5"},{c:"#b99559",p:"6"},{c:"#e7c78e",p:"100"}],rgradPos:"center center",scolor:"#3498db",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"BUY NOW",labelStyle:{color:"#ffffff",fontFamily:"Montserrat",fontSize:12,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(0, 0, 0, 0.4)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:21,properties:{width:100,height:33,border:{color:"rgba(207, 172, 106, 1)",weight:2,radius:3},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"BUY NOW",labelStyle:{color:"#cfac6a",fontFamily:"Montserrat",fontSize:12,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(0, 0, 0, 0.4)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:22,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:3},backgroundColor:{scolor:"#ee9ca7",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"Call now",labelStyle:{color:"#ffffff",fontFamily:"Noto Sans",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.7)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:23,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:3},backgroundColor:{backgroundRotation:90,gradColors:[{c:"#ffdde1",p:"4"},{c:"#ee9ca7",p:"5"},{c:"#ee9ca7",p:"37"},{c:"#f5bcc2",p:"100"}],rgradPos:"center center",scolor:"#ffdde1",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"Call now",labelStyle:{color:"#ffffff",fontFamily:"Noto Sans",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.7)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:24,properties:{width:100,height:33,border:{color:"rgba(245, 188, 194, 1)",weight:2,radius:3},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"Call now",labelStyle:{color:"#f5bcc2",fontFamily:"Noto Sans",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.7)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:25,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:2},backgroundColor:{scolor:"#5167bc",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"Like",labelStyle:{color:"#ffffff",fontFamily:"Open Sans",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.7)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:26,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:3},backgroundColor:{backgroundRotation:270,gradColors:[{c:"#5167bc",p:"0"},{c:"#3a549e",p:"100"}],rgradPos:"center center",scolor:"#5167bc",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"Like",labelStyle:{color:"#ffffff",fontFamily:"Open Sans",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.7)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:27,properties:{width:100,height:33,border:{color:"rgba(81, 103, 188, 1)",weight:2,radius:3},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"Like",labelStyle:{color:"#5167bc",fontFamily:"Open Sans",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.7)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:28,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:2},backgroundColor:{scolor:"#212325",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"Buy now",labelStyle:{color:"#ffffff",fontFamily:"Roboto",fontSize:14,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:20,color:"rgba(0, 0, 0, 0.21)",hShadow:0,spread:0,useShadow:!0,vShadow:10}},premium:!0},{key:29,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:3},backgroundColor:{backgroundRotation:90,gradColors:[{c:"#212325",p:"0"},{c:"#313436",p:"100"}],rgradPos:"center center",scolor:"#212325",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"Buy now",labelStyle:{color:"#ffffff",fontFamily:"Roboto",fontSize:14,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:20,color:"rgba(0, 0, 0, 0.21)",hShadow:0,spread:0,useShadow:!0,vShadow:10}},premium:!0},{key:30,properties:{width:100,height:33,border:{color:"rgba(33, 35, 37, 1)",weight:2,radius:2},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"Buy now",labelStyle:{color:"#212325",fontFamily:"Roboto",fontSize:14,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:2,blur:10,color:"rgba(0, 0, 0, 0.2)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:31,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:50},backgroundColor:{scolor:"#005cff",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"Learn more",labelStyle:{color:"#ffffff",fontFamily:"Lato",fontSize:13,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:32,properties:{width:100,height:33,border:{color:"rgba(0, 72, 199, 1)",weight:1,radius:50},labelOffsetY:0,backgroundColor:{backgroundRotation:90,gradColors:[{c:"#005cff",p:"0"},{c:"#3d83ff",p:"100"}],rgradPos:"center center",scolor:"#005cff",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"Learn more",labelStyle:{color:"#ffffff",fontFamily:"Lato",fontSize:13,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:33,properties:{width:100,height:33,border:{color:"rgba(0, 92, 255, 1)",weight:2,radius:50},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"Learn more",labelStyle:{color:"#005cff",fontFamily:"Lato",fontSize:13,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:34,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:50},backgroundColor:{scolor:"#58fff8",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"UPLOAD",labelStyle:{color:"#1b5e64",fontFamily:"Lato",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:35,properties:{width:100,height:33,border:{color:"rgba(0, 72, 199, 1)",weight:0,radius:50},backgroundColor:{backgroundRotation:180,gradColors:[{c:"#bdfffc",p:"22"},{c:"#58fff8",p:"100"}],rgradPos:"center center",scolor:"#58fff8",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"UPLOAD",labelStyle:{color:"#1b5e64",fontFamily:"Lato",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:36,properties:{width:100,height:33,border:{color:"rgba(88, 255, 248, 1)",weight:2,radius:50},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"UPLOAD",labelStyle:{color:"#58fff8",fontFamily:"Lato",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:2,vShadow:2,blur:3,color:"rgba(0, 0, 0, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:37,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:50},backgroundColor:{scolor:"#8a9ca9",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"SEARCH",labelStyle:{color:"#ffffff",fontFamily:"Montserrat",fontSize:12,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!0,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:38,properties:{width:100,height:33,border:{color:"rgba(157, 169, 179, 1)",weight:1,radius:50},labelOffsetY:0,backgroundColor:{backgroundRotation:90,gradColors:[{c:"#8a9ca9",p:"0"},{c:"#c4d0d8",p:"100"}],rgradPos:"center center",scolor:"#8a9ca9",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"SEARCH",labelStyle:{color:"#ffffff",fontFamily:"Montserrat",fontSize:12,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!0,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.6)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:39,properties:{width:100,height:33,border:{color:"rgba(138, 156, 169, 1)",weight:2,radius:50},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"SEARCH",labelStyle:{color:"#8a9ca9",fontFamily:"Montserrat",fontSize:12,fontStyle:"normal",fontWeight:400,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:2,color:"rgba(80, 91, 100, 0.7)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:40,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:50},backgroundColor:{scolor:"#7bc752",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"ADD",labelStyle:{color:"#ffffff",fontFamily:"Lato",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:41,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:50},backgroundColor:{backgroundRotation:90,gradColors:[{c:"#7bc752",p:"0"},{c:"#96d672",p:"100"}],rgradPos:"center center",scolor:"#7bc752",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"ADD",labelStyle:{color:"#ffffff",fontFamily:"Lato",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.6)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:42,properties:{width:100,height:33,border:{color:"rgba(123, 199, 82, 1)",weight:2,radius:50},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"ADD",labelStyle:{color:"#7bc752",fontFamily:"Lato",fontSize:12,fontStyle:"normal",fontWeight:700,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:2,color:"rgba(80, 91, 100, 0.7)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:43,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:50},backgroundColor:{scolor:"#ff753f",type:"solid"},backgroundOverColor:"#3498DB",buttonLabel:"CLOSE",labelStyle:{color:"#ffffff",fontFamily:"Lato",fontSize:12,fontStyle:"normal",fontWeight:900,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.5)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:44,properties:{width:100,height:33,border:{color:"rgba(0, 0, 0, 1)",weight:0,radius:50},backgroundColor:{backgroundRotation:180,gradColors:[{c:"#ff753f",p:"0"},{c:"#ec1e68",p:"100"}],rgradPos:"center center",scolor:"#ff753f",type:"lgrad"},backgroundOverColor:"#3498DB",buttonLabel:"CLOSE",labelStyle:{color:"#ffffff",fontFamily:"Lato",fontSize:12,fontStyle:"normal",fontWeight:900,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:1,color:"rgba(80, 91, 100, 0.6)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0},{key:45,properties:{width:100,height:33,border:{color:"rgba(255, 117, 63, 1)",weight:2,radius:50},labelOffsetY:0,backgroundColor:{type:"none",scolor:"#ffffff"},backgroundOverColor:"#3498DB",buttonLabel:"CLOSE",labelStyle:{color:"#ff753f",fontFamily:"Lato",fontSize:12,fontStyle:"normal",fontWeight:900,fontDesign:"700",letterSpacing:0,fontUrl:null,fontFaceUrl:null,fontType:"google"},labelShadow:{useShadow:!1,hShadow:0,vShadow:1,blur:2,color:"rgba(80, 91, 100, 0.7)"},dropShadow:{blur:3,color:"rgba(102,102,102,0.5)",hShadow:2,spread:0,useShadow:!1,vShadow:2}},premium:!0}]},981:function(e,t,n){e.exports={myImagesContainer:"auf",myImagesImagesList:"aug",dropzoneContainer:"auh",dragging:"aui",dropZoneButton:"auj",dropzone:"auk",canUploadPsd:"aul",dropZoneWrapper:"aum",draggingContainer:"aun",dropZoneContent:"auo",icon:"aup",label:"auq",dropZoneTopLabel:"aur",dropZoneLabel:"aus",info:"aut",dropZoneErrorMessage:"auu","myImages-editor":"auv","myImages-generator":"av0",dragAndDropContent:"av1",uploadImageText:"av2","myImages-background":"av3",uploadRestrictionsText:"av4",breadCrumb:"av5",shake:"av6","fade-in":"av7"}},982:function(e,t,n){e.exports={container:"b5b",darkBlue:"b5c",lightGrey:"b5d",filtersContainer:"b5e",filter:"b5f",imageType:"b5g",active:"b5h",generator:"b5i",text:"b5j",shake:"b5k","fade-in":"b5l"}},983:function(e,t,n){e.exports={container:"b4u",white:"b4v",grey:"b50",generator:"b51",searchImage:"b52",isSearchActive:"b53",selectFolder:"b54",folderIcon:"b55",addPhotos:"b56",imagesModal:"b57",isSelectActive:"b58",shake:"b59","fade-in":"b5a"}},984:function(e,t,n){e.exports={breadCrumbContainer:"b4m",arrows:"b4n",link:"b4o",bold:"b4p",skin_imagesModal:"b4q",skin_generator:"b4r",shake:"b4s","fade-in":"b4t"}},985:function(e,t,n){e.exports={stockPhotosContainer:"au2",searchImage:"au3",stockPhotosImagesList:"au4","stockPhotos-imagesModal":"au5","stockPhotos-generator":"au6","stockPhotos-background":"au7",stockPhotosInfoFooter:"au8",editor:"au9",background:"aua",generator:"aub",searchContainer:"auc",shake:"aud","fade-in":"aue"}},986:function(e,t,n){e.exports={colorPickerGroup:"alc",disabled:"ald",shake:"ale","fade-in":"alf"}},987:function(e,t,n){e.exports={alignTool:"ahi",lineDivHoriz:"ahj",lineDivVert:"ahk",alignControl:"ahl",topLeft:"ahm",centerTop:"ahn",topRight:"aho",middleLeft:"ahp",center:"ahq",middleRight:"ahr",bottomLeft:"ahs",centerBottom:"aht",bottomRight:"ahu",lblue:"ahv",selected:"ai0",blue:"ai1",disabled:"ai2",shake:"ai3","fade-in":"ai4"}},988:function(e,t,n){e.exports={gradientButton:"arb",selected:"arc",linear:"ard",radial:"are",shake:"arf","fade-in":"arg"}},989:function(e,t,n){e.exports={gradientGenerator:"ar4",gradientBar:"ar5",gradientSteps:"ar6",gradientStep:"ar7",selected:"ar8",shake:"ar9","fade-in":"ara"}},990:function(e,t,n){e.exports={tabsContainer:"b30",select:"b31",tab:"b32",selected:"b33",disabled:"b34",showOnlyTooltip:"b35",label:"b36",help:"b37",icon:"b38",isUppercase:"b39",small:"b3a",switch:"b3b",normal:"b3c",blue:"b3d",whiteGrey:"b3e",black:"b3f",topLine:"b3g",large:"b3h",grey:"b3i",bottomLine:"b3j",shake:"b3k","fade-in":"b3l"}},991:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(0),i=n.n(o),l=n(992),s=n.n(l),c=n(471),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onMouseDown=function(e){a.props.preventDefaultOnMouseDown&&e.preventDefault()},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"onTextAlignChange",value:function(e){var t=this.props,n=t.textTransform,a=t.textDecoration,r=t.onChange;switch(e){case"leftAlign":case"centerAlign":case"rightAlign":r({alignment:e.replace("Align","")});break;case"uppercase":case"lowercase":r({textTransform:"none"===n||n!==e?e:"none"});break;case"underline":r({textDecoration:"none"===a?e:"none"})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.alignment,a=t.textTransform,r=t.textDecoration,o=["leftAlign","centerAlign","rightAlign","uppercase","lowercase","underline"].map((function(t){var o=n===t.replace("Align","")||a===t||r===t;return i.a.createElement(c.a,{key:t,icon:t,selected:o,iconSize:"large",inlineBlock:!0,skin:"blue",height:"28px",width:"28px",onClickHandler:function(){e.onTextAlignChange(t)},onMouseDown:e.onMouseDown})}));return i.a.createElement("div",{className:s.a.alignTextGroup},o)}}]),t}(o.Component);p.propTypes={onChange:r.a.func,alignment:r.a.string,textDecoration:r.a.string,textTransform:r.a.string,preventDefaultOnMouseDown:r.a.bool},p.defaultProps={onChange:function(){},alignment:"",textDecoration:"",textTransform:"",preventDefaultOnMouseDown:!1},t.a=p},992:function(e,t,n){e.exports={alignTextGroup:"ap3"}},994:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(0),i=n.n(o),l=n(50),s=n.n(l),c=n(56),u=n(394),d=n(471),p=n(402),f=n(17),h=n(7),m=n(995),b=n.n(m),g=n(612),y=n(387),v=n(440),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var S=s.a.bind(b.a),O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),E(t,[{key:"render",value:function(){var e=this.props,t=e.onApply,n=e.showCancelButton,a=e.onClose,r=e.displaySearchBar,o=e.searchPlaceholder,l=e.onSearch,s=e.searchText,m=e.hasScroll,E=e.children,O=e.title,C=e.hideHeader,w=i.a.createElement(d.a,{icon:"backArrow",width:"28px",height:"28px",size:f.a.MEDIUM,iconSize:f.a.SMEDIUM,skin:h.a.ACTIVE_GREY,onClickHandler:t}),T=n?i.a.createElement(v.a,{skin:h.a.BLUE,size:f.a.NORMAL,onClick:a},y.a.cancel):null,k=r?i.a.createElement("div",{className:b.a.searchBarWrapper},i.a.createElement(g.a,{placeholder:o,onSearch:l,value:s,skin:h.a.WHITE_TWO_PX_BORDER,placement:c.a.GENERATOR})):null,I=m?i.a.createElement(p.a,{skin:h.a.TRANSPARENT_GREY,size:f.a.SMALL,style:{minHeight:"100%"},autoHeight:!1,autoHeightMax:100},E):E,L=C?null:i.a.createElement("div",{className:b.a.header},i.a.createElement("div",{className:b.a.headerLeft},i.a.createElement("div",{className:b.a.leftChild},w),i.a.createElement("div",{className:b.a.rightChild},i.a.createElement(u.a,{label:O,skin:h.a.WHITE,size:f.a.NORMAL}))),i.a.createElement("div",{className:b.a.headerRight},T));return i.a.createElement("div",{className:b.a.itemList},i.a.createElement("div",{className:b.a.headerWrapper},L,k),i.a.createElement("div",{className:S("content",{headerHidden:C})},I))}}]),t}(o.Component);O.propTypes={title:r.a.string,displaySearchBar:r.a.bool,searchPlaceholder:r.a.string,searchText:r.a.string,onSearch:r.a.func,onApply:r.a.func.isRequired,onClose:r.a.func.isRequired,children:r.a.oneOfType([r.a.arrayOf(r.a.node),r.a.node]),showCancelButton:r.a.bool,hasScroll:r.a.bool,hideHeader:r.a.bool},O.defaultProps={title:"",displaySearchBar:!1,searchPlaceholder:y.a.search,searchText:"",onSearch:function(){},children:null,showCancelButton:!1,hasScroll:!0,hideHeader:!1},t.a=O},995:function(e,t,n){e.exports={itemList:"aqk",headerWrapper:"aql",header:"aqm",headerLeft:"aqn",rightChild:"aqo",headerRight:"aqp",searchBarWrapper:"aqq",content:"aqr",headerHidden:"aqs",shake:"aqt","fade-in":"aqu"}},996:function(e,t,n){"use strict";t.a={BRIGHTNESS:"brightness",CONTRAST:"contrast",HUE:"hue",SATURATE:"saturate"}},997:function(e,t,n){"use strict";t.a=[{name:"original",label:"Original",brightness:0,contrast:0,hue:0,saturate:0},{name:"vivid",label:"Vivid",brightness:12,contrast:12,hue:0,saturate:12},{name:"blackAndWhite",label:"Black and White",brightness:10,contrast:-8,hue:0,saturate:-100},{name:"washed",label:"Washed",brightness:5,contrast:-10,hue:0,saturate:-70},{name:"faded",label:"Faded",brightness:10,contrast:-15,hue:10,saturate:-20},{name:"landscape",label:"Landscape",brightness:0,contrast:8,hue:15,saturate:0},{name:"sunset",label:"Sunset",brightness:0,contrast:8,hue:-15,saturate:0},{name:"toy",label:"Toy",brightness:0,contrast:-35,hue:-15,saturate:25},{name:"retro",label:"Retro",brightness:0,contrast:-35,hue:15,saturate:25},{name:"blackburn",label:"Blackburn",brightness:30,contrast:100,hue:0,saturate:-100}]},998:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12,7c1.65,0,2,1.35,2,3H10C10,8.35,10.35,7,12,7Zm4,3c0-2.76-1.24-5-4-5S8,7.24,8,10H7a1,1,0,0,0-1,1v6a1,1, 0,0,0,1,1H17a1,1,0,0,0,1-1V11a1,1,0,0,0-1-1Z"}))},999:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M7.5,10H14c0-1.65-.35-3-2-3a1.67,1.67,0,0,0-1.68,1H8.25A3.71,3.71,0,0,1,12,5c2.76,0,4,2.24,4,5h1a1,1,0,0 ,1,1,1v6a1,1,0,0,1-1,1H7a1,1,0,0,1-1-1V11a1,1,0,0,1,1-1ZM8,16h8V12H8Z"}))}}]);
//# sourceMappingURL=editor.f63a4ef7a5fd4ef05813.js.map